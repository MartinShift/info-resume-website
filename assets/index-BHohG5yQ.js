var hx=Object.defineProperty;var dx=(t,e,n)=>e in t?hx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>dx(t,typeof e!="symbol"?e+"":e,n);function fx(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function px(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xm={exports:{}},aa={},wm={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),gx=Symbol.for("react.portal"),mx=Symbol.for("react.fragment"),_x=Symbol.for("react.strict_mode"),yx=Symbol.for("react.profiler"),vx=Symbol.for("react.provider"),xx=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),Sx=Symbol.for("react.suspense"),Cx=Symbol.for("react.memo"),Ex=Symbol.for("react.lazy"),ef=Symbol.iterator;function bx(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var Sm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cm=Object.assign,Em={};function ms(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||Sm}ms.prototype.isReactComponent={};ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bm(){}bm.prototype=ms.prototype;function lh(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||Sm}var ah=lh.prototype=new bm;ah.constructor=lh;Cm(ah,ms.prototype);ah.isPureReactComponent=!0;var tf=Array.isArray,km=Object.prototype.hasOwnProperty,ch={current:null},Tm={key:!0,ref:!0,__self:!0,__source:!0};function Im(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)km.call(e,i)&&!Tm.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:qr,type:t,key:r,ref:o,props:s,_owner:ch.current}}function kx(t,e){return{$$typeof:qr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uh(t){return typeof t=="object"&&t!==null&&t.$$typeof===qr}function Tx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nf=/\/+/g;function Wa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tx(""+t.key):e.toString(36)}function Ko(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qr:case gx:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Wa(o,0):i,tf(s)?(n="",t!=null&&(n=t.replace(nf,"$&/")+"/"),Ko(s,e,n,"",function(c){return c})):s!=null&&(uh(s)&&(s=kx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",tf(t))for(var l=0;l<t.length;l++){r=t[l];var a=i+Wa(r,l);o+=Ko(r,e,n,a,s)}else if(a=bx(t),typeof a=="function")for(t=a.call(t),l=0;!(r=t.next()).done;)r=r.value,a=i+Wa(r,l++),o+=Ko(r,e,n,a,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function go(t,e,n){if(t==null)return t;var i=[],s=0;return Ko(t,i,"","",function(r){return e.call(n,r,s++)}),i}function Ix(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},Go={transition:null},Px={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Go,ReactCurrentOwner:ch};function Pm(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:go,forEach:function(t,e,n){go(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return go(t,function(){e++}),e},toArray:function(t){return go(t,function(e){return e})||[]},only:function(t){if(!uh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=ms;B.Fragment=mx;B.Profiler=yx;B.PureComponent=lh;B.StrictMode=_x;B.Suspense=Sx;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;B.act=Pm;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Cm({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=ch.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)km.call(e,a)&&!Tm.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:qr,type:t.type,key:s,ref:r,props:i,_owner:o}};B.createContext=function(t){return t={$$typeof:xx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vx,_context:t},t.Consumer=t};B.createElement=Im;B.createFactory=function(t){var e=Im.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:wx,render:t}};B.isValidElement=uh;B.lazy=function(t){return{$$typeof:Ex,_payload:{_status:-1,_result:t},_init:Ix}};B.memo=function(t,e){return{$$typeof:Cx,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=Go.transition;Go.transition={};try{t()}finally{Go.transition=e}};B.unstable_act=Pm;B.useCallback=function(t,e){return Ye.current.useCallback(t,e)};B.useContext=function(t){return Ye.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ye.current.useEffect(t,e)};B.useId=function(){return Ye.current.useId()};B.useImperativeHandle=function(t,e,n){return Ye.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ye.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Ye.current.useReducer(t,e,n)};B.useRef=function(t){return Ye.current.useRef(t)};B.useState=function(t){return Ye.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Ye.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Ye.current.useTransition()};B.version="18.3.1";wm.exports=B;var I=wm.exports;const hh=px(I),Nx=fx({__proto__:null,default:hh},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=I,Rx=Symbol.for("react.element"),Dx=Symbol.for("react.fragment"),Ax=Object.prototype.hasOwnProperty,Ox=Mx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lx={key:!0,ref:!0,__self:!0,__source:!0};function Nm(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Ax.call(e,i)&&!Lx.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Rx,type:t,key:r,ref:o,props:s,_owner:Ox.current}}aa.Fragment=Dx;aa.jsx=Nm;aa.jsxs=Nm;xm.exports=aa;var x=xm.exports,Mm={exports:{}},ct={},Rm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,O){var L=P.length;P.push(O);e:for(;0<L;){var q=L-1>>>1,te=P[q];if(0<s(te,O))P[q]=O,P[L]=te,L=q;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var O=P[0],L=P.pop();if(L!==O){P[0]=L;e:for(var q=0,te=P.length,At=te>>>1;q<At;){var We=2*(q+1)-1,Ut=P[We],He=We+1,po=P[He];if(0>s(Ut,L))He<te&&0>s(po,Ut)?(P[q]=po,P[He]=L,q=He):(P[q]=Ut,P[We]=L,q=We);else if(He<te&&0>s(po,L))P[q]=po,P[He]=L,q=He;else break e}}return O}function s(P,O){var L=P.sortIndex-O.sortIndex;return L!==0?L:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],u=1,h=null,d=3,f=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var O=n(c);O!==null;){if(O.callback===null)i(c);else if(O.startTime<=P)i(c),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(c)}}function w(P){if(_=!1,y(P),!g)if(n(a)!==null)g=!0,fe(S);else{var O=n(c);O!==null&&Re(w,O.startTime-P)}}function S(P,O){g=!1,_&&(_=!1,p(b),b=-1),f=!0;var L=d;try{for(y(O),h=n(a);h!==null&&(!(h.expirationTime>O)||P&&!A());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var te=q(h.expirationTime<=O);O=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(a)&&i(a),y(O)}else i(a);h=n(a)}if(h!==null)var At=!0;else{var We=n(c);We!==null&&Re(w,We.startTime-O),At=!1}return At}finally{h=null,d=L,f=!1}}var C=!1,E=null,b=-1,R=5,M=-1;function A(){return!(t.unstable_now()-M<R)}function W(){if(E!==null){var P=t.unstable_now();M=P;var O=!0;try{O=E(!0,P)}finally{O?_e():(C=!1,E=null)}}else C=!1}var _e;if(typeof m=="function")_e=function(){m(W)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,le=st.port2;st.port1.onmessage=W,_e=function(){le.postMessage(null)}}else _e=function(){v(W,0)};function fe(P){E=P,C||(C=!0,_e())}function Re(P,O){b=v(function(){P(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,fe(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var O=3;break;default:O=d}var L=d;d=O;try{return P()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=d;d=P;try{return O()}finally{d=L}},t.unstable_scheduleCallback=function(P,O,L){var q=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=L+te,P={id:u++,callback:O,priorityLevel:P,startTime:L,expirationTime:te,sortIndex:-1},L>q?(P.sortIndex=L,e(c,P),n(a)===null&&P===n(c)&&(_?(p(b),b=-1):_=!0,Re(w,L-q))):(P.sortIndex=te,e(a,P),g||f||(g=!0,fe(S))),P},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(P){var O=d;return function(){var L=d;d=O;try{return P.apply(this,arguments)}finally{d=L}}}})(Dm);Rm.exports=Dm;var Fx=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=I,at=Fx;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Am=new Set,mr={};function ki(t,e){is(t,e),is(t+"Capture",e)}function is(t,e){for(mr[t]=e,t=0;t<e.length;t++)Am.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=Object.prototype.hasOwnProperty,jx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sf={},rf={};function Bx(t){return Fc.call(rf,t)?!0:Fc.call(sf,t)?!1:jx.test(t)?rf[t]=!0:(sf[t]=!0,!1)}function Wx(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hx(t,e,n,i){if(e===null||typeof e>"u"||Wx(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ke(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var dh=/[\-:]([a-z])/g;function fh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dh,fh);Me[e]=new Ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dh,fh);Me[e]=new Ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dh,fh);Me[e]=new Ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Ke(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function ph(t,e,n,i){var s=Me.hasOwnProperty(e)?Me[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hx(e,n,s,i)&&(n=null),i||s===null?Bx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var cn=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mo=Symbol.for("react.element"),Ri=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),zc=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),mh=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),_h=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),Fm=Symbol.for("react.offscreen"),of=Symbol.iterator;function Is(t){return t===null||typeof t!="object"?null:(t=of&&t[of]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,Ha;function $s(t){if(Ha===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ha=e&&e[1]||""}return`
`+Ha+t}var Va=!1;function Ua(t,e){if(!t||Va)return"";Va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Va=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$s(t):""}function Vx(t){switch(t.tag){case 5:return $s(t.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return t=Ua(t.type,!1),t;case 11:return t=Ua(t.type.render,!1),t;case 1:return t=Ua(t.type,!0),t;default:return""}}function Wc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Ri:return"Portal";case zc:return"Profiler";case gh:return"StrictMode";case jc:return"Suspense";case Bc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lm:return(t.displayName||"Context")+".Consumer";case Om:return(t._context.displayName||"Context")+".Provider";case mh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _h:return e=t.displayName||null,e!==null?e:Wc(t.type)||"Memo";case gn:e=t._payload,t=t._init;try{return Wc(t(e))}catch{}}return null}function Ux(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wc(e);case 8:return e===gh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $x(t){var e=zm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _o(t){t._valueTracker||(t._valueTracker=$x(t))}function jm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=zm(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hc(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lf(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bm(t,e){e=e.checked,e!=null&&ph(t,"checked",e,!1)}function Vc(t,e){Bm(t,e);var n=Bn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uc(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uc(t,e,n){(e!=="number"||hl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ys=Array.isArray;function Yi(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Ys(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function Wm(t,e){var n=Bn(e.value),i=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function uf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yo,Vm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _r(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yx=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){Yx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function Um(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function $m(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Um(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var Kx=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kc(t,e){if(e){if(Kx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Gc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=null;function yh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xc=null,Ki=null,Gi=null;function hf(t){if(t=eo(t)){if(typeof Xc!="function")throw Error(k(280));var e=t.stateNode;e&&(e=fa(e),Xc(t.stateNode,t.type,e))}}function Ym(t){Ki?Gi?Gi.push(t):Gi=[t]:Ki=t}function Km(){if(Ki){var t=Ki,e=Gi;if(Gi=Ki=null,hf(t),e)for(t=0;t<e.length;t++)hf(e[t])}}function Gm(t,e){return t(e)}function Qm(){}var $a=!1;function Xm(t,e,n){if($a)return t(e,n);$a=!0;try{return Gm(t,e,n)}finally{$a=!1,(Ki!==null||Gi!==null)&&(Qm(),Km())}}function yr(t,e){var n=t.stateNode;if(n===null)return null;var i=fa(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var qc=!1;if(nn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){qc=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{qc=!1}function Gx(t,e,n,i,s,r,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Zs=!1,dl=null,fl=!1,Jc=null,Qx={onError:function(t){Zs=!0,dl=t}};function Xx(t,e,n,i,s,r,o,l,a){Zs=!1,dl=null,Gx.apply(Qx,arguments)}function qx(t,e,n,i,s,r,o,l,a){if(Xx.apply(this,arguments),Zs){if(Zs){var c=dl;Zs=!1,dl=null}else throw Error(k(198));fl||(fl=!0,Jc=c)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function df(t){if(Ti(t)!==t)throw Error(k(188))}function Jx(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return df(s),t;if(r===i)return df(s),e;r=r.sibling}throw Error(k(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Jm(t){return t=Jx(t),t!==null?Zm(t):null}function Zm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zm(t);if(e!==null)return e;t=t.sibling}return null}var e_=at.unstable_scheduleCallback,ff=at.unstable_cancelCallback,Zx=at.unstable_shouldYield,ew=at.unstable_requestPaint,pe=at.unstable_now,tw=at.unstable_getCurrentPriorityLevel,vh=at.unstable_ImmediatePriority,t_=at.unstable_UserBlockingPriority,pl=at.unstable_NormalPriority,nw=at.unstable_LowPriority,n_=at.unstable_IdlePriority,ca=null,Wt=null;function iw(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ca,t,void 0,(t.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:ow,sw=Math.log,rw=Math.LN2;function ow(t){return t>>>=0,t===0?32:31-(sw(t)/rw|0)|0}var vo=64,xo=4194304;function Ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gl(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=Ks(l):(r&=o,r!==0&&(i=Ks(r)))}else o=n&~s,o!==0?i=Ks(o):r!==0&&(i=Ks(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Nt(e),s=1<<n,i|=t[n],e&=~s;return i}function lw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aw(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Nt(r),l=1<<o,a=s[o];a===-1?(!(l&n)||l&i)&&(s[o]=lw(l,e)):a<=e&&(t.expiredLanes|=l),r&=~l}}function Zc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i_(){var t=vo;return vo<<=1,!(vo&4194240)&&(vo=64),t}function Ya(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nt(e),t[e]=n}function cw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function xh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Nt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var G=0;function s_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r_,wh,o_,l_,a_,eu=!1,wo=[],En=null,bn=null,kn=null,vr=new Map,xr=new Map,_n=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(t,e){switch(t){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":vr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(e.pointerId)}}function Ns(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=eo(e),e!==null&&wh(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hw(t,e,n,i,s){switch(e){case"focusin":return En=Ns(En,t,e,n,i,s),!0;case"dragenter":return bn=Ns(bn,t,e,n,i,s),!0;case"mouseover":return kn=Ns(kn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return vr.set(r,Ns(vr.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,xr.set(r,Ns(xr.get(r)||null,t,e,n,i,s)),!0}return!1}function c_(t){var e=li(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=qm(n),e!==null){t.blockedOn=e,a_(t.priority,function(){o_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Qc=i,n.target.dispatchEvent(i),Qc=null}else return e=eo(n),e!==null&&wh(e),t.blockedOn=n,!1;e.shift()}return!0}function gf(t,e,n){Qo(t)&&n.delete(e)}function dw(){eu=!1,En!==null&&Qo(En)&&(En=null),bn!==null&&Qo(bn)&&(bn=null),kn!==null&&Qo(kn)&&(kn=null),vr.forEach(gf),xr.forEach(gf)}function Ms(t,e){t.blockedOn===e&&(t.blockedOn=null,eu||(eu=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,dw)))}function wr(t){function e(s){return Ms(s,t)}if(0<wo.length){Ms(wo[0],t);for(var n=1;n<wo.length;n++){var i=wo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(En!==null&&Ms(En,t),bn!==null&&Ms(bn,t),kn!==null&&Ms(kn,t),vr.forEach(e),xr.forEach(e),n=0;n<_n.length;n++)i=_n[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)c_(n),n.blockedOn===null&&_n.shift()}var Qi=cn.ReactCurrentBatchConfig,ml=!0;function fw(t,e,n,i){var s=G,r=Qi.transition;Qi.transition=null;try{G=1,Sh(t,e,n,i)}finally{G=s,Qi.transition=r}}function pw(t,e,n,i){var s=G,r=Qi.transition;Qi.transition=null;try{G=4,Sh(t,e,n,i)}finally{G=s,Qi.transition=r}}function Sh(t,e,n,i){if(ml){var s=tu(t,e,n,i);if(s===null)nc(t,e,i,_l,n),pf(t,i);else if(hw(s,t,e,n,i))i.stopPropagation();else if(pf(t,i),e&4&&-1<uw.indexOf(t)){for(;s!==null;){var r=eo(s);if(r!==null&&r_(r),r=tu(t,e,n,i),r===null&&nc(t,e,i,_l,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else nc(t,e,i,null,n)}}var _l=null;function tu(t,e,n,i){if(_l=null,t=yh(i),t=li(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _l=t,null}function u_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tw()){case vh:return 1;case t_:return 4;case pl:case nw:return 16;case n_:return 536870912;default:return 16}default:return 16}}var vn=null,Ch=null,Xo=null;function h_(){if(Xo)return Xo;var t,e=Ch,n=e.length,i,s="value"in vn?vn.value:vn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Xo=s.slice(t,1<i?1-i:void 0)}function qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function So(){return!0}function mf(){return!1}function ut(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?So:mf,this.isPropagationStopped=mf,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),e}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=ut(_s),Zr=ue({},_s,{view:0,detail:0}),gw=ut(Zr),Ka,Ga,Rs,ua=ue({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(Ka=t.screenX-Rs.screenX,Ga=t.screenY-Rs.screenY):Ga=Ka=0,Rs=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),_f=ut(ua),mw=ue({},ua,{dataTransfer:0}),_w=ut(mw),yw=ue({},Zr,{relatedTarget:0}),Qa=ut(yw),vw=ue({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),xw=ut(vw),ww=ue({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sw=ut(ww),Cw=ue({},_s,{data:0}),yf=ut(Cw),Ew={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kw[t])?!!e[t]:!1}function bh(){return Tw}var Iw=ue({},Zr,{key:function(t){if(t.key){var e=Ew[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(t){return t.type==="keypress"?qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pw=ut(Iw),Nw=ue({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=ut(Nw),Mw=ue({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),Rw=ut(Mw),Dw=ue({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Aw=ut(Dw),Ow=ue({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lw=ut(Ow),Fw=[9,13,27,32],kh=nn&&"CompositionEvent"in window,er=null;nn&&"documentMode"in document&&(er=document.documentMode);var zw=nn&&"TextEvent"in window&&!er,d_=nn&&(!kh||er&&8<er&&11>=er),xf=" ",wf=!1;function f_(t,e){switch(t){case"keyup":return Fw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ai=!1;function jw(t,e){switch(t){case"compositionend":return p_(e);case"keypress":return e.which!==32?null:(wf=!0,xf);case"textInput":return t=e.data,t===xf&&wf?null:t;default:return null}}function Bw(t,e){if(Ai)return t==="compositionend"||!kh&&f_(t,e)?(t=h_(),Xo=Ch=vn=null,Ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d_&&e.locale!=="ko"?null:e.data;default:return null}}var Ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ww[t.type]:e==="textarea"}function g_(t,e,n,i){Ym(i),e=yl(e,"onChange"),0<e.length&&(n=new Eh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var tr=null,Sr=null;function Hw(t){k_(t,0)}function ha(t){var e=Fi(t);if(jm(e))return t}function Vw(t,e){if(t==="change")return e}var m_=!1;if(nn){var Xa;if(nn){var qa="oninput"in document;if(!qa){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),qa=typeof Cf.oninput=="function"}Xa=qa}else Xa=!1;m_=Xa&&(!document.documentMode||9<document.documentMode)}function Ef(){tr&&(tr.detachEvent("onpropertychange",__),Sr=tr=null)}function __(t){if(t.propertyName==="value"&&ha(Sr)){var e=[];g_(e,Sr,t,yh(t)),Xm(Hw,e)}}function Uw(t,e,n){t==="focusin"?(Ef(),tr=e,Sr=n,tr.attachEvent("onpropertychange",__)):t==="focusout"&&Ef()}function $w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ha(Sr)}function Yw(t,e){if(t==="click")return ha(e)}function Kw(t,e){if(t==="input"||t==="change")return ha(e)}function Gw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dt=typeof Object.is=="function"?Object.is:Gw;function Cr(t,e){if(Dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Fc.call(e,s)||!Dt(t[s],e[s]))return!1}return!0}function bf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kf(t,e){var n=bf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bf(n)}}function y_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?y_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v_(){for(var t=window,e=hl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hl(t.document)}return e}function Th(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qw(t){var e=v_(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&y_(n.ownerDocument.documentElement,n)){if(i!==null&&Th(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=kf(n,r);var o=kf(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xw=nn&&"documentMode"in document&&11>=document.documentMode,Oi=null,nu=null,nr=null,iu=!1;function Tf(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||Oi==null||Oi!==hl(i)||(i=Oi,"selectionStart"in i&&Th(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),nr&&Cr(nr,i)||(nr=i,i=yl(nu,"onSelect"),0<i.length&&(e=new Eh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Oi)))}function Co(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionend:Co("Transition","TransitionEnd")},Ja={},x_={};nn&&(x_=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function da(t){if(Ja[t])return Ja[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x_)return Ja[t]=e[n];return t}var w_=da("animationend"),S_=da("animationiteration"),C_=da("animationstart"),E_=da("transitionend"),b_=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(t,e){b_.set(t,e),ki(e,[t])}for(var Za=0;Za<If.length;Za++){var ec=If[Za],qw=ec.toLowerCase(),Jw=ec[0].toUpperCase()+ec.slice(1);Kn(qw,"on"+Jw)}Kn(w_,"onAnimationEnd");Kn(S_,"onAnimationIteration");Kn(C_,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(E_,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function Pf(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,qx(i,e,void 0,t),t.currentTarget=null}function k_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break e;Pf(s,l,c),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break e;Pf(s,l,c),r=a}}}if(fl)throw t=Jc,fl=!1,Jc=null,t}function ne(t,e){var n=e[au];n===void 0&&(n=e[au]=new Set);var i=t+"__bubble";n.has(i)||(T_(e,t,2,!1),n.add(i))}function tc(t,e,n){var i=0;e&&(i|=4),T_(n,t,i,e)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function Er(t){if(!t[Eo]){t[Eo]=!0,Am.forEach(function(n){n!=="selectionchange"&&(Zw.has(n)||tc(n,!1,t),tc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eo]||(e[Eo]=!0,tc("selectionchange",!1,e))}}function T_(t,e,n,i){switch(u_(e)){case 1:var s=fw;break;case 4:s=pw;break;default:s=Sh}n=s.bind(null,e,n,t),s=void 0,!qc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nc(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=li(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue e}l=l.parentNode}}i=i.return}Xm(function(){var c=r,u=yh(n),h=[];e:{var d=b_.get(t);if(d!==void 0){var f=Eh,g=t;switch(t){case"keypress":if(qo(n)===0)break e;case"keydown":case"keyup":f=Pw;break;case"focusin":g="focus",f=Qa;break;case"focusout":g="blur",f=Qa;break;case"beforeblur":case"afterblur":f=Qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Rw;break;case w_:case S_:case C_:f=xw;break;case E_:f=Aw;break;case"scroll":f=gw;break;case"wheel":f=Lw;break;case"copy":case"cut":case"paste":f=Sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vf}var _=(e&4)!==0,v=!_&&t==="scroll",p=_?d!==null?d+"Capture":null:d;_=[];for(var m=c,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=yr(m,p),w!=null&&_.push(br(m,w,y)))),v)break;m=m.return}0<_.length&&(d=new f(d,g,null,n,u),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Qc&&(g=n.relatedTarget||n.fromElement)&&(li(g)||g[sn]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?li(g):null,g!==null&&(v=Ti(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(_=_f,w="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=vf,w="onPointerLeave",p="onPointerEnter",m="pointer"),v=f==null?d:Fi(f),y=g==null?d:Fi(g),d=new _(w,m+"leave",f,n,u),d.target=v,d.relatedTarget=y,w=null,li(u)===c&&(_=new _(p,m+"enter",g,n,u),_.target=y,_.relatedTarget=v,w=_),v=w,f&&g)t:{for(_=f,p=g,m=0,y=_;y;y=Pi(y))m++;for(y=0,w=p;w;w=Pi(w))y++;for(;0<m-y;)_=Pi(_),m--;for(;0<y-m;)p=Pi(p),y--;for(;m--;){if(_===p||p!==null&&_===p.alternate)break t;_=Pi(_),p=Pi(p)}_=null}else _=null;f!==null&&Nf(h,d,f,_,!1),g!==null&&v!==null&&Nf(h,v,g,_,!0)}}e:{if(d=c?Fi(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=Vw;else if(Sf(d))if(m_)S=Kw;else{S=$w;var C=Uw}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Yw);if(S&&(S=S(t,c))){g_(h,S,n,u);break e}C&&C(t,d,c),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Uc(d,"number",d.value)}switch(C=c?Fi(c):window,t){case"focusin":(Sf(C)||C.contentEditable==="true")&&(Oi=C,nu=c,nr=null);break;case"focusout":nr=nu=Oi=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Tf(h,n,u);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":Tf(h,n,u)}var E;if(kh)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ai?f_(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(d_&&n.locale!=="ko"&&(Ai||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ai&&(E=h_()):(vn=u,Ch="value"in vn?vn.value:vn.textContent,Ai=!0)),C=yl(c,b),0<C.length&&(b=new yf(b,t,null,n,u),h.push({event:b,listeners:C}),E?b.data=E:(E=p_(n),E!==null&&(b.data=E)))),(E=zw?jw(t,n):Bw(t,n))&&(c=yl(c,"onBeforeInput"),0<c.length&&(u=new yf("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=E))}k_(h,e)})}function br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yl(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=yr(t,n),r!=null&&i.unshift(br(t,r,s)),r=yr(t,e),r!=null&&i.push(br(t,r,s))),t=t.return}return i}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nf(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&c!==null&&(l=c,s?(a=yr(n,r),a!=null&&o.unshift(br(n,a,l))):s||(a=yr(n,r),a!=null&&o.push(br(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eS=/\r\n?/g,tS=/\u0000|\uFFFD/g;function Mf(t){return(typeof t=="string"?t:""+t).replace(eS,`
`).replace(tS,"")}function bo(t,e,n){if(e=Mf(e),Mf(t)!==e&&n)throw Error(k(425))}function vl(){}var su=null,ru=null;function ou(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lu=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,iS=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(t){return Rf.resolve(null).then(t).catch(sS)}:lu;function sS(t){setTimeout(function(){throw t})}function ic(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),wr(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);wr(e)}function Tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Bt="__reactFiber$"+ys,kr="__reactProps$"+ys,sn="__reactContainer$"+ys,au="__reactEvents$"+ys,rS="__reactListeners$"+ys,oS="__reactHandles$"+ys;function li(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sn]||n[Bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Df(t);t!==null;){if(n=t[Bt])return n;t=Df(t)}return e}t=n,n=t.parentNode}return null}function eo(t){return t=t[Bt]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function fa(t){return t[kr]||null}var cu=[],zi=-1;function Gn(t){return{current:t}}function re(t){0>zi||(t.current=cu[zi],cu[zi]=null,zi--)}function ee(t,e){zi++,cu[zi]=t.current,t.current=e}var Wn={},Be=Gn(Wn),Ze=Gn(!1),_i=Wn;function ss(t,e){var n=t.type.contextTypes;if(!n)return Wn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function et(t){return t=t.childContextTypes,t!=null}function xl(){re(Ze),re(Be)}function Af(t,e,n){if(Be.current!==Wn)throw Error(k(168));ee(Be,e),ee(Ze,n)}function I_(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(k(108,Ux(t)||"Unknown",s));return ue({},n,i)}function wl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wn,_i=Be.current,ee(Be,t),ee(Ze,Ze.current),!0}function Of(t,e,n){var i=t.stateNode;if(!i)throw Error(k(169));n?(t=I_(t,e,_i),i.__reactInternalMemoizedMergedChildContext=t,re(Ze),re(Be),ee(Be,t)):re(Ze),ee(Ze,n)}var Qt=null,pa=!1,sc=!1;function P_(t){Qt===null?Qt=[t]:Qt.push(t)}function lS(t){pa=!0,P_(t)}function Qn(){if(!sc&&Qt!==null){sc=!0;var t=0,e=G;try{var n=Qt;for(G=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Qt=null,pa=!1}catch(s){throw Qt!==null&&(Qt=Qt.slice(t+1)),e_(vh,Qn),s}finally{G=e,sc=!1}}return null}var ji=[],Bi=0,Sl=null,Cl=0,dt=[],ft=0,yi=null,qt=1,Jt="";function ti(t,e){ji[Bi++]=Cl,ji[Bi++]=Sl,Sl=t,Cl=e}function N_(t,e,n){dt[ft++]=qt,dt[ft++]=Jt,dt[ft++]=yi,yi=t;var i=qt;t=Jt;var s=32-Nt(i)-1;i&=~(1<<s),n+=1;var r=32-Nt(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,qt=1<<32-Nt(e)+s|n<<s|i,Jt=r+t}else qt=1<<r|n<<s|i,Jt=t}function Ih(t){t.return!==null&&(ti(t,1),N_(t,1,0))}function Ph(t){for(;t===Sl;)Sl=ji[--Bi],ji[Bi]=null,Cl=ji[--Bi],ji[Bi]=null;for(;t===yi;)yi=dt[--ft],dt[ft]=null,Jt=dt[--ft],dt[ft]=null,qt=dt[--ft],dt[ft]=null}var lt=null,ot=null,oe=!1,Et=null;function M_(t,e){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,ot=Tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yi!==null?{id:qt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,ot=null,!0):!1;default:return!1}}function uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hu(t){if(oe){var e=ot;if(e){var n=e;if(!Lf(t,e)){if(uu(t))throw Error(k(418));e=Tn(n.nextSibling);var i=lt;e&&Lf(t,e)?M_(i,n):(t.flags=t.flags&-4097|2,oe=!1,lt=t)}}else{if(uu(t))throw Error(k(418));t.flags=t.flags&-4097|2,oe=!1,lt=t}}}function Ff(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function ko(t){if(t!==lt)return!1;if(!oe)return Ff(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ou(t.type,t.memoizedProps)),e&&(e=ot)){if(uu(t))throw R_(),Error(k(418));for(;e;)M_(t,e),e=Tn(e.nextSibling)}if(Ff(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=Tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=lt?Tn(t.stateNode.nextSibling):null;return!0}function R_(){for(var t=ot;t;)t=Tn(t.nextSibling)}function rs(){ot=lt=null,oe=!1}function Nh(t){Et===null?Et=[t]:Et.push(t)}var aS=cn.ReactCurrentBatchConfig;function Ds(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var i=n.stateNode}if(!i)throw Error(k(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function To(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zf(t){var e=t._init;return e(t._payload)}function D_(t){function e(p,m){if(t){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function i(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Mn(p,m),p.index=0,p.sibling=null,p}function r(p,m,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,y,w){return m===null||m.tag!==6?(m=hc(y,p.mode,w),m.return=p,m):(m=s(m,y),m.return=p,m)}function a(p,m,y,w){var S=y.type;return S===Di?u(p,m,y.props.children,w,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gn&&zf(S)===m.type)?(w=s(m,y.props),w.ref=Ds(p,m,y),w.return=p,w):(w=sl(y.type,y.key,y.props,null,p.mode,w),w.ref=Ds(p,m,y),w.return=p,w)}function c(p,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=dc(y,p.mode,w),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function u(p,m,y,w,S){return m===null||m.tag!==7?(m=pi(y,p.mode,w,S),m.return=p,m):(m=s(m,y),m.return=p,m)}function h(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hc(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case mo:return y=sl(m.type,m.key,m.props,null,p.mode,y),y.ref=Ds(p,null,m),y.return=p,y;case Ri:return m=dc(m,p.mode,y),m.return=p,m;case gn:var w=m._init;return h(p,w(m._payload),y)}if(Ys(m)||Is(m))return m=pi(m,p.mode,y,null),m.return=p,m;To(p,m)}return null}function d(p,m,y,w){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(p,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mo:return y.key===S?a(p,m,y,w):null;case Ri:return y.key===S?c(p,m,y,w):null;case gn:return S=y._init,d(p,m,S(y._payload),w)}if(Ys(y)||Is(y))return S!==null?null:u(p,m,y,w,null);To(p,y)}return null}function f(p,m,y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,l(m,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mo:return p=p.get(w.key===null?y:w.key)||null,a(m,p,w,S);case Ri:return p=p.get(w.key===null?y:w.key)||null,c(m,p,w,S);case gn:var C=w._init;return f(p,m,y,C(w._payload),S)}if(Ys(w)||Is(w))return p=p.get(y)||null,u(m,p,w,S,null);To(m,w)}return null}function g(p,m,y,w){for(var S=null,C=null,E=m,b=m=0,R=null;E!==null&&b<y.length;b++){E.index>b?(R=E,E=null):R=E.sibling;var M=d(p,E,y[b],w);if(M===null){E===null&&(E=R);break}t&&E&&M.alternate===null&&e(p,E),m=r(M,m,b),C===null?S=M:C.sibling=M,C=M,E=R}if(b===y.length)return n(p,E),oe&&ti(p,b),S;if(E===null){for(;b<y.length;b++)E=h(p,y[b],w),E!==null&&(m=r(E,m,b),C===null?S=E:C.sibling=E,C=E);return oe&&ti(p,b),S}for(E=i(p,E);b<y.length;b++)R=f(E,p,b,y[b],w),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?b:R.key),m=r(R,m,b),C===null?S=R:C.sibling=R,C=R);return t&&E.forEach(function(A){return e(p,A)}),oe&&ti(p,b),S}function _(p,m,y,w){var S=Is(y);if(typeof S!="function")throw Error(k(150));if(y=S.call(y),y==null)throw Error(k(151));for(var C=S=null,E=m,b=m=0,R=null,M=y.next();E!==null&&!M.done;b++,M=y.next()){E.index>b?(R=E,E=null):R=E.sibling;var A=d(p,E,M.value,w);if(A===null){E===null&&(E=R);break}t&&E&&A.alternate===null&&e(p,E),m=r(A,m,b),C===null?S=A:C.sibling=A,C=A,E=R}if(M.done)return n(p,E),oe&&ti(p,b),S;if(E===null){for(;!M.done;b++,M=y.next())M=h(p,M.value,w),M!==null&&(m=r(M,m,b),C===null?S=M:C.sibling=M,C=M);return oe&&ti(p,b),S}for(E=i(p,E);!M.done;b++,M=y.next())M=f(E,p,b,M.value,w),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?b:M.key),m=r(M,m,b),C===null?S=M:C.sibling=M,C=M);return t&&E.forEach(function(W){return e(p,W)}),oe&&ti(p,b),S}function v(p,m,y,w){if(typeof y=="object"&&y!==null&&y.type===Di&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case mo:e:{for(var S=y.key,C=m;C!==null;){if(C.key===S){if(S=y.type,S===Di){if(C.tag===7){n(p,C.sibling),m=s(C,y.props.children),m.return=p,p=m;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gn&&zf(S)===C.type){n(p,C.sibling),m=s(C,y.props),m.ref=Ds(p,C,y),m.return=p,p=m;break e}n(p,C);break}else e(p,C);C=C.sibling}y.type===Di?(m=pi(y.props.children,p.mode,w,y.key),m.return=p,p=m):(w=sl(y.type,y.key,y.props,null,p.mode,w),w.ref=Ds(p,m,y),w.return=p,p=w)}return o(p);case Ri:e:{for(C=y.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=s(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=dc(y,p.mode,w),m.return=p,p=m}return o(p);case gn:return C=y._init,v(p,m,C(y._payload),w)}if(Ys(y))return g(p,m,y,w);if(Is(y))return _(p,m,y,w);To(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,y),m.return=p,p=m):(n(p,m),m=hc(y,p.mode,w),m.return=p,p=m),o(p)):n(p,m)}return v}var os=D_(!0),A_=D_(!1),El=Gn(null),bl=null,Wi=null,Mh=null;function Rh(){Mh=Wi=bl=null}function Dh(t){var e=El.current;re(El),t._currentValue=e}function du(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){bl=t,Mh=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(Mh!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(bl===null)throw Error(k(308));Wi=t,bl.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var ai=null;function Ah(t){ai===null?ai=[t]:ai.push(t)}function O_(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Ah(e)):(n.next=s.next,s.next=n),e.interleaved=n,rn(t,i)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mn=!1;function Oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,V&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,rn(t,n)}return s=i.interleaved,s===null?(e.next=e,Ah(i)):(e.next=s.next,s.next=e),i.interleaved=e,rn(t,n)}function Jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,xh(t,n)}}function jf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kl(t,e,n,i){var s=t.updateQueue;mn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?r=c:o.next=c,o=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(r!==null){var h=s.baseState;o=0,u=c=a=null,l=r;do{var d=l.lane,f=l.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,_=l;switch(d=e,f=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=ue({},h,d);break e;case 2:mn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=f,a=h):u=u.next=f,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);xi|=o,t.lanes=o,t.memoizedState=h}}function Bf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(k(191,s));s.call(i)}}}var to={},Ht=Gn(to),Tr=Gn(to),Ir=Gn(to);function ci(t){if(t===to)throw Error(k(174));return t}function Lh(t,e){switch(ee(Ir,e),ee(Tr,t),ee(Ht,to),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yc(e,t)}re(Ht),ee(Ht,e)}function ls(){re(Ht),re(Tr),re(Ir)}function F_(t){ci(Ir.current);var e=ci(Ht.current),n=Yc(e,t.type);e!==n&&(ee(Tr,t),ee(Ht,n))}function Fh(t){Tr.current===t&&(re(Ht),re(Tr))}var ae=Gn(0);function Tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rc=[];function zh(){for(var t=0;t<rc.length;t++)rc[t]._workInProgressVersionPrimary=null;rc.length=0}var Zo=cn.ReactCurrentDispatcher,oc=cn.ReactCurrentBatchConfig,vi=0,ce=null,ve=null,be=null,Il=!1,ir=!1,Pr=0,cS=0;function De(){throw Error(k(321))}function jh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dt(t[n],e[n]))return!1;return!0}function Bh(t,e,n,i,s,r){if(vi=r,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=t===null||t.memoizedState===null?fS:pS,t=n(i,s),ir){r=0;do{if(ir=!1,Pr=0,25<=r)throw Error(k(301));r+=1,be=ve=null,e.updateQueue=null,Zo.current=gS,t=n(i,s)}while(ir)}if(Zo.current=Pl,e=ve!==null&&ve.next!==null,vi=0,be=ve=ce=null,Il=!1,e)throw Error(k(300));return t}function Wh(){var t=Pr!==0;return Pr=0,t}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ce.memoizedState=be=t:be=be.next=t,be}function yt(){if(ve===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var e=be===null?ce.memoizedState:be.next;if(e!==null)be=e,ve=t;else{if(t===null)throw Error(k(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},be===null?ce.memoizedState=be=t:be=be.next=t}return be}function Nr(t,e){return typeof e=="function"?e(t):e}function lc(t){var e=yt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var i=ve,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,a=null,c=r;do{var u=c.lane;if((vi&u)===u)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=i):a=a.next=h,ce.lanes|=u,xi|=u}c=c.next}while(c!==null&&c!==r);a===null?o=i:a.next=l,Dt(i,e.memoizedState)||(qe=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,ce.lanes|=r,xi|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ac(t){var e=yt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Dt(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function z_(){}function j_(t,e){var n=ce,i=yt(),s=e(),r=!Dt(i.memoizedState,s);if(r&&(i.memoizedState=s,qe=!0),i=i.queue,Hh(H_.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Mr(9,W_.bind(null,n,i,s,e),void 0,null),Ie===null)throw Error(k(349));vi&30||B_(n,e,s)}return s}function B_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function W_(t,e,n,i){e.value=n,e.getSnapshot=i,V_(e)&&U_(t)}function H_(t,e,n){return n(function(){V_(e)&&U_(t)})}function V_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dt(t,n)}catch{return!0}}function U_(t){var e=rn(t,1);e!==null&&Mt(e,t,1,-1)}function Wf(t){var e=zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:t},e.queue=t,t=t.dispatch=dS.bind(null,ce,t),[e.memoizedState,t]}function Mr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function $_(){return yt().memoizedState}function el(t,e,n,i){var s=zt();ce.flags|=t,s.memoizedState=Mr(1|e,n,void 0,i===void 0?null:i)}function ga(t,e,n,i){var s=yt();i=i===void 0?null:i;var r=void 0;if(ve!==null){var o=ve.memoizedState;if(r=o.destroy,i!==null&&jh(i,o.deps)){s.memoizedState=Mr(e,n,r,i);return}}ce.flags|=t,s.memoizedState=Mr(1|e,n,r,i)}function Hf(t,e){return el(8390656,8,t,e)}function Hh(t,e){return ga(2048,8,t,e)}function Y_(t,e){return ga(4,2,t,e)}function K_(t,e){return ga(4,4,t,e)}function G_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q_(t,e,n){return n=n!=null?n.concat([t]):null,ga(4,4,G_.bind(null,e,t),n)}function Vh(){}function X_(t,e){var n=yt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&jh(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function q_(t,e){var n=yt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&jh(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function J_(t,e,n){return vi&21?(Dt(n,e)||(n=i_(),ce.lanes|=n,xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function uS(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var i=oc.transition;oc.transition={};try{t(!1),e()}finally{G=n,oc.transition=i}}function Z_(){return yt().memoizedState}function hS(t,e,n){var i=Nn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ey(t))ty(e,n);else if(n=O_(t,e,n,i),n!==null){var s=$e();Mt(n,t,i,s),ny(n,e,i)}}function dS(t,e,n){var i=Nn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ey(t))ty(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,n);if(s.hasEagerState=!0,s.eagerState=l,Dt(l,o)){var a=e.interleaved;a===null?(s.next=s,Ah(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=O_(t,e,s,i),n!==null&&(s=$e(),Mt(n,t,i,s),ny(n,e,i))}}function ey(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function ty(t,e){ir=Il=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ny(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,xh(t,n)}}var Pl={readContext:_t,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},fS={readContext:_t,useCallback:function(t,e){return zt().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:Hf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,el(4194308,4,G_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return el(4194308,4,t,e)},useInsertionEffect:function(t,e){return el(4,2,t,e)},useMemo:function(t,e){var n=zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=zt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=hS.bind(null,ce,t),[i.memoizedState,t]},useRef:function(t){var e=zt();return t={current:t},e.memoizedState=t},useState:Wf,useDebugValue:Vh,useDeferredValue:function(t){return zt().memoizedState=t},useTransition:function(){var t=Wf(!1),e=t[0];return t=uS.bind(null,t[1]),zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ce,s=zt();if(oe){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Ie===null)throw Error(k(349));vi&30||B_(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Hf(H_.bind(null,i,r,t),[t]),i.flags|=2048,Mr(9,W_.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=zt(),e=Ie.identifierPrefix;if(oe){var n=Jt,i=qt;n=(i&~(1<<32-Nt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pS={readContext:_t,useCallback:X_,useContext:_t,useEffect:Hh,useImperativeHandle:Q_,useInsertionEffect:Y_,useLayoutEffect:K_,useMemo:q_,useReducer:lc,useRef:$_,useState:function(){return lc(Nr)},useDebugValue:Vh,useDeferredValue:function(t){var e=yt();return J_(e,ve.memoizedState,t)},useTransition:function(){var t=lc(Nr)[0],e=yt().memoizedState;return[t,e]},useMutableSource:z_,useSyncExternalStore:j_,useId:Z_,unstable_isNewReconciler:!1},gS={readContext:_t,useCallback:X_,useContext:_t,useEffect:Hh,useImperativeHandle:Q_,useInsertionEffect:Y_,useLayoutEffect:K_,useMemo:q_,useReducer:ac,useRef:$_,useState:function(){return ac(Nr)},useDebugValue:Vh,useDeferredValue:function(t){var e=yt();return ve===null?e.memoizedState=t:J_(e,ve.memoizedState,t)},useTransition:function(){var t=ac(Nr)[0],e=yt().memoizedState;return[t,e]},useMutableSource:z_,useSyncExternalStore:j_,useId:Z_,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ma={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=$e(),s=Nn(t),r=en(i,s);r.payload=e,n!=null&&(r.callback=n),e=In(t,r,s),e!==null&&(Mt(e,t,s,i),Jo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=$e(),s=Nn(t),r=en(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=In(t,r,s),e!==null&&(Mt(e,t,s,i),Jo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$e(),i=Nn(t),s=en(n,i);s.tag=2,e!=null&&(s.callback=e),e=In(t,s,i),e!==null&&(Mt(e,t,i,n),Jo(e,t,i))}};function Vf(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!Cr(n,i)||!Cr(s,r):!0}function iy(t,e,n){var i=!1,s=Wn,r=e.contextType;return typeof r=="object"&&r!==null?r=_t(r):(s=et(e)?_i:Be.current,i=e.contextTypes,r=(i=i!=null)?ss(t,s):Wn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ma,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Uf(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ma.enqueueReplaceState(e,e.state,null)}function pu(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Oh(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=_t(r):(r=et(e)?_i:Be.current,s.context=ss(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(fu(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ma.enqueueReplaceState(s,s.state,null),kl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function as(t,e){try{var n="",i=e;do n+=Vx(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function cc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mS=typeof WeakMap=="function"?WeakMap:Map;function sy(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ml||(Ml=!0,bu=i),gu(t,e)},n}function ry(t,e,n){n=en(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){gu(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){gu(t,e),typeof i!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $f(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new mS;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=NS.bind(null,t,e,n),e.then(t,t))}function Yf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kf(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,In(n,e,1))),n.lanes|=1),t)}var _S=cn.ReactCurrentOwner,qe=!1;function Ve(t,e,n,i){e.child=t===null?A_(e,null,n,i):os(e,t.child,n,i)}function Gf(t,e,n,i,s){n=n.render;var r=e.ref;return Xi(e,s),i=Bh(t,e,n,i,r,s),n=Wh(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(oe&&n&&Ih(e),e.flags|=1,Ve(t,e,i,s),e.child)}function Qf(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!qh(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,oy(t,e,r,i,s)):(t=sl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Cr,n(o,i)&&t.ref===e.ref)return on(t,e,s)}return e.flags|=1,t=Mn(r,i),t.ref=e.ref,t.return=e,e.child=t}function oy(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Cr(r,i)&&t.ref===e.ref)if(qe=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,on(t,e,s)}return mu(t,e,n,i,s)}function ly(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Vi,rt),rt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(Vi,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,ee(Vi,rt),rt|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,ee(Vi,rt),rt|=i;return Ve(t,e,s,n),e.child}function ay(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mu(t,e,n,i,s){var r=et(n)?_i:Be.current;return r=ss(e,r),Xi(e,s),n=Bh(t,e,n,i,r,s),i=Wh(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(oe&&i&&Ih(e),e.flags|=1,Ve(t,e,n,s),e.child)}function Xf(t,e,n,i,s){if(et(n)){var r=!0;wl(e)}else r=!1;if(Xi(e,s),e.stateNode===null)tl(t,e),iy(e,n,i),pu(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_t(c):(c=et(n)?_i:Be.current,c=ss(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==c)&&Uf(e,o,i,c),mn=!1;var d=e.memoizedState;o.state=d,kl(e,i,o,s),a=e.memoizedState,l!==i||d!==a||Ze.current||mn?(typeof u=="function"&&(fu(e,n,u,i),a=e.memoizedState),(l=mn||Vf(e,n,l,i,d,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=c,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,L_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:St(e.type,l),o.props=c,h=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=_t(a):(a=et(n)?_i:Be.current,a=ss(e,a));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Uf(e,o,i,a),mn=!1,d=e.memoizedState,o.state=d,kl(e,i,o,s);var g=e.memoizedState;l!==h||d!==g||Ze.current||mn?(typeof f=="function"&&(fu(e,n,f,i),g=e.memoizedState),(c=mn||Vf(e,n,c,i,d,g,a)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=a,i=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return _u(t,e,n,i,r,s)}function _u(t,e,n,i,s,r){ay(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&Of(e,n,!1),on(t,e,r);i=e.stateNode,_S.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=os(e,t.child,null,r),e.child=os(e,null,l,r)):Ve(t,e,l,r),e.memoizedState=i.state,s&&Of(e,n,!0),e.child}function cy(t){var e=t.stateNode;e.pendingContext?Af(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Af(t,e.context,!1),Lh(t,e.containerInfo)}function qf(t,e,n,i,s){return rs(),Nh(s),e.flags|=256,Ve(t,e,n,i),e.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function vu(t){return{baseLanes:t,cachePool:null,transitions:null}}function uy(t,e,n){var i=e.pendingProps,s=ae.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ee(ae,s&1),t===null)return hu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=va(o,i,0,null),t=pi(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=vu(n),e.memoizedState=yu,t):Uh(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yS(t,e,o,i,l,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Mn(s,a),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Mn(l,r):(r=pi(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?vu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=yu,i}return r=t.child,t=r.sibling,i=Mn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Uh(t,e){return e=va({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Io(t,e,n,i){return i!==null&&Nh(i),os(e,t.child,null,n),t=Uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yS(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=cc(Error(k(422))),Io(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=va({mode:"visible",children:i.children},s,0,null),r=pi(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&os(e,t.child,null,o),e.child.memoizedState=vu(o),e.memoizedState=yu,r);if(!(e.mode&1))return Io(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(k(419)),i=cc(r,i,void 0),Io(t,e,o,i)}if(l=(o&t.childLanes)!==0,qe||l){if(i=Ie,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,rn(t,s),Mt(i,t,s,-1))}return Xh(),i=cc(Error(k(421))),Io(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=MS.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,ot=Tn(s.nextSibling),lt=e,oe=!0,Et=null,t!==null&&(dt[ft++]=qt,dt[ft++]=Jt,dt[ft++]=yi,qt=t.id,Jt=t.overflow,yi=e),e=Uh(e,i.children),e.flags|=4096,e)}function Jf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),du(t.return,e,n)}function uc(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function hy(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Ve(t,e,i.children,n),i=ae.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,n,e);else if(t.tag===19)Jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ee(ae,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Tl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uc(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Tl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uc(e,!0,n,null,r);break;case"together":uc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vS(t,e,n){switch(e.tag){case 3:cy(e),rs();break;case 5:F_(e);break;case 1:et(e.type)&&wl(e);break;case 4:Lh(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;ee(El,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ee(ae,ae.current&1),e.flags|=128,null):n&e.child.childLanes?uy(t,e,n):(ee(ae,ae.current&1),t=on(t,e,n),t!==null?t.sibling:null);ee(ae,ae.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return hy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ae,ae.current),i)break;return null;case 22:case 23:return e.lanes=0,ly(t,e,n)}return on(t,e,n)}var dy,xu,fy,py;dy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xu=function(){};fy=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,ci(Ht.current);var r=null;switch(n){case"input":s=Hc(t,s),i=Hc(t,i),r=[];break;case"select":s=ue({},s,{value:void 0}),i=ue({},i,{value:void 0}),r=[];break;case"textarea":s=$c(t,s),i=$c(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=vl)}Kc(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mr.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var a=i[c];if(l=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(r||(r=[]),r.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ne("scroll",t),r||l===a||(r=[])):(r=r||[]).push(c,a))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};py=function(t,e,n,i){n!==i&&(e.flags|=4)};function As(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function xS(t,e,n){var i=e.pendingProps;switch(Ph(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return et(e.type)&&xl(),Ae(e),null;case 3:return i=e.stateNode,ls(),re(Ze),re(Be),zh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ko(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Et!==null&&(Iu(Et),Et=null))),xu(t,e),Ae(e),null;case 5:Fh(e);var s=ci(Ir.current);if(n=e.type,t!==null&&e.stateNode!=null)fy(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(k(166));return Ae(e),null}if(t=ci(Ht.current),ko(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Bt]=e,i[kr]=r,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",i),ne("close",i);break;case"iframe":case"object":case"embed":ne("load",i);break;case"video":case"audio":for(s=0;s<Gs.length;s++)ne(Gs[s],i);break;case"source":ne("error",i);break;case"img":case"image":case"link":ne("error",i),ne("load",i);break;case"details":ne("toggle",i);break;case"input":lf(i,r),ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ne("invalid",i);break;case"textarea":cf(i,r),ne("invalid",i)}Kc(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&bo(i.textContent,l,t),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&bo(i.textContent,l,t),s=["children",""+l]):mr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ne("scroll",i)}switch(n){case"input":_o(i),af(i,r,!0);break;case"textarea":_o(i),uf(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=vl)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Bt]=e,t[kr]=i,dy(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gc(n,i),n){case"dialog":ne("cancel",t),ne("close",t),s=i;break;case"iframe":case"object":case"embed":ne("load",t),s=i;break;case"video":case"audio":for(s=0;s<Gs.length;s++)ne(Gs[s],t);s=i;break;case"source":ne("error",t),s=i;break;case"img":case"image":case"link":ne("error",t),ne("load",t),s=i;break;case"details":ne("toggle",t),s=i;break;case"input":lf(t,i),s=Hc(t,i),ne("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=ue({},i,{value:void 0}),ne("invalid",t);break;case"textarea":cf(t,i),s=$c(t,i),ne("invalid",t);break;default:s=i}Kc(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?$m(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Vm(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&_r(t,a):typeof a=="number"&&_r(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(mr.hasOwnProperty(r)?a!=null&&r==="onScroll"&&ne("scroll",t):a!=null&&ph(t,r,a,o))}switch(n){case"input":_o(t),af(t,i,!1);break;case"textarea":_o(t),uf(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Bn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Yi(t,!!i.multiple,r,!1):i.defaultValue!=null&&Yi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ae(e),null;case 6:if(t&&e.stateNode!=null)py(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(k(166));if(n=ci(Ir.current),ci(Ht.current),ko(e)){if(i=e.stateNode,n=e.memoizedProps,i[Bt]=e,(r=i.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:bo(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bo(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bt]=e,e.stateNode=i}return Ae(e),null;case 13:if(re(ae),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&ot!==null&&e.mode&1&&!(e.flags&128))R_(),rs(),e.flags|=98560,r=!1;else if(r=ko(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(k(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[Bt]=e}else rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else Et!==null&&(Iu(Et),Et=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?Ce===0&&(Ce=3):Xh())),e.updateQueue!==null&&(e.flags|=4),Ae(e),null);case 4:return ls(),xu(t,e),t===null&&Er(e.stateNode.containerInfo),Ae(e),null;case 10:return Dh(e.type._context),Ae(e),null;case 17:return et(e.type)&&xl(),Ae(e),null;case 19:if(re(ae),r=e.memoizedState,r===null)return Ae(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)As(r,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tl(t),o!==null){for(e.flags|=128,As(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),e.child}t=t.sibling}r.tail!==null&&pe()>cs&&(e.flags|=128,i=!0,As(r,!1),e.lanes=4194304)}else{if(!i)if(t=Tl(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!oe)return Ae(e),null}else 2*pe()-r.renderingStartTime>cs&&n!==1073741824&&(e.flags|=128,i=!0,As(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=pe(),e.sibling=null,n=ae.current,ee(ae,i?n&1|2:n&1),e):(Ae(e),null);case 22:case 23:return Qh(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?rt&1073741824&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function wS(t,e){switch(Ph(e),e.tag){case 1:return et(e.type)&&xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),re(Ze),re(Be),zh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fh(e),null;case 13:if(re(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ae),null;case 4:return ls(),null;case 10:return Dh(e.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var Po=!1,Le=!1,SS=typeof WeakSet=="function"?WeakSet:Set,N=null;function Hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){he(t,e,i)}else n.current=null}function wu(t,e,n){try{n()}catch(i){he(t,e,i)}}var Zf=!1;function CS(t,e){if(su=ml,t=v_(),Th(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==r||i!==0&&h.nodeType!==3||(a=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===s&&(l=o),d===r&&++u===i&&(a=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ru={focusedElem:t,selectionRange:n},ml=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?_:St(e.type,_),v);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(w){he(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return g=Zf,Zf=!1,g}function sr(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&wu(e,n,r)}s=s.next}while(s!==i)}}function _a(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Su(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gy(t){var e=t.alternate;e!==null&&(t.alternate=null,gy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bt],delete e[kr],delete e[au],delete e[rS],delete e[oS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function my(t){return t.tag===5||t.tag===3||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vl));else if(i!==4&&(t=t.child,t!==null))for(Cu(t,e,n),t=t.sibling;t!==null;)Cu(t,e,n),t=t.sibling}function Eu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Eu(t,e,n),t=t.sibling;t!==null;)Eu(t,e,n),t=t.sibling}var Pe=null,Ct=!1;function fn(t,e,n){for(n=n.child;n!==null;)_y(t,e,n),n=n.sibling}function _y(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ca,n)}catch{}switch(n.tag){case 5:Le||Hi(n,e);case 6:var i=Pe,s=Ct;Pe=null,fn(t,e,n),Pe=i,Ct=s,Pe!==null&&(Ct?(t=Pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Ct?(t=Pe,n=n.stateNode,t.nodeType===8?ic(t.parentNode,n):t.nodeType===1&&ic(t,n),wr(t)):ic(Pe,n.stateNode));break;case 4:i=Pe,s=Ct,Pe=n.stateNode.containerInfo,Ct=!0,fn(t,e,n),Pe=i,Ct=s;break;case 0:case 11:case 14:case 15:if(!Le&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&wu(n,e,o),s=s.next}while(s!==i)}fn(t,e,n);break;case 1:if(!Le&&(Hi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){he(n,e,l)}fn(t,e,n);break;case 21:fn(t,e,n);break;case 22:n.mode&1?(Le=(i=Le)||n.memoizedState!==null,fn(t,e,n),Le=i):fn(t,e,n);break;default:fn(t,e,n)}}function tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SS),e.forEach(function(i){var s=RS.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Pe=l.stateNode,Ct=!1;break e;case 3:Pe=l.stateNode.containerInfo,Ct=!0;break e;case 4:Pe=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Pe===null)throw Error(k(160));_y(r,o,s),Pe=null,Ct=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){he(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yy(e,t),e=e.sibling}function yy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Ot(t),i&4){try{sr(3,t,t.return),_a(3,t)}catch(_){he(t,t.return,_)}try{sr(5,t,t.return)}catch(_){he(t,t.return,_)}}break;case 1:wt(e,t),Ot(t),i&512&&n!==null&&Hi(n,n.return);break;case 5:if(wt(e,t),Ot(t),i&512&&n!==null&&Hi(n,n.return),t.flags&32){var s=t.stateNode;try{_r(s,"")}catch(_){he(t,t.return,_)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&Bm(s,r),Gc(l,o);var c=Gc(l,r);for(o=0;o<a.length;o+=2){var u=a[o],h=a[o+1];u==="style"?$m(s,h):u==="dangerouslySetInnerHTML"?Vm(s,h):u==="children"?_r(s,h):ph(s,u,h,c)}switch(l){case"input":Vc(s,r);break;case"textarea":Wm(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Yi(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?Yi(s,!!r.multiple,r.defaultValue,!0):Yi(s,!!r.multiple,r.multiple?[]:"",!1))}s[kr]=r}catch(_){he(t,t.return,_)}}break;case 6:if(wt(e,t),Ot(t),i&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(_){he(t,t.return,_)}}break;case 3:if(wt(e,t),Ot(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(e.containerInfo)}catch(_){he(t,t.return,_)}break;case 4:wt(e,t),Ot(t);break;case 13:wt(e,t),Ot(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Kh=pe())),i&4&&tp(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(c=Le)||u,wt(e,t),Le=c):wt(e,t),Ot(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(N=t,u=t.child;u!==null;){for(h=N=u;N!==null;){switch(d=N,f=d.child,d.tag){case 0:case 11:case 14:case 15:sr(4,d,d.return);break;case 1:Hi(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){he(i,n,_)}}break;case 5:Hi(d,d.return);break;case 22:if(d.memoizedState!==null){ip(h);continue}}f!==null?(f.return=d,N=f):ip(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Um("display",o))}catch(_){he(t,t.return,_)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){he(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(e,t),Ot(t),i&4&&tp(t);break;case 21:break;default:wt(e,t),Ot(t)}}function Ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(my(n)){var i=n;break e}n=n.return}throw Error(k(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(_r(s,""),i.flags&=-33);var r=ep(t);Eu(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=ep(t);Cu(t,l,o);break;default:throw Error(k(161))}}catch(a){he(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ES(t,e,n){N=t,vy(t)}function vy(t,e,n){for(var i=(t.mode&1)!==0;N!==null;){var s=N,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Po;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Le;l=Po;var c=Le;if(Po=o,(Le=a)&&!c)for(N=s;N!==null;)o=N,a=o.child,o.tag===22&&o.memoizedState!==null?sp(s):a!==null?(a.return=o,N=a):sp(s);for(;r!==null;)N=r,vy(r),r=r.sibling;N=s,Po=l,Le=c}np(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,N=r):np(t)}}function np(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||_a(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Le)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Bf(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&wr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Le||e.flags&512&&Su(e)}catch(d){he(e,e.return,d)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function ip(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function sp(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_a(4,e)}catch(a){he(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){he(e,s,a)}}var r=e.return;try{Su(e)}catch(a){he(e,r,a)}break;case 5:var o=e.return;try{Su(e)}catch(a){he(e,o,a)}}}catch(a){he(e,e.return,a)}if(e===t){N=null;break}var l=e.sibling;if(l!==null){l.return=e.return,N=l;break}N=e.return}}var bS=Math.ceil,Nl=cn.ReactCurrentDispatcher,$h=cn.ReactCurrentOwner,mt=cn.ReactCurrentBatchConfig,V=0,Ie=null,ye=null,Ne=0,rt=0,Vi=Gn(0),Ce=0,Rr=null,xi=0,ya=0,Yh=0,rr=null,Qe=null,Kh=0,cs=1/0,Gt=null,Ml=!1,bu=null,Pn=null,No=!1,xn=null,Rl=0,or=0,ku=null,nl=-1,il=0;function $e(){return V&6?pe():nl!==-1?nl:nl=pe()}function Nn(t){return t.mode&1?V&2&&Ne!==0?Ne&-Ne:aS.transition!==null?(il===0&&(il=i_()),il):(t=G,t!==0||(t=window.event,t=t===void 0?16:u_(t.type)),t):1}function Mt(t,e,n,i){if(50<or)throw or=0,ku=null,Error(k(185));Jr(t,n,i),(!(V&2)||t!==Ie)&&(t===Ie&&(!(V&2)&&(ya|=n),Ce===4&&yn(t,Ne)),tt(t,i),n===1&&V===0&&!(e.mode&1)&&(cs=pe()+500,pa&&Qn()))}function tt(t,e){var n=t.callbackNode;aw(t,e);var i=gl(t,t===Ie?Ne:0);if(i===0)n!==null&&ff(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&ff(n),e===1)t.tag===0?lS(rp.bind(null,t)):P_(rp.bind(null,t)),iS(function(){!(V&6)&&Qn()}),n=null;else{switch(s_(i)){case 1:n=vh;break;case 4:n=t_;break;case 16:n=pl;break;case 536870912:n=n_;break;default:n=pl}n=Ty(n,xy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xy(t,e){if(nl=-1,il=0,V&6)throw Error(k(327));var n=t.callbackNode;if(qi()&&t.callbackNode!==n)return null;var i=gl(t,t===Ie?Ne:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Dl(t,i);else{e=i;var s=V;V|=2;var r=Sy();(Ie!==t||Ne!==e)&&(Gt=null,cs=pe()+500,fi(t,e));do try{IS();break}catch(l){wy(t,l)}while(!0);Rh(),Nl.current=r,V=s,ye!==null?e=0:(Ie=null,Ne=0,e=Ce)}if(e!==0){if(e===2&&(s=Zc(t),s!==0&&(i=s,e=Tu(t,s))),e===1)throw n=Rr,fi(t,0),yn(t,i),tt(t,pe()),n;if(e===6)yn(t,i);else{if(s=t.current.alternate,!(i&30)&&!kS(s)&&(e=Dl(t,i),e===2&&(r=Zc(t),r!==0&&(i=r,e=Tu(t,r))),e===1))throw n=Rr,fi(t,0),yn(t,i),tt(t,pe()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(k(345));case 2:ni(t,Qe,Gt);break;case 3:if(yn(t,i),(i&130023424)===i&&(e=Kh+500-pe(),10<e)){if(gl(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){$e(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lu(ni.bind(null,t,Qe,Gt),e);break}ni(t,Qe,Gt);break;case 4:if(yn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Nt(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=pe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bS(i/1960))-i,10<i){t.timeoutHandle=lu(ni.bind(null,t,Qe,Gt),i);break}ni(t,Qe,Gt);break;case 5:ni(t,Qe,Gt);break;default:throw Error(k(329))}}}return tt(t,pe()),t.callbackNode===n?xy.bind(null,t):null}function Tu(t,e){var n=rr;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=Dl(t,e),t!==2&&(e=Qe,Qe=n,e!==null&&Iu(e)),t}function Iu(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function kS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Dt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yn(t,e){for(e&=~Yh,e&=~ya,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nt(e),i=1<<n;t[n]=-1,e&=~i}}function rp(t){if(V&6)throw Error(k(327));qi();var e=gl(t,0);if(!(e&1))return tt(t,pe()),null;var n=Dl(t,e);if(t.tag!==0&&n===2){var i=Zc(t);i!==0&&(e=i,n=Tu(t,i))}if(n===1)throw n=Rr,fi(t,0),yn(t,e),tt(t,pe()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,Qe,Gt),tt(t,pe()),null}function Gh(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(cs=pe()+500,pa&&Qn())}}function wi(t){xn!==null&&xn.tag===0&&!(V&6)&&qi();var e=V;V|=1;var n=mt.transition,i=G;try{if(mt.transition=null,G=1,t)return t()}finally{G=i,mt.transition=n,V=e,!(V&6)&&Qn()}}function Qh(){rt=Vi.current,re(Vi)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nS(n)),ye!==null)for(n=ye.return;n!==null;){var i=n;switch(Ph(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xl();break;case 3:ls(),re(Ze),re(Be),zh();break;case 5:Fh(i);break;case 4:ls();break;case 13:re(ae);break;case 19:re(ae);break;case 10:Dh(i.type._context);break;case 22:case 23:Qh()}n=n.return}if(Ie=t,ye=t=Mn(t.current,null),Ne=rt=e,Ce=0,Rr=null,Yh=ya=xi=0,Qe=rr=null,ai!==null){for(e=0;e<ai.length;e++)if(n=ai[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}ai=null}return t}function wy(t,e){do{var n=ye;try{if(Rh(),Zo.current=Pl,Il){for(var i=ce.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Il=!1}if(vi=0,be=ve=ce=null,ir=!1,Pr=0,$h.current=null,n===null||n.return===null){Ce=1,Rr=e,ye=null;break}e:{var r=t,o=n.return,l=n,a=e;if(e=Ne,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Yf(o);if(f!==null){f.flags&=-257,Kf(f,o,l,r,e),f.mode&1&&$f(r,c,e),e=f,a=c;var g=e.updateQueue;if(g===null){var _=new Set;_.add(a),e.updateQueue=_}else g.add(a);break e}else{if(!(e&1)){$f(r,c,e),Xh();break e}a=Error(k(426))}}else if(oe&&l.mode&1){var v=Yf(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Kf(v,o,l,r,e),Nh(as(a,l));break e}}r=a=as(a,l),Ce!==4&&(Ce=2),rr===null?rr=[r]:rr.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=sy(r,a,e);jf(r,p);break e;case 1:l=a;var m=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pn===null||!Pn.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=ry(r,l,e);jf(r,w);break e}}r=r.return}while(r!==null)}Ey(n)}catch(S){e=S,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function Sy(){var t=Nl.current;return Nl.current=Pl,t===null?Pl:t}function Xh(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ie===null||!(xi&268435455)&&!(ya&268435455)||yn(Ie,Ne)}function Dl(t,e){var n=V;V|=2;var i=Sy();(Ie!==t||Ne!==e)&&(Gt=null,fi(t,e));do try{TS();break}catch(s){wy(t,s)}while(!0);if(Rh(),V=n,Nl.current=i,ye!==null)throw Error(k(261));return Ie=null,Ne=0,Ce}function TS(){for(;ye!==null;)Cy(ye)}function IS(){for(;ye!==null&&!Zx();)Cy(ye)}function Cy(t){var e=ky(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?Ey(t):ye=e,$h.current=null}function Ey(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wS(n,e),n!==null){n.flags&=32767,ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,ye=null;return}}else if(n=xS(n,e,rt),n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);Ce===0&&(Ce=5)}function ni(t,e,n){var i=G,s=mt.transition;try{mt.transition=null,G=1,PS(t,e,n,i)}finally{mt.transition=s,G=i}return null}function PS(t,e,n,i){do qi();while(xn!==null);if(V&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(cw(t,r),t===Ie&&(ye=Ie=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||No||(No=!0,Ty(pl,function(){return qi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=mt.transition,mt.transition=null;var o=G;G=1;var l=V;V|=4,$h.current=null,CS(t,n),yy(n,t),Qw(ru),ml=!!su,ru=su=null,t.current=n,ES(n),ew(),V=l,G=o,mt.transition=r}else t.current=n;if(No&&(No=!1,xn=t,Rl=s),r=t.pendingLanes,r===0&&(Pn=null),iw(n.stateNode),tt(t,pe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ml)throw Ml=!1,t=bu,bu=null,t;return Rl&1&&t.tag!==0&&qi(),r=t.pendingLanes,r&1?t===ku?or++:(or=0,ku=t):or=0,Qn(),null}function qi(){if(xn!==null){var t=s_(Rl),e=mt.transition,n=G;try{if(mt.transition=null,G=16>t?16:t,xn===null)var i=!1;else{if(t=xn,xn=null,Rl=0,V&6)throw Error(k(331));var s=V;for(V|=4,N=t.current;N!==null;){var r=N,o=r.child;if(N.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(N=c;N!==null;){var u=N;switch(u.tag){case 0:case 11:case 15:sr(8,u,r)}var h=u.child;if(h!==null)h.return=u,N=h;else for(;N!==null;){u=N;var d=u.sibling,f=u.return;if(gy(u),u===c){N=null;break}if(d!==null){d.return=f,N=d;break}N=f}}}var g=r.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}N=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,N=o;else e:for(;N!==null;){if(r=N,r.flags&2048)switch(r.tag){case 0:case 11:case 15:sr(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,N=p;break e}N=r.return}}var m=t.current;for(N=m;N!==null;){o=N;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,N=y;else e:for(o=m;N!==null;){if(l=N,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_a(9,l)}}catch(S){he(l,l.return,S)}if(l===o){N=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,N=w;break e}N=l.return}}if(V=s,Qn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ca,t)}catch{}i=!0}return i}finally{G=n,mt.transition=e}}return!1}function op(t,e,n){e=as(n,e),e=sy(t,e,1),t=In(t,e,1),e=$e(),t!==null&&(Jr(t,1,e),tt(t,e))}function he(t,e,n){if(t.tag===3)op(t,t,n);else for(;e!==null;){if(e.tag===3){op(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Pn===null||!Pn.has(i))){t=as(n,t),t=ry(e,t,1),e=In(e,t,1),t=$e(),e!==null&&(Jr(e,1,t),tt(e,t));break}}e=e.return}}function NS(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Ne&n)===n&&(Ce===4||Ce===3&&(Ne&130023424)===Ne&&500>pe()-Kh?fi(t,0):Yh|=n),tt(t,e)}function by(t,e){e===0&&(t.mode&1?(e=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):e=1);var n=$e();t=rn(t,e),t!==null&&(Jr(t,e,n),tt(t,n))}function MS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),by(t,n)}function RS(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(k(314))}i!==null&&i.delete(e),by(t,n)}var ky;ky=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ze.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,vS(t,e,n);qe=!!(t.flags&131072)}else qe=!1,oe&&e.flags&1048576&&N_(e,Cl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;tl(t,e),t=e.pendingProps;var s=ss(e,Be.current);Xi(e,n),s=Bh(null,e,i,t,s,n);var r=Wh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,et(i)?(r=!0,wl(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Oh(e),s.updater=ma,e.stateNode=s,s._reactInternals=e,pu(e,i,t,n),e=_u(null,e,i,!0,r,n)):(e.tag=0,oe&&r&&Ih(e),Ve(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(tl(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=AS(i),t=St(i,t),s){case 0:e=mu(null,e,i,t,n);break e;case 1:e=Xf(null,e,i,t,n);break e;case 11:e=Gf(null,e,i,t,n);break e;case 14:e=Qf(null,e,i,St(i.type,t),n);break e}throw Error(k(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),mu(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Xf(t,e,i,s,n);case 3:e:{if(cy(e),t===null)throw Error(k(387));i=e.pendingProps,r=e.memoizedState,s=r.element,L_(t,e),kl(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=as(Error(k(423)),e),e=qf(t,e,i,n,s);break e}else if(i!==s){s=as(Error(k(424)),e),e=qf(t,e,i,n,s);break e}else for(ot=Tn(e.stateNode.containerInfo.firstChild),lt=e,oe=!0,Et=null,n=A_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),i===s){e=on(t,e,n);break e}Ve(t,e,i,n)}e=e.child}return e;case 5:return F_(e),t===null&&hu(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,ou(i,s)?o=null:r!==null&&ou(i,r)&&(e.flags|=32),ay(t,e),Ve(t,e,o,n),e.child;case 6:return t===null&&hu(e),null;case 13:return uy(t,e,n);case 4:return Lh(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=os(e,null,i,n):Ve(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),Gf(t,e,i,s,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,ee(El,i._currentValue),i._currentValue=o,r!==null)if(Dt(r.value,o)){if(r.children===s.children&&!Ze.current){e=on(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=en(-1,n&-n),a.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?a.next=a:(a.next=u.next,u.next=a),c.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),du(r.return,n,e),l.lanes|=n;break}a=a.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),du(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Xi(e,n),s=_t(s),i=i(s),e.flags|=1,Ve(t,e,i,n),e.child;case 14:return i=e.type,s=St(i,e.pendingProps),s=St(i.type,s),Qf(t,e,i,s,n);case 15:return oy(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:St(i,s),tl(t,e),e.tag=1,et(i)?(t=!0,wl(e)):t=!1,Xi(e,n),iy(e,i,s),pu(e,i,s,n),_u(null,e,i,!0,t,n);case 19:return hy(t,e,n);case 22:return ly(t,e,n)}throw Error(k(156,e.tag))};function Ty(t,e){return e_(t,e)}function DS(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,i){return new DS(t,e,n,i)}function qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AS(t){if(typeof t=="function")return qh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mh)return 11;if(t===_h)return 14}return 2}function Mn(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sl(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")qh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Di:return pi(n.children,s,r,e);case gh:o=8,s|=8;break;case zc:return t=pt(12,n,e,s|2),t.elementType=zc,t.lanes=r,t;case jc:return t=pt(13,n,e,s),t.elementType=jc,t.lanes=r,t;case Bc:return t=pt(19,n,e,s),t.elementType=Bc,t.lanes=r,t;case Fm:return va(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Om:o=10;break e;case Lm:o=9;break e;case mh:o=11;break e;case _h:o=14;break e;case gn:o=16,i=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=pt(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function pi(t,e,n,i){return t=pt(7,t,i,e),t.lanes=n,t}function va(t,e,n,i){return t=pt(22,t,i,e),t.elementType=Fm,t.lanes=n,t.stateNode={isHidden:!1},t}function hc(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function dc(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OS(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jh(t,e,n,i,s,r,o,l,a){return t=new OS(t,e,n,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=pt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oh(r),t}function LS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ri,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Iy(t){if(!t)return Wn;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(et(n))return I_(t,n,e)}return e}function Py(t,e,n,i,s,r,o,l,a){return t=Jh(n,i,!0,t,s,r,o,l,a),t.context=Iy(null),n=t.current,i=$e(),s=Nn(n),r=en(i,s),r.callback=e??null,In(n,r,s),t.current.lanes=s,Jr(t,s,i),tt(t,i),t}function xa(t,e,n,i){var s=e.current,r=$e(),o=Nn(s);return n=Iy(n),e.context===null?e.context=n:e.pendingContext=n,e=en(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=In(s,e,o),t!==null&&(Mt(t,s,o,r),Jo(t,s,o)),o}function Al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zh(t,e){lp(t,e),(t=t.alternate)&&lp(t,e)}function FS(){return null}var Ny=typeof reportError=="function"?reportError:function(t){console.error(t)};function ed(t){this._internalRoot=t}wa.prototype.render=ed.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));xa(t,e,null,null)};wa.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wi(function(){xa(null,t,null,null)}),e[sn]=null}};function wa(t){this._internalRoot=t}wa.prototype.unstable_scheduleHydration=function(t){if(t){var e=l_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&c_(t)}};function td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function zS(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Al(o);r.call(c)}}var o=Py(e,i,t,0,null,!1,!1,"",ap);return t._reactRootContainer=o,t[sn]=o.current,Er(t.nodeType===8?t.parentNode:t),wi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var c=Al(a);l.call(c)}}var a=Jh(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=a,t[sn]=a.current,Er(t.nodeType===8?t.parentNode:t),wi(function(){xa(e,a,n,i)}),a}function Ca(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=Al(o);l.call(a)}}xa(e,o,t,s)}else o=zS(n,e,t,s,i);return Al(o)}r_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ks(e.pendingLanes);n!==0&&(xh(e,n|1),tt(e,pe()),!(V&6)&&(cs=pe()+500,Qn()))}break;case 13:wi(function(){var i=rn(t,1);if(i!==null){var s=$e();Mt(i,t,1,s)}}),Zh(t,1)}};wh=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=$e();Mt(e,t,134217728,n)}Zh(t,134217728)}};o_=function(t){if(t.tag===13){var e=Nn(t),n=rn(t,e);if(n!==null){var i=$e();Mt(n,t,e,i)}Zh(t,e)}};l_=function(){return G};a_=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Xc=function(t,e,n){switch(e){case"input":if(Vc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=fa(i);if(!s)throw Error(k(90));jm(i),Vc(i,s)}}}break;case"textarea":Wm(t,n);break;case"select":e=n.value,e!=null&&Yi(t,!!n.multiple,e,!1)}};Gm=Gh;Qm=wi;var jS={usingClientEntryPoint:!1,Events:[eo,Fi,fa,Ym,Km,Gh]},Os={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BS={bundleType:Os.bundleType,version:Os.version,rendererPackageName:Os.rendererPackageName,rendererConfig:Os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jm(t),t===null?null:t.stateNode},findFiberByHostInstance:Os.findFiberByHostInstance||FS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{ca=Mo.inject(BS),Wt=Mo}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jS;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!td(e))throw Error(k(200));return LS(t,e,null,n)};ct.createRoot=function(t,e){if(!td(t))throw Error(k(299));var n=!1,i="",s=Ny;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jh(t,1,!1,null,null,n,!1,i,s),t[sn]=e.current,Er(t.nodeType===8?t.parentNode:t),new ed(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Jm(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return wi(t)};ct.hydrate=function(t,e,n){if(!Sa(e))throw Error(k(200));return Ca(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!td(t))throw Error(k(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Ny;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Py(e,null,t,1,n??null,s,!1,r,o),t[sn]=e.current,Er(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wa(e)};ct.render=function(t,e,n){if(!Sa(e))throw Error(k(200));return Ca(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!Sa(t))throw Error(k(40));return t._reactRootContainer?(wi(function(){Ca(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1};ct.unstable_batchedUpdates=Gh;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Sa(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Ca(t,e,n,!1,i)};ct.version="18.3.1-next-f1338f8080-20240426";function My(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(My)}catch(t){console.error(t)}}My(),Mm.exports=ct;var WS=Mm.exports,Ry,cp=WS;Ry=cp.createRoot,cp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dr(){return Dr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dr.apply(this,arguments)}var wn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wn||(wn={}));const up="popstate";function HS(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:o,hash:l}=i.location;return Pu("",{pathname:r,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ol(s)}return US(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substr(2,8)}function hp(t,e){return{usr:t.state,key:t.key,idx:e}}function Pu(t,e,n,i){return n===void 0&&(n=null),Dr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||i||VS()})}function Ol(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function US(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,l=wn.Pop,a=null,c=u();c==null&&(c=0,o.replaceState(Dr({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=wn.Pop;let v=u(),p=v==null?null:v-c;c=v,a&&a({action:l,location:_.location,delta:p})}function d(v,p){l=wn.Push;let m=Pu(_.location,v,p);c=u()+1;let y=hp(m,c),w=_.createHref(m);try{o.pushState(y,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}r&&a&&a({action:l,location:_.location,delta:1})}function f(v,p){l=wn.Replace;let m=Pu(_.location,v,p);c=u();let y=hp(m,c),w=_.createHref(m);o.replaceState(y,"",w),r&&a&&a({action:l,location:_.location,delta:0})}function g(v){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof v=="string"?v:Ol(v);return m=m.replace(/ $/,"%20"),me(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let _={get action(){return l},get location(){return t(s,o)},listen(v){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(up,h),a=v,()=>{s.removeEventListener(up,h),a=null}},createHref(v){return e(s,v)},createURL:g,encodeLocation(v){let p=g(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(v){return o.go(v)}};return _}var dp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dp||(dp={}));function $S(t,e,n){return n===void 0&&(n="/"),YS(t,e,n)}function YS(t,e,n,i){let s=typeof e=="string"?vs(e):e,r=nd(s.pathname||"/",n);if(r==null)return null;let o=Ay(t);KS(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let c=rC(r);l=nC(o[a],c)}return l}function Ay(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,o,l)=>{let a={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};a.relativePath.startsWith("/")&&(me(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(i.length));let c=Rn([i,a.relativePath]),u=n.concat(a);r.children&&r.children.length>0&&(me(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ay(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:eC(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))s(r,o);else for(let a of Oy(r.path))s(r,o,a)}),e}function Oy(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=Oy(i.join("/")),l=[];return l.push(...o.map(a=>a===""?r:[r,a].join("/"))),s&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function KS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const GS=/^:[\w-]+$/,QS=3,XS=2,qS=1,JS=10,ZS=-2,fp=t=>t==="*";function eC(t,e){let n=t.split("/"),i=n.length;return n.some(fp)&&(i+=ZS),e&&(i+=XS),n.filter(s=>!fp(s)).reduce((s,r)=>s+(GS.test(r)?QS:r===""?qS:JS),i)}function tC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function nC(t,e,n){let{routesMeta:i}=t,s={},r="/",o=[];for(let l=0;l<i.length;++l){let a=i[l],c=l===i.length-1,u=r==="/"?e:e.slice(r.length)||"/",h=iC({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},u),d=a.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Rn([r,h.pathname]),pathnameBase:cC(Rn([r,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(r=Rn([r,h.pathnameBase]))}return o}function iC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=sC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let _=l[h]||"";o=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function sC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(i.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function rC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function oC(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:lC(n,e):e,search:uC(i),hash:hC(s)}}function lC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function fc(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function id(t,e){let n=aC(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function sd(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=vs(t):(s=Dr({},t),me(!s.pathname||!s.pathname.includes("?"),fc("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),fc("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),fc("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}l=h>=0?e[h]:"/"}let a=oC(s,l),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||u)&&(a.pathname+="/"),a}const Rn=t=>t.join("/").replace(/\/\/+/g,"/"),cC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ly=["post","put","patch","delete"];new Set(Ly);const fC=["get",...Ly];new Set(fC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ar(){return Ar=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ar.apply(this,arguments)}const rd=I.createContext(null),pC=I.createContext(null),Xn=I.createContext(null),Ea=I.createContext(null),un=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Fy=I.createContext(null);function gC(t,e){let{relative:n}=e===void 0?{}:e;xs()||me(!1);let{basename:i,navigator:s}=I.useContext(Xn),{hash:r,pathname:o,search:l}=By(t,{relative:n}),a=o;return i!=="/"&&(a=o==="/"?i:Rn([i,o])),s.createHref({pathname:a,search:l,hash:r})}function xs(){return I.useContext(Ea)!=null}function no(){return xs()||me(!1),I.useContext(Ea).location}function zy(t){I.useContext(Xn).static||I.useLayoutEffect(t)}function jy(){let{isDataRoute:t}=I.useContext(un);return t?PC():mC()}function mC(){xs()||me(!1);let t=I.useContext(rd),{basename:e,future:n,navigator:i}=I.useContext(Xn),{matches:s}=I.useContext(un),{pathname:r}=no(),o=JSON.stringify(id(s,n.v7_relativeSplatPath)),l=I.useRef(!1);return zy(()=>{l.current=!0}),I.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){i.go(c);return}let h=sd(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Rn([e,h.pathname])),(u.replace?i.replace:i.push)(h,u.state,u)},[e,i,o,r,t])}function _C(){let{matches:t}=I.useContext(un),e=t[t.length-1];return e?e.params:{}}function By(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=I.useContext(Xn),{matches:s}=I.useContext(un),{pathname:r}=no(),o=JSON.stringify(id(s,i.v7_relativeSplatPath));return I.useMemo(()=>sd(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function yC(t,e){return vC(t,e)}function vC(t,e,n,i){xs()||me(!1);let{navigator:s,static:r}=I.useContext(Xn),{matches:o}=I.useContext(un),l=o[o.length-1],a=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=no(),h;if(e){var d;let p=typeof e=="string"?vs(e):e;c==="/"||(d=p.pathname)!=null&&d.startsWith(c)||me(!1),h=p}else h=u;let f=h.pathname||"/",g=f;if(c!=="/"){let p=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(p.length).join("/")}let _=$S(t,{pathname:g}),v=EC(_&&_.map(p=>Object.assign({},p,{params:Object.assign({},a,p.params),pathname:Rn([c,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:Rn([c,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,i);return e&&v?I.createElement(Ea.Provider,{value:{location:Ar({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:wn.Pop}},v):v}function xC(){let t=IC(),e=dC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const wC=I.createElement(xC,null);class SC extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(un.Provider,{value:this.props.routeContext},I.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CC(t){let{routeContext:e,match:n,children:i}=t,s=I.useContext(rd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(un.Provider,{value:e},i)}function EC(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||me(!1),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:f}=n,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){a=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let f,g=!1,_=null,v=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,_=h.route.errorElement||wC,a&&(c<0&&d===0?(NC("route-fallback"),g=!0,v=null):c===d&&(g=!0,v=h.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,d+1)),m=()=>{let y;return f?y=_:g?y=v:h.route.Component?y=I.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,I.createElement(CC,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?I.createElement(SC,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var Wy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Wy||{}),Hy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hy||{});function bC(t){let e=I.useContext(rd);return e||me(!1),e}function kC(t){let e=I.useContext(pC);return e||me(!1),e}function TC(t){let e=I.useContext(un);return e||me(!1),e}function Vy(t){let e=TC(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function IC(){var t;let e=I.useContext(Fy),n=kC(),i=Vy();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function PC(){let{router:t}=bC(Wy.UseNavigateStable),e=Vy(Hy.UseNavigateStable),n=I.useRef(!1);return zy(()=>{n.current=!0}),I.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ar({fromRouteId:e},r)))},[t,e])}const pp={};function NC(t,e,n){pp[t]||(pp[t]=!0)}function MC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function RC(t){let{to:e,replace:n,state:i,relative:s}=t;xs()||me(!1);let{future:r,static:o}=I.useContext(Xn),{matches:l}=I.useContext(un),{pathname:a}=no(),c=jy(),u=sd(e,id(l,r.v7_relativeSplatPath),a,s==="path"),h=JSON.stringify(u);return I.useEffect(()=>c(JSON.parse(h),{replace:n,state:i,relative:s}),[c,h,s,n,i]),null}function ii(t){me(!1)}function DC(t){let{basename:e="/",children:n=null,location:i,navigationType:s=wn.Pop,navigator:r,static:o=!1,future:l}=t;xs()&&me(!1);let a=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:a,navigator:r,static:o,future:Ar({v7_relativeSplatPath:!1},l)}),[a,l,r,o]);typeof i=="string"&&(i=vs(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:g="default"}=i,_=I.useMemo(()=>{let v=nd(u,a);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:g},navigationType:s}},[a,u,h,d,f,g,s]);return _==null?null:I.createElement(Xn.Provider,{value:c},I.createElement(Ea.Provider,{children:n,value:_}))}function AC(t){let{children:e,location:n}=t;return yC(Nu(e),n)}new Promise(()=>{});function Nu(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(i,s)=>{if(!I.isValidElement(i))return;let r=[...e,s];if(i.type===I.Fragment){n.push.apply(n,Nu(i.props.children,r));return}i.type!==ii&&me(!1),!i.props.index||!i.props.children||me(!1);let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Nu(i.props.children,r)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mu.apply(this,arguments)}function OC(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function LC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FC(t,e){return t.button===0&&(!e||e==="_self")&&!LC(t)}const zC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jC="6";try{window.__reactRouterVersion=jC}catch{}const BC="startTransition",gp=Nx[BC];function WC(t){let{basename:e,children:n,future:i,window:s}=t,r=I.useRef();r.current==null&&(r.current=HS({window:s,v5Compat:!0}));let o=r.current,[l,a]=I.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=I.useCallback(h=>{c&&gp?gp(()=>a(h)):a(h)},[a,c]);return I.useLayoutEffect(()=>o.listen(u),[o,u]),I.useEffect(()=>MC(i),[i]),I.createElement(DC,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:i})}const HC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gi=I.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:l,target:a,to:c,preventScrollReset:u,viewTransition:h}=e,d=OC(e,zC),{basename:f}=I.useContext(Xn),g,_=!1;if(typeof c=="string"&&VC.test(c)&&(g=c,HC))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=nd(w.pathname,f);w.origin===y.origin&&S!=null?c=S+w.search+w.hash:_=!0}catch{}let v=gC(c,{relative:s}),p=UC(c,{replace:o,state:l,target:a,preventScrollReset:u,relative:s,viewTransition:h});function m(y){i&&i(y),y.defaultPrevented||p(y)}return I.createElement("a",Mu({},d,{href:g||v,onClick:_||r?i:m,ref:n,target:a}))});var mp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mp||(mp={}));var _p;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_p||(_p={}));function UC(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:o,viewTransition:l}=e===void 0?{}:e,a=jy(),c=no(),u=By(t,{relative:o});return I.useCallback(h=>{if(FC(h,n)){h.preventDefault();let d=i!==void 0?i:Ol(c)===Ol(u);a(t,{replace:d,state:s,preventScrollReset:r,relative:o,viewTransition:l})}},[c,a,u,i,s,n,t,r,o,l])}const io=()=>x.jsx("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:x.jsx("div",{className:"border-t border-gray-600 pt-5",children:x.jsxs("div",{className:"text-sm text-gray-200",children:["© Copyright 2022 by ",x.jsx("a",{className:"text-cyan-400 hover:underline",href:"https://creativedesignsguru.com",target:"_blank",rel:"noopener noreferrer",children:"CreativeDesignsGuru"}),"."]})})}),$C=()=>{};var yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T=function(t,e){if(!t)throw ws(e)},ws=function(t){return new Error("Firebase Database ("+Uy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},YC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},od={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,c=a?t[s+2]:0,u=r>>2,h=(r&3)<<4|l>>4;let d=(l&15)<<2|c>>6,f=c&63;a||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($y(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||c==null||h==null)throw new KC;const d=r<<2|l>>4;if(i.push(d),c!==64){const f=l<<4&240|c>>2;if(i.push(f),h!==64){const g=c<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yy=function(t){const e=$y(t);return od.encodeByteArray(e,!0)},Ll=function(t){return Yy(t).replace(/\./g,"")},Ru=function(t){try{return od.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){return Ky(void 0,t)}function Ky(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QC(n)||(t[n]=Ky(t[n],e[n]));return t}function QC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=()=>XC().__FIREBASE_DEFAULTS__,JC=()=>{if(typeof process>"u"||typeof yp>"u")return;const t=yp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ru(t[1]);return e&&JSON.parse(e)},Gy=()=>{try{return $C()||qC()||JC()||ZC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eE=t=>{var e,n;return(n=(e=Gy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tE=t=>{const e=eE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Qy=()=>{var t;return(t=Gy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ll(JSON.stringify(n)),Ll(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(iE())}function sE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rE(){return Uy.NODE_ADMIN===!0}function oE(){try{return typeof indexedDB=="object"}catch{return!1}}function lE(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="FirebaseError";class so extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=aE,Object.setPrototypeOf(this,so.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qy.prototype.create)}}class qy{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?cE(r,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new so(s,l,i)}}function cE(t,e){return t.replace(uE,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const uE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){return JSON.parse(t)}function xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=Or(Ru(r[0])||""),n=Or(Ru(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},hE=function(t){const e=Jy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},dE=function(t){const e=Jy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function us(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function vp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fl(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function zl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(xp(r)&&xp(o)){if(!zl(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=l^r&(o^l),u=1518500249):(c=r^o^l,u=1859775393):h<60?(c=r&o|l&(r|o),u=2400959708):(c=r^o^l,u=3395469782);const d=(s<<5|s>>>27)+c+a+u+i[h]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function ld(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,T(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ka=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){return t&&t._delegate?t._delegate:t}class Lr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ba;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yE(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_E(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _E(t){return t===si?void 0:t}function yE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const xE={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},wE=J.INFO,SE={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},CE=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=SE[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=wE,this._logHandler=CE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const EE=(t,e)=>e.some(n=>t instanceof n);let wp,Sp;function bE(){return wp||(wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kE(){return Sp||(Sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ev=new WeakMap,Du=new WeakMap,tv=new WeakMap,pc=new WeakMap,ad=new WeakMap;function TE(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Dn(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ev.set(n,t)}).catch(()=>{}),ad.set(e,t),e}function IE(t){if(Du.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Du.set(t,e)}let Au={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Du.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PE(t){Au=t(Au)}function NE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gc(this),e,...n);return tv.set(i,e.sort?e.sort():[e]),Dn(i)}:kE().includes(t)?function(...e){return t.apply(gc(this),e),Dn(ev.get(this))}:function(...e){return Dn(t.apply(gc(this),e))}}function ME(t){return typeof t=="function"?NE(t):(t instanceof IDBTransaction&&IE(t),EE(t,bE())?new Proxy(t,Au):t)}function Dn(t){if(t instanceof IDBRequest)return TE(t);if(pc.has(t))return pc.get(t);const e=ME(t);return e!==t&&(pc.set(t,e),ad.set(e,t)),e}const gc=t=>ad.get(t);function RE(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),l=Dn(o);return i&&o.addEventListener("upgradeneeded",a=>{i(Dn(o.result),a.oldVersion,a.newVersion,Dn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const DE=["get","getKey","getAll","getAllKeys","count"],AE=["put","add","delete","clear"],mc=new Map;function Cp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mc.get(e))return mc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=AE.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||DE.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let c=a.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&a.done]))[0]};return mc.set(e,r),r}PE(t=>({...t,get:(e,n,i)=>Cp(e,n)||t.get(e,n,i),has:(e,n)=>!!Cp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LE(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function LE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ou="@firebase/app",Ep="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Zy("@firebase/app"),FE="@firebase/app-compat",zE="@firebase/analytics-compat",jE="@firebase/analytics",BE="@firebase/app-check-compat",WE="@firebase/app-check",HE="@firebase/auth",VE="@firebase/auth-compat",UE="@firebase/database",$E="@firebase/data-connect",YE="@firebase/database-compat",KE="@firebase/functions",GE="@firebase/functions-compat",QE="@firebase/installations",XE="@firebase/installations-compat",qE="@firebase/messaging",JE="@firebase/messaging-compat",ZE="@firebase/performance",eb="@firebase/performance-compat",tb="@firebase/remote-config",nb="@firebase/remote-config-compat",ib="@firebase/storage",sb="@firebase/storage-compat",rb="@firebase/firestore",ob="@firebase/vertexai",lb="@firebase/firestore-compat",ab="firebase",cb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="[DEFAULT]",ub={[Ou]:"fire-core",[FE]:"fire-core-compat",[jE]:"fire-analytics",[zE]:"fire-analytics-compat",[WE]:"fire-app-check",[BE]:"fire-app-check-compat",[HE]:"fire-auth",[VE]:"fire-auth-compat",[UE]:"fire-rtdb",[$E]:"fire-data-connect",[YE]:"fire-rtdb-compat",[KE]:"fire-fn",[GE]:"fire-fn-compat",[QE]:"fire-iid",[XE]:"fire-iid-compat",[qE]:"fire-fcm",[JE]:"fire-fcm-compat",[ZE]:"fire-perf",[eb]:"fire-perf-compat",[tb]:"fire-rc",[nb]:"fire-rc-compat",[ib]:"fire-gcs",[sb]:"fire-gcs-compat",[rb]:"fire-fst",[lb]:"fire-fst-compat",[ob]:"fire-vertex","fire-js":"fire-js",[ab]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Map,hb=new Map,Fu=new Map;function bp(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bl(t){const e=t.name;if(Fu.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;Fu.set(e,t);for(const n of jl.values())bp(n,t);for(const n of hb.values())bp(n,t);return!0}function db(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fb(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new qy("app","Firebase",pb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=cb;function nv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Lu,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw An.create("bad-app-name",{appName:String(s)});if(n||(n=Qy()),!n)throw An.create("no-options");const r=jl.get(s);if(r){if(zl(n,r.options)&&zl(i,r.config))return r;throw An.create("duplicate-app",{appName:s})}const o=new vE(s);for(const a of Fu.values())o.addComponent(a);const l=new gb(n,i,o);return jl.set(s,l),l}function _b(t=Lu){const e=jl.get(t);if(!e&&t===Lu&&Qy())return nv();if(!e)throw An.create("no-app",{appName:t});return e}function Ji(t,e,n){var i;let s=(i=ub[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(l.join(" "));return}Bl(new Lr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebase-heartbeat-database",vb=1,Fr="firebase-heartbeat-store";let _c=null;function iv(){return _c||(_c=RE(yb,vb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fr)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),_c}async function xb(t){try{const n=(await iv()).transaction(Fr),i=await n.objectStore(Fr).get(sv(t));return await n.done,i}catch(e){if(e instanceof so)ln.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ln.warn(n.message)}}}async function kp(t,e){try{const i=(await iv()).transaction(Fr,"readwrite");await i.objectStore(Fr).put(e,sv(t)),await i.done}catch(n){if(n instanceof so)ln.warn(n.message);else{const i=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ln.warn(i.message)}}}function sv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=1024,Sb=30;class Cb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>Sb){const o=kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ln.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tp(),{heartbeatsToSend:i,unsentEntries:s}=Eb(this._heartbeatsCache.heartbeats),r=Ll(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ln.warn(n),""}}}function Tp(){return new Date().toISOString().substring(0,10)}function Eb(t,e=wb){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Ip(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ip(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oE()?lE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ip(t){return Ll(JSON.stringify({version:2,heartbeats:t})).length}function kb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){Bl(new Lr("platform-logger",e=>new OE(e),"PRIVATE")),Bl(new Lr("heartbeat",e=>new Cb(e),"PRIVATE")),Ji(Ou,Ep,t),Ji(Ou,Ep,"esm2017"),Ji("fire-js","")}Tb("");var Pp={};const Np="@firebase/database",Mp="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv="";function Ib(t){rv=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Or(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Pb(e)}}catch{}return new Nb},ui=ov("localStorage"),Mb=ov("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Zy("@firebase/database"),Rb=function(){let t=1;return function(){return t++}}(),lv=function(t){const e=gE(t),n=new pE;n.update(e);const i=n.digest();return od.encodeByteArray(i)},ro=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ro.apply(null,i):typeof i=="object"?e+=xe(i):e+=i,e+=" "}return e};let lr=null,Rp=!0;const Db=function(t,e){T(!0,"Can't turn on custom loggers persistently."),Zi.logLevel=J.VERBOSE,lr=Zi.log.bind(Zi)},Fe=function(...t){if(Rp===!0&&(Rp=!1,lr===null&&Mb.get("logging_enabled")===!0&&Db()),lr){const e=ro.apply(null,t);lr(e)}},oo=function(t){return function(...e){Fe(t,...e)}},zu=function(...t){const e="FIREBASE INTERNAL ERROR: "+ro(...t);Zi.error(e)},an=function(...t){const e=`FIREBASE FATAL ERROR: ${ro(...t)}`;throw Zi.error(e),new Error(e)},nt=function(...t){const e="FIREBASE WARNING: "+ro(...t);Zi.warn(e)},Ab=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},av=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ob=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hs="[MIN_NAME]",Si="[MAX_NAME]",Cs=function(t,e){if(t===e)return 0;if(t===hs||e===Si)return-1;if(e===hs||t===Si)return 1;{const n=Dp(t),i=Dp(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Lb=function(t,e){return t===e?0:t<e?-1:1},Ls=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+xe(e))},cd=function(t){if(typeof t!="object"||t===null)return xe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=xe(e[i]),n+=":",n+=cd(t[e[i]]);return n+="}",n},cv=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function it(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const uv=function(t){T(!av(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,l,a;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(a=n;a;a-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(u.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},Fb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jb(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Bb=new RegExp("^-?(0*)\\d{1,10}$"),Wb=-2147483648,Hb=2147483647,Dp=function(t){if(Bb.test(t)){const e=Number(t);if(e>=Wb&&e<=Hb)return e}return null},Es=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw nt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Vb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ar=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,fb(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nt(e)}}class rl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}rl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="5",hv="v",dv="s",fv="r",pv="f",gv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mv="ls",_v="p",ju="ac",yv="websocket",vv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,i,s,r=!1,o="",l=!1,a=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ui.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ui.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Yb(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wv(t,e,n){T(typeof e=="string","typeof type must == string"),T(typeof n=="object","typeof params must == object");let i;if(e===yv)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vv)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Yb(t)&&(n.ns=t.namespace);const s=[];return it(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.counters_={}}incrementCounter(e,n=1){hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return GC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc={},vc={};function hd(t){const e=t.toString();return yc[e]||(yc[e]=new Kb),yc[e]}function Gb(t,e){const n=t.toString();return vc[n]||(vc[n]=e()),vc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Es(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="start",Xb="close",qb="pLPCommand",Jb="pRTLPCB",Sv="id",Cv="pw",Ev="ser",Zb="cb",ek="seg",tk="ts",nk="d",ik="dframe",bv=1870,kv=30,sk=bv-kv,rk=25e3,ok=3e4;class Ui{constructor(e,n,i,s,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oo(e),this.stats_=hd(n),this.urlFn=a=>(this.appCheckToken&&(a[ju]=this.appCheckToken),wv(n,vv,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Qb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ok)),Ob(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dd((...r)=>{const[o,l,a,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ap)this.id=l,this.password=a;else if(o===Xb)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Ap]="t",i[Ev]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Zb]=this.scriptTagHolder.uniqueCallbackIdentifier),i[hv]=ud,this.transportSessionId&&(i[dv]=this.transportSessionId),this.lastSessionId&&(i[mv]=this.lastSessionId),this.applicationId&&(i[_v]=this.applicationId),this.appCheckToken&&(i[ju]=this.appCheckToken),typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(i[fv]=pv);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ui.forceAllow_=!0}static forceDisallow(){Ui.forceDisallow_=!0}static isAvailable(){return Ui.forceAllow_?!0:!Ui.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Fb()&&!zb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Yy(n),s=cv(i,sk);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[ik]="t",i[Sv]=e,i[Cv]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class dd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Rb(),window[qb+this.uniqueCallbackIdentifier]=e,window[Jb+this.uniqueCallbackIdentifier]=n,this.myIFrame=dd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Fe("frame writing exception"),l.stack&&Fe(l.stack),Fe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Sv]=this.myID,e[Cv]=this.myPW,e[Ev]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kv+i.length<=bv;){const o=this.pendingSegs.shift();i=i+"&"+ek+s+"="+o.seg+"&"+tk+s+"="+o.ts+"&"+nk+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(rk)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=16384,ak=45e3;let Wl=null;typeof MozWebSocket<"u"?Wl=MozWebSocket:typeof WebSocket<"u"&&(Wl=WebSocket);class bt{constructor(e,n,i,s,r,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oo(this.connId),this.stats_=hd(n),this.connURL=bt.connectionURL_(n,o,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[hv]=ud,typeof location<"u"&&location.hostname&&gv.test(location.hostname)&&(o[fv]=pv),n&&(o[dv]=n),i&&(o[mv]=i),s&&(o[ju]=s),r&&(o[_v]=r),wv(e,yv,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ui.set("previous_websocket_failure",!0);try{let i;rE(),this.mySock=new Wl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){bt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Wl!==null&&!bt.forceDisallow_}static previouslyFailed(){return ui.isInMemoryStorage||ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){ui.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Or(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=cv(n,lk);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ak))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bt.responsesRequiredToBeHealthy=2;bt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{static get ALL_TRANSPORTS(){return[Ui,bt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=bt&&bt.isAvailable();let i=n&&!bt.previouslyFailed();if(e.webSocketOnly&&(n||nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[bt];else{const s=this.transports_=[];for(const r of zr.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);zr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=6e4,uk=5e3,hk=10*1024,dk=100*1024,xc="t",Op="d",fk="s",Lp="r",pk="e",Fp="o",zp="a",jp="n",Bp="p",gk="h";class mk{constructor(e,n,i,s,r,o,l,a,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oo("c:"+this.id+":"),this.transportManager_=new zr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=ar(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xc in e){const n=e[xc];n===zp?this.upgradeIfSecondaryHealthy_():n===Lp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ls("t",e),i=Ls("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ls("t",e),i=Ls("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ls(xc,e);if(Op in e){const i=e[Op];if(n===gk){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===jp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fk?this.onConnectionShutdown_(i):n===Lp?this.onReset_(i):n===pk?zu("Server Error: "+i):n===Fp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ud!==i&&nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ar(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ck))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ar(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){T(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Iv{static getInstance(){return new Hl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=32,Hp=768;class X{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function U(){return new X("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Hn(t){return t.pieces_.length-t.pieceNum_}function Z(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new X(t.pieces_,e)}function Pv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _k(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Nv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Mv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new X(e,0)}function we(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof X)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new X(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Ue(t,e){const n=F(t),i=F(e);if(n===null)return e;if(n===i)return Ue(Z(t),Z(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function fd(t,e){if(Hn(t)!==Hn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function kt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Hn(t)>Hn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class yk{constructor(e,n){this.errorPrefix_=n,this.parts_=Nv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ka(this.parts_[i]);Rv(this)}}function vk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ka(e),Rv(t)}function xk(t){const e=t.parts_.pop();t.byteLength_-=ka(e),t.parts_.length>0&&(t.byteLength_-=1)}function Rv(t){if(t.byteLength_>Hp)throw new Error(t.errorPrefix_+"has a key path longer than "+Hp+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wp+") or object contains a cycle "+ri(t))}function ri(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends Iv{static getInstance(){return new pd}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=1e3,wk=60*5*1e3,Vp=30*1e3,Sk=1.3,Ck=3e4,Ek="server_kill",Up=3;class tn extends Tv{constructor(e,n,i,s,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=tn.nextPersistentConnectionId_++,this.log_=oo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fs,this.maxReconnectDelay_=wk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(xe(r)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new ba,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,c=l.s;tn.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&hn(e,"w")){const i=us(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||dE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Vp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hE(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):zu("Unrecognized action received from server: "+xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ck&&(this.reconnectDelay_=Fs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Sk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+tn.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,i())},c=function(h){T(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new mk(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{nt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ek)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&nt(h),a())}}}interrupt(e){Fe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vp(this.interruptReasons_)&&(this.reconnectDelay_=Fs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>cd(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new X(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Fe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Up&&(this.reconnectDelay_=Vp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Up&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+rv.replace(/\./g,"-")]=1,Xy()?e["framework.cordova"]=1:sE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hl.getInstance().currentlyOnline();return vp(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new z(hs,e),s=new z(hs,n);return this.compare(i,s)!==0}minPost(){return z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class Dv extends Ta{static get __EMPTY_NODE(){return Ro}static set __EMPTY_NODE(e){Ro=e}compare(e,n){return Cs(e.name,n.name)}isDefinedOn(e){throw ws("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(Si,Ro)}makePost(e,n){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new z(e,Ro)}toString(){return".key"}}const es=new Dv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ke{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??ke.RED,this.left=s??Je.EMPTY_NODE,this.right=r??Je.EMPTY_NODE}copy(e,n,i,s,r){return new ke(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Je.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Je.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ke.RED=!0;ke.BLACK=!1;class bk{copy(e,n,i,s,r){return this}insert(e,n,i){return new ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Je{constructor(e,n=Je.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Je(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ke.BLACK,null,null))}remove(e){return new Je(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ke.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Do(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Do(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Do(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Do(this.root_,null,this.comparator_,!0,e)}}Je.EMPTY_NODE=new bk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){return Cs(t.name,e.name)}function gd(t,e){return Cs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;function Tk(t){Bu=t}const Av=function(t){return typeof t=="number"?"number:"+uv(t):"string:"+t},Ov=function(t){if(t.isLeafNode()){const e=t.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hn(e,".sv"),"Priority must be a string or number.")}else T(t===Bu||t.isEmpty(),"priority of unexpected type.");T(t===Bu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p;class Ee{static set __childrenNodeConstructor(e){$p=e}static get __childrenNodeConstructor(){return $p}constructor(e,n=Ee.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ov(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ee(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ee.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return j(e)?this:F(e)===".priority"?this.priorityNode_:Ee.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ee.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=F(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(T(i!==".priority"||Hn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ee.__childrenNodeConstructor.EMPTY_NODE.updateChild(Z(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Av(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=uv(this.value_):e+=this.value_,this.lazyHash_=lv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ee.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ee.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Ee.VALUE_TYPE_ORDER.indexOf(n),r=Ee.VALUE_TYPE_ORDER.indexOf(i);return T(s>=0,"Unknown leaf type: "+n),T(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ee.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv,Fv;function Ik(t){Lv=t}function Pk(t){Fv=t}class Nk extends Ta{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Cs(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(Si,new Ee("[PRIORITY-POST]",Fv))}makePost(e,n){const i=Lv(e);return new z(n,new Ee("[PRIORITY-POST]",i))}toString(){return".priority"}}const de=new Nk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=Math.log(2);class Rk{constructor(e){const n=r=>parseInt(Math.log(r)/Mk,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vl=function(t,e,n,i){t.sort(e);const s=function(a,c){const u=c-a;let h,d;if(u===0)return null;if(u===1)return h=t[a],d=n?n(h):h,new ke(d,h.node,ke.BLACK,null,null);{const f=parseInt(u/2,10)+a,g=s(a,f),_=s(f+1,c);return h=t[f],d=n?n(h):h,new ke(d,h.node,ke.BLACK,g,_)}},r=function(a){let c=null,u=null,h=t.length;const d=function(g,_){const v=h-g,p=h;h-=g;const m=s(v+1,p),y=t[v],w=n?n(y):y;f(new ke(w,y.node,_,null,m))},f=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<a.count;++g){const _=a.nextBitIsOne(),v=Math.pow(2,a.count-(g+1));_?d(v,ke.BLACK):(d(v,ke.BLACK),d(v,ke.RED))}return u},o=new Rk(t.length),l=r(o);return new Je(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;const Ni={};class Zt{static get Default(){return T(Ni&&de,"ChildrenNode.ts has not been loaded"),wc=wc||new Zt({".priority":Ni},{".priority":de}),wc}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=us(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Je?n:null}hasIndex(e){return hn(this.indexSet_,e.toString())}addIndex(e,n){T(e!==es,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(z.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let l;s?l=Vl(i,e.getCompare()):l=Ni;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const u=Object.assign({},this.indexes_);return u[a]=l,new Zt(u,c)}addToIndexes(e,n){const i=Fl(this.indexes_,(s,r)=>{const o=us(this.indexSet_,r);if(T(o,"Missing index implementation for "+r),s===Ni)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(z.Wrap);let c=a.getNext();for(;c;)c.name!==e.name&&l.push(c),c=a.getNext();return l.push(e),Vl(l,o.getCompare())}else return Ni;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new z(e.name,l))),a.insert(e,e.node)}});return new Zt(i,this.indexSet_)}removeFromIndexes(e,n){const i=Fl(this.indexes_,s=>{if(s===Ni)return s;{const r=n.get(e.name);return r?s.remove(new z(e.name,r)):s}});return new Zt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs;class D{static get EMPTY_NODE(){return zs||(zs=new D(new Je(gd),null,Zt.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Ov(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zs}updatePriority(e){return this.children_.isEmpty()?this:new D(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?zs:n}}getChild(e){const n=F(e);return n===null?this:this.getImmediateChild(n).getChild(Z(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(T(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new z(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?zs:this.priorityNode_;return new D(s,o,r)}}updateChild(e,n){const i=F(e);if(i===null)return n;{T(F(e)!==".priority"||Hn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Z(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(de,(o,l)=>{n[o]=l.val(e),i++,r&&D.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Av(this.getPriority().val())+":"),this.forEachChild(de,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":lv(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new z(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new z(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lo?-1:0}withIndex(e){if(e===es||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new D(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===es||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(de),s=n.getIterator(de);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===es?null:this.indexMap_.get(e.toString())}}D.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Dk extends D{constructor(){super(new Je(gd),D.EMPTY_NODE,Zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return D.EMPTY_NODE}isEmpty(){return!1}}const lo=new Dk;Object.defineProperties(z,{MIN:{value:new z(hs,D.EMPTY_NODE)},MAX:{value:new z(Si,lo)}});Dv.__EMPTY_NODE=D.EMPTY_NODE;Ee.__childrenNodeConstructor=D;Tk(lo);Pk(lo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=!0;function Te(t,e=null){if(t===null)return D.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ee(n,Te(e))}if(!(t instanceof Array)&&Ak){const n=[];let i=!1;if(it(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Te(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new z(o,a)))}}),n.length===0)return D.EMPTY_NODE;const r=Vl(n,kk,o=>o.name,gd);if(i){const o=Vl(n,de.getCompare());return new D(r,Te(e),new Zt({".priority":o},{".priority":de}))}else return new D(r,Te(e),Zt.Default)}else{let n=D.EMPTY_NODE;return it(t,(i,s)=>{if(hn(t,i)&&i.substring(0,1)!=="."){const r=Te(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Te(e))}}Ik(Te);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok extends Ta{constructor(e){super(),this.indexPath_=e,T(!j(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Cs(e.name,n.name):r}makePost(e,n){const i=Te(e),s=D.EMPTY_NODE.updateChild(this.indexPath_,i);return new z(n,s)}maxPost(){const e=D.EMPTY_NODE.updateChild(this.indexPath_,lo);return new z(Si,e)}toString(){return Nv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends Ta{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Cs(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const i=Te(e);return new z(n,i)}toString(){return".value"}}const Fk=new Lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){return{type:"value",snapshotNode:t}}function ds(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function jr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Br(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(jr(n,l)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ds(n,i)):o.trackChildChange(Br(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(de,(s,r)=>{n.hasChild(s)||i.trackChildChange(jr(s,r))}),n.isLeafNode()||n.forEachChild(de,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Br(s,r,o))}else i.trackChildChange(ds(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?D.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.indexedFilter_=new md(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Wr.getStartPost_(e),this.endPost_=Wr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new z(n,i))||(i=D.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=D.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(D.EMPTY_NODE);const r=this;return n.forEachChild(de,(o,l)=>{r.matches(new z(o,l))||(s=s.updateImmediateChild(o,D.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Wr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new z(n,i))||(i=D.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=D.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=D.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(D.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,D.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const l=e;T(l.numChildren()===this.limit_,"");const a=new z(n,i),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),u=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,a);if(u&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(Br(n,i,h)),l.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(jr(n,h));const _=l.updateImmediateChild(n,D.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r!=null&&r.trackChildChange(ds(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return i.isEmpty()?e:u&&o(c,a)>=0?(r!=null&&(r.trackChildChange(jr(c.name,c.node)),r.trackChildChange(ds(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(c.name,D.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hs}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Si}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){const e=new _d;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Bk(t){return t.loadsAllData()?new md(t.getIndex()):t.hasLimit()?new jk(t):new Wr(t)}function Yp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===Fk?n="$value":t.index_===es?n="$key":(T(t.index_ instanceof Ok,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=xe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=xe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+xe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=xe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Kp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Tv{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=oo("p:rest:"),this.listens_={}}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Ul.getListenId_(e,i),l={};this.listens_[o]=l;const a=Yp(e._queryParams);this.restRequest_(r+".json",a,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,i),us(this.listens_,o)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=Ul.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Yp(e._queryParams),i=e._path.toString(),s=new ba;return this.restRequest_(i+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fE(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Or(l.responseText)}catch{nt("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&nt("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.rootNode_=D.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(){return{value:null,children:new Map}}function jv(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=F(e);t.children.has(i)||t.children.set(i,$l());const s=t.children.get(i);e=Z(e),jv(s,e,n)}}function Wu(t,e,n){t.value!==null?n(e,t.value):Hk(t,(i,s)=>{const r=new X(e.toString()+"/"+i);Wu(s,r,n)})}function Hk(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&it(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=10*1e3,Uk=30*1e3,$k=5*60*1e3;class Yk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Vk(e);const i=Gp+(Uk-Gp)*Math.random();ar(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;it(e,(s,r)=>{r>0&&hn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),ar(this.reportStats_.bind(this),Math.floor(Math.random()*2*$k))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Tt||(Tt={}));function Bv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Tt.ACK_USER_WRITE,this.source=Bv()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new X(e));return new Yl(U(),n,this.revert)}}else return T(F(this.path)===e,"operationForChild called for unrelated child."),new Yl(Z(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.source=e,this.path=n,this.type=Tt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new Hr(this.source,U()):new Hr(this.source,Z(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Tt.OVERWRITE}operationForChild(e){return j(this.path)?new Ci(this.source,U(),this.snap.getImmediateChild(e)):new Ci(this.source,Z(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Tt.MERGE}operationForChild(e){if(j(this.path)){const n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new Ci(this.source,U(),n.value):new Vr(this.source,U(),n)}else return T(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vr(this.source,Z(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;const n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Gk(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(zk(o.childName,o.snapshotNode))}),js(t,s,"child_removed",e,i,n),js(t,s,"child_added",e,i,n),js(t,s,"child_moved",r,i,n),js(t,s,"child_changed",e,i,n),js(t,s,"value",e,i,n),s}function js(t,e,n,i,s,r){const o=i.filter(l=>l.type===n);o.sort((l,a)=>Xk(t,l,a)),o.forEach(l=>{const a=Qk(t,l,r);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(a,t.query_))})})}function Qk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Xk(t,e,n){if(e.childName==null||n.childName==null)throw ws("Should only compare child_ events.");const i=new z(e.childName,e.snapshotNode),s=new z(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){return{eventCache:t,serverCache:e}}function cr(t,e,n,i){return Ia(new Vn(e,n,i),t.serverCache)}function Wv(t,e,n,i){return Ia(t.eventCache,new Vn(e,n,i))}function Kl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ei(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc;const qk=()=>(Sc||(Sc=new Je(Lb)),Sc);class ie{static fromObject(e){let n=new ie(null);return it(e,(i,s)=>{n=n.set(new X(i),s)}),n}constructor(e,n=qk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:U(),value:this.value};if(j(e))return null;{const i=F(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Z(e),n);return r!=null?{path:we(new X(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{const n=F(e),i=this.children.get(n);return i!==null?i.subtree(Z(e)):new ie(null)}}set(e,n){if(j(e))return new ie(n,this.children);{const i=F(e),r=(this.children.get(i)||new ie(null)).set(Z(e),n),o=this.children.insert(i,r);return new ie(this.value,o)}}remove(e){if(j(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=F(e),i=this.children.get(n);if(i){const s=i.remove(Z(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new ie(null):new ie(this.value,r)}else return this}}get(e){if(j(e))return this.value;{const n=F(e),i=this.children.get(n);return i?i.get(Z(e)):null}}setTree(e,n){if(j(e))return n;{const i=F(e),r=(this.children.get(i)||new ie(null)).setTree(Z(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new ie(this.value,o)}}fold(e){return this.fold_(U(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(we(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,U(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(j(e))return null;{const r=F(e),o=this.children.get(r);return o?o.findOnPath_(Z(e),we(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,U(),n)}foreachOnPath_(e,n,i){if(j(e))return this;{this.value&&i(n,this.value);const s=F(e),r=this.children.get(s);return r?r.foreachOnPath_(Z(e),we(n,s),i):new ie(null)}}foreach(e){this.foreach_(U(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(we(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.writeTree_=e}static empty(){return new Rt(new ie(null))}}function ur(t,e,n){if(j(e))return new Rt(new ie(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Ue(s,e);return r=r.updateChild(o,n),new Rt(t.writeTree_.set(s,r))}else{const s=new ie(n),r=t.writeTree_.setTree(e,s);return new Rt(r)}}}function Qp(t,e,n){let i=t;return it(n,(s,r)=>{i=ur(i,we(e,s),r)}),i}function Xp(t,e){if(j(e))return Rt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new Rt(n)}}function Hu(t,e){return Ii(t,e)!=null}function Ii(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ue(n.path,e)):null}function qp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(i,s)=>{e.push(new z(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new z(i,s.value))}),e}function On(t,e){if(j(e))return t;{const n=Ii(t,e);return n!=null?new Rt(new ie(n)):new Rt(t.writeTree_.subtree(e))}}function Vu(t){return t.writeTree_.isEmpty()}function fs(t,e){return Hv(U(),t.writeTree_,e)}function Hv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(T(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=Hv(we(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(we(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t,e){return Yv(e,t)}function Jk(t,e,n,i,s){T(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=ur(t.visibleWrites,e,n)),t.lastWriteId=i}function Zk(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function e1(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);T(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&t1(l,i.path)?s=!1:kt(i.path,l.path)&&(r=!0)),o--}if(s){if(r)return n1(t),!0;if(i.snap)t.visibleWrites=Xp(t.visibleWrites,i.path);else{const l=i.children;it(l,a=>{t.visibleWrites=Xp(t.visibleWrites,we(i.path,a))})}return!0}else return!1}function t1(t,e){if(t.snap)return kt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&kt(we(t.path,n),e))return!0;return!1}function n1(t){t.visibleWrites=Vv(t.allWrites,i1,U()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function i1(t){return t.visible}function Vv(t,e,n){let i=Rt.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let l;if(r.snap)kt(n,o)?(l=Ue(n,o),i=ur(i,l,r.snap)):kt(o,n)&&(l=Ue(o,n),i=ur(i,U(),r.snap.getChild(l)));else if(r.children){if(kt(n,o))l=Ue(n,o),i=Qp(i,l,r.children);else if(kt(o,n))if(l=Ue(o,n),j(l))i=Qp(i,U(),r.children);else{const a=us(r.children,F(l));if(a){const c=a.getChild(Z(l));i=ur(i,U(),c)}}}else throw ws("WriteRecord should have .snap or .children")}}return i}function Uv(t,e,n,i,s){if(!i&&!s){const r=Ii(t.visibleWrites,e);if(r!=null)return r;{const o=On(t.visibleWrites,e);if(Vu(o))return n;if(n==null&&!Hu(o,U()))return null;{const l=n||D.EMPTY_NODE;return fs(o,l)}}}else{const r=On(t.visibleWrites,e);if(!s&&Vu(r))return n;if(!s&&n==null&&!Hu(r,U()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(kt(c.path,e)||kt(e,c.path))},l=Vv(t.allWrites,o,e),a=n||D.EMPTY_NODE;return fs(l,a)}}}function s1(t,e,n){let i=D.EMPTY_NODE;const s=Ii(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(de,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=On(t.visibleWrites,e);return n.forEachChild(de,(o,l)=>{const a=fs(On(r,new X(o)),l);i=i.updateImmediateChild(o,a)}),qp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=On(t.visibleWrites,e);return qp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function r1(t,e,n,i,s){T(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=we(e,n);if(Hu(t.visibleWrites,r))return null;{const o=On(t.visibleWrites,r);return Vu(o)?s.getChild(n):fs(o,s.getChild(n))}}function o1(t,e,n,i){const s=we(e,n),r=Ii(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=On(t.visibleWrites,s);return fs(o,i.getNode().getImmediateChild(n))}else return null}function l1(t,e){return Ii(t.visibleWrites,e)}function a1(t,e,n,i,s,r,o){let l;const a=On(t.visibleWrites,e),c=Ii(a,U());if(c!=null)l=c;else if(n!=null)l=fs(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const u=[],h=o.getCompare(),d=r?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let f=d.getNext();for(;f&&u.length<s;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function c1(){return{visibleWrites:Rt.empty(),allWrites:[],lastWriteId:-1}}function Gl(t,e,n,i){return Uv(t.writeTree,t.treePath,e,n,i)}function xd(t,e){return s1(t.writeTree,t.treePath,e)}function Jp(t,e,n,i){return r1(t.writeTree,t.treePath,e,n,i)}function Ql(t,e){return l1(t.writeTree,we(t.treePath,e))}function u1(t,e,n,i,s,r){return a1(t.writeTree,t.treePath,e,n,i,s,r)}function wd(t,e,n){return o1(t.writeTree,t.treePath,e,n)}function $v(t,e){return Yv(we(t.treePath,e),t.writeTree)}function Yv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;T(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),T(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,Br(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,jr(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,ds(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,Br(i,e.snapshotNode,s.oldSnap));else throw ws("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Kv=new d1;class Sd{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ei(this.viewCache_),r=u1(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){return{filter:t}}function p1(t,e){T(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function g1(t,e,n,i,s){const r=new h1;let o,l;if(n.type===Tt.OVERWRITE){const c=n;c.source.fromUser?o=Uu(t,e,c.path,c.snap,i,s,r):(T(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!j(c.path),o=Xl(t,e,c.path,c.snap,i,s,l,r))}else if(n.type===Tt.MERGE){const c=n;c.source.fromUser?o=_1(t,e,c.path,c.children,i,s,r):(T(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=$u(t,e,c.path,c.children,i,s,l,r))}else if(n.type===Tt.ACK_USER_WRITE){const c=n;c.revert?o=x1(t,e,c.path,i,s,r):o=y1(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===Tt.LISTEN_COMPLETE)o=v1(t,e,n.path,i,r);else throw ws("Unknown operation type: "+n.type);const a=r.getChanges();return m1(e,o,a),{viewCache:o,changes:a}}function m1(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Kl(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(zv(Kl(e)))}}function Gv(t,e,n,i,s,r){const o=e.eventCache;if(Ql(i,n)!=null)return e;{let l,a;if(j(n))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ei(e),u=c instanceof D?c:D.EMPTY_NODE,h=xd(i,u);l=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Gl(i,Ei(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=F(n);if(c===".priority"){T(Hn(n)===1,"Can't have a priority with additional path components");const u=o.getNode();a=e.serverCache.getNode();const h=Jp(i,n,u,a);h!=null?l=t.filter.updatePriority(u,h):l=o.getNode()}else{const u=Z(n);let h;if(o.isCompleteForChild(c)){a=e.serverCache.getNode();const d=Jp(i,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=wd(i,c,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),c,h,u,s,r):l=o.getNode()}}return cr(e,l,o.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function Xl(t,e,n,i,s,r,o,l){const a=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(j(n))c=u.updateFullNode(a.getNode(),i,null);else if(u.filtersNodes()&&!a.isFiltered()){const f=a.getNode().updateChild(n,i);c=u.updateFullNode(a.getNode(),f,null)}else{const f=F(n);if(!a.isCompleteForPath(n)&&Hn(n)>1)return e;const g=Z(n),v=a.getNode().getImmediateChild(f).updateChild(g,i);f===".priority"?c=u.updatePriority(a.getNode(),v):c=u.updateChild(a.getNode(),f,v,g,Kv,null)}const h=Wv(e,c,a.isFullyInitialized()||j(n),u.filtersNodes()),d=new Sd(s,h,r);return Gv(t,h,n,s,d,l)}function Uu(t,e,n,i,s,r,o){const l=e.eventCache;let a,c;const u=new Sd(s,e,r);if(j(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=cr(e,c,!0,t.filter.filtersNodes());else{const h=F(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),a=cr(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=Z(n),f=l.getNode().getImmediateChild(h);let g;if(j(d))g=i;else{const _=u.getCompleteChild(h);_!=null?Pv(d)===".priority"&&_.getChild(Mv(d)).isEmpty()?g=_:g=_.updateChild(d,i):g=D.EMPTY_NODE}if(f.equals(g))a=e;else{const _=t.filter.updateChild(l.getNode(),h,g,d,u,o);a=cr(e,_,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Zp(t,e){return t.eventCache.isCompleteForChild(e)}function _1(t,e,n,i,s,r,o){let l=e;return i.foreach((a,c)=>{const u=we(n,a);Zp(e,F(u))&&(l=Uu(t,l,u,c,s,r,o))}),i.foreach((a,c)=>{const u=we(n,a);Zp(e,F(u))||(l=Uu(t,l,u,c,s,r,o))}),l}function eg(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function $u(t,e,n,i,s,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,c;j(n)?c=i:c=new ie(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),g=eg(t,f,d);a=Xl(t,a,new X(h),g,s,r,o,l)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const g=e.serverCache.getNode().getImmediateChild(h),_=eg(t,g,d);a=Xl(t,a,new X(h),_,s,r,o,l)}}),a}function y1(t,e,n,i,s,r,o){if(Ql(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(j(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Xl(t,e,n,a.getNode().getChild(n),s,r,l,o);if(j(n)){let c=new ie(null);return a.getNode().forEachChild(es,(u,h)=>{c=c.set(new X(u),h)}),$u(t,e,n,c,s,r,l,o)}else return e}else{let c=new ie(null);return i.foreach((u,h)=>{const d=we(n,u);a.isCompleteForPath(d)&&(c=c.set(u,a.getNode().getChild(d)))}),$u(t,e,n,c,s,r,l,o)}}function v1(t,e,n,i,s){const r=e.serverCache,o=Wv(e,r.getNode(),r.isFullyInitialized()||j(n),r.isFiltered());return Gv(t,o,n,i,Kv,s)}function x1(t,e,n,i,s,r){let o;if(Ql(i,n)!=null)return e;{const l=new Sd(i,e,s),a=e.eventCache.getNode();let c;if(j(n)||F(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Gl(i,Ei(e));else{const h=e.serverCache.getNode();T(h instanceof D,"serverChildren would be complete if leaf node"),u=xd(i,h)}u=u,c=t.filter.updateFullNode(a,u,r)}else{const u=F(n);let h=wd(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=a.getImmediateChild(u)),h!=null?c=t.filter.updateChild(a,u,h,Z(n),l,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(a,u,D.EMPTY_NODE,Z(n),l,r):c=a,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Gl(i,Ei(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Ql(i,U())!=null,cr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new md(i.getIndex()),r=Bk(i);this.processor_=f1(r);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(D.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(D.EMPTY_NODE,l.getNode(),null),u=new Vn(a,o.isFullyInitialized(),s.filtersNodes()),h=new Vn(c,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Ia(h,u),this.eventGenerator_=new Kk(this.query_)}get query(){return this.query_}}function S1(t){return t.viewCache_.serverCache.getNode()}function C1(t){return Kl(t.viewCache_)}function E1(t,e){const n=Ei(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function tg(t){return t.eventRegistrations_.length===0}function b1(t,e){t.eventRegistrations_.push(e)}function ng(t,e,n){const i=[];if(n){T(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function ig(t,e,n,i){e.type===Tt.MERGE&&e.source.queryId!==null&&(T(Ei(t.viewCache_),"We should always have a full cache before handling merges"),T(Kl(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=g1(t.processor_,s,e,n,i);return p1(t.processor_,r.viewCache),T(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Qv(t,r.changes,r.viewCache.eventCache.getNode(),null)}function k1(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(r,o)=>{i.push(ds(r,o))}),n.isFullyInitialized()&&i.push(zv(n.getNode())),Qv(t,i,n.getNode(),e)}function Qv(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return Gk(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql;class Xv{constructor(){this.views=new Map}}function T1(t){T(!ql,"__referenceConstructor has already been defined"),ql=t}function I1(){return T(ql,"Reference.ts has not been loaded"),ql}function P1(t){return t.views.size===0}function Cd(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return T(r!=null,"SyncTree gave us an op for an invalid query."),ig(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(ig(o,e,n,i));return r}}function qv(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Gl(n,s?i:null),a=!1;l?a=!0:i instanceof D?(l=xd(n,i),a=!1):(l=D.EMPTY_NODE,a=!1);const c=Ia(new Vn(l,a,!1),new Vn(i,s,!1));return new w1(e,c)}return o}function N1(t,e,n,i,s,r){const o=qv(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),b1(o,n),k1(o,n)}function M1(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const l=Un(t);if(s==="default")for(const[a,c]of t.views.entries())o=o.concat(ng(c,n,i)),tg(c)&&(t.views.delete(a),c.query._queryParams.loadsAllData()||r.push(c.query));else{const a=t.views.get(s);a&&(o=o.concat(ng(a,n,i)),tg(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Un(t)&&r.push(new(I1())(e._repo,e._path)),{removed:r,events:o}}function Jv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ln(t,e){let n=null;for(const i of t.views.values())n=n||E1(i,e);return n}function Zv(t,e){if(e._queryParams.loadsAllData())return Na(t);{const i=e._queryIdentifier;return t.views.get(i)}}function e0(t,e){return Zv(t,e)!=null}function Un(t){return Na(t)!=null}function Na(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl;function R1(t){T(!Jl,"__referenceConstructor has already been defined"),Jl=t}function D1(){return T(Jl,"Reference.ts has not been loaded"),Jl}let A1=1;class sg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=c1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function t0(t,e,n,i,s){return Jk(t.pendingWriteTree_,e,n,i,s),s?co(t,new Ci(Bv(),e,n)):[]}function hi(t,e,n=!1){const i=Zk(t.pendingWriteTree_,e);if(e1(t.pendingWriteTree_,e)){let r=new ie(null);return i.snap!=null?r=r.set(U(),!0):it(i.children,o=>{r=r.set(new X(o),!0)}),co(t,new Yl(i.path,r,n))}else return[]}function ao(t,e,n){return co(t,new Ci(yd(),e,n))}function O1(t,e,n){const i=ie.fromObject(n);return co(t,new Vr(yd(),e,i))}function L1(t,e){return co(t,new Hr(yd(),e))}function F1(t,e,n){const i=bd(t,n);if(i){const s=kd(i),r=s.path,o=s.queryId,l=Ue(r,e),a=new Hr(vd(o),l);return Td(t,r,a)}else return[]}function Zl(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||e0(o,e))){const a=M1(o,e,n,i);P1(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=a.removed;if(l=a.events,!s){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(d,f)=>Un(f));if(u&&!h){const d=t.syncPointTree_.subtree(r);if(!d.isEmpty()){const f=B1(d);for(let g=0;g<f.length;++g){const _=f[g],v=_.query,p=r0(t,_);t.listenProvider_.startListening(hr(v),Ur(t,v),p.hashFn,p.onComplete)}}}!h&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(hr(e),null):c.forEach(d=>{const f=t.queryToTagMap.get(Ma(d));t.listenProvider_.stopListening(hr(d),f)}))}W1(t,c)}return l}function n0(t,e,n,i){const s=bd(t,i);if(s!=null){const r=kd(s),o=r.path,l=r.queryId,a=Ue(o,e),c=new Ci(vd(l),a,n);return Td(t,o,c)}else return[]}function z1(t,e,n,i){const s=bd(t,i);if(s){const r=kd(s),o=r.path,l=r.queryId,a=Ue(o,e),c=ie.fromObject(n),u=new Vr(vd(l),a,c);return Td(t,o,u)}else return[]}function Yu(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,f)=>{const g=Ue(d,s);r=r||Ln(f,g),o=o||Un(f)});let l=t.syncPointTree_.get(s);l?(o=o||Un(l),r=r||Ln(l,U())):(l=new Xv,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;r!=null?a=!0:(a=!1,r=D.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,g)=>{const _=Ln(g,U());_&&(r=r.updateImmediateChild(f,_))}));const c=e0(l,e);if(!c&&!e._queryParams.loadsAllData()){const d=Ma(e);T(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=H1();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const u=Pa(t.pendingWriteTree_,s);let h=N1(l,e,n,u,r,a);if(!c&&!o&&!i){const d=Zv(l,e);h=h.concat(V1(t,e,d))}return h}function Ed(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Ue(o,e),c=Ln(l,a);if(c)return c});return Uv(s,e,r,n,!0)}function j1(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=Ue(c,n);i=i||Ln(u,h)});let s=t.syncPointTree_.get(n);s?i=i||Ln(s,U()):(s=new Xv,t.syncPointTree_=t.syncPointTree_.set(n,s));const r=i!=null,o=r?new Vn(i,!0,!1):null,l=Pa(t.pendingWriteTree_,e._path),a=qv(s,e,l,r?o.getNode():D.EMPTY_NODE,r);return C1(a)}function co(t,e){return i0(e,t.syncPointTree_,null,Pa(t.pendingWriteTree_,U()))}function i0(t,e,n,i){if(j(t.path))return s0(t,e,n,i);{const s=e.get(U());n==null&&s!=null&&(n=Ln(s,U()));let r=[];const o=F(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const c=n?n.getImmediateChild(o):null,u=$v(i,o);r=r.concat(i0(l,a,c,u))}return s&&(r=r.concat(Cd(s,t,i,n))),r}}function s0(t,e,n,i){const s=e.get(U());n==null&&s!=null&&(n=Ln(s,U()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,c=$v(i,o),u=t.operationForChild(o);u&&(r=r.concat(s0(u,l,a,c)))}),s&&(r=r.concat(Cd(s,t,i,n))),r}function r0(t,e){const n=e.query,i=Ur(t,n);return{hashFn:()=>(S1(e)||D.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?F1(t,n._path,i):L1(t,n._path);{const r=jb(s,n);return Zl(t,n,null,r)}}}}function Ur(t,e){const n=Ma(e);return t.queryToTagMap.get(n)}function Ma(t){return t._path.toString()+"$"+t._queryIdentifier}function bd(t,e){return t.tagToQueryMap.get(e)}function kd(t){const e=t.indexOf("$");return T(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}}function Td(t,e,n){const i=t.syncPointTree_.get(e);T(i,"Missing sync point for query tag that we're tracking");const s=Pa(t.pendingWriteTree_,e);return Cd(i,n,s,null)}function B1(t){return t.fold((e,n,i)=>{if(n&&Un(n))return[Na(n)];{let s=[];return n&&(s=Jv(n)),it(i,(r,o)=>{s=s.concat(o)}),s}})}function hr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(D1())(t._repo,t._path):t}function W1(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Ma(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function H1(){return A1++}function V1(t,e,n){const i=e._path,s=Ur(t,e),r=r0(t,n),o=t.listenProvider_.startListening(hr(e),s,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(i);if(s)T(!Un(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((c,u,h)=>{if(!j(c)&&u&&Un(u))return[Na(u).query];{let d=[];return u&&(d=d.concat(Jv(u).map(f=>f.query))),it(h,(f,g)=>{d=d.concat(g)}),d}});for(let c=0;c<a.length;++c){const u=a[c];t.listenProvider_.stopListening(hr(u),Ur(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Id(n)}node(){return this.node_}}class Pd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=we(this.path_,e);return new Pd(this.syncTree_,n)}node(){return Ed(this.syncTree_,this.path_)}}const U1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rg=function(t,e,n){if(!t||typeof t!="object")return t;if(T(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Y1(t[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:T(!1,"Unexpected server value: "+t)}},Y1=function(t,e,n){t.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&T(!1,"Unexpected increment value: "+i);const s=e.node();if(T(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},K1=function(t,e,n,i){return Nd(e,new Pd(n,t),i)},o0=function(t,e,n){return Nd(t,new Id(e),n)};function Nd(t,e,n){const i=t.getPriority().val(),s=rg(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=rg(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new Ee(l,Te(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Ee(s))),o.forEachChild(de,(l,a)=>{const c=Nd(a,e.getImmediateChild(l),n);c!==a&&(r=r.updateImmediateChild(l,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Rd(t,e){let n=e instanceof X?e:new X(e),i=t,s=F(n);for(;s!==null;){const r=us(i.node.children,s)||{children:{},childCount:0};i=new Md(s,i,r),n=Z(n),s=F(n)}return i}function bs(t){return t.node.value}function l0(t,e){t.node.value=e,Ku(t)}function a0(t){return t.node.childCount>0}function G1(t){return bs(t)===void 0&&!a0(t)}function Ra(t,e){it(t.node.children,(n,i)=>{e(new Md(n,t,i))})}function c0(t,e,n,i){n&&e(t),Ra(t,s=>{c0(s,e,!0)})}function Q1(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function uo(t){return new X(t.parent===null?t.name:uo(t.parent)+"/"+t.name)}function Ku(t){t.parent!==null&&X1(t.parent,t.name,t)}function X1(t,e,n){const i=G1(n),s=hn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Ku(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ku(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=/[\[\].#$\/\u0000-\u001F\u007F]/,J1=/[\[\].#$\u0000-\u001F\u007F]/,Cc=10*1024*1024,u0=function(t){return typeof t=="string"&&t.length!==0&&!q1.test(t)},h0=function(t){return typeof t=="string"&&t.length!==0&&!J1.test(t)},Z1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),h0(t)},eT=function(t,e,n,i){Dd(ld(t,"value"),e,n)},Dd=function(t,e,n){const i=n instanceof X?new yk(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ri(i));if(typeof e=="function")throw new Error(t+"contains a function "+ri(i)+" with contents = "+e.toString());if(av(e))throw new Error(t+"contains "+e.toString()+" "+ri(i));if(typeof e=="string"&&e.length>Cc/3&&ka(e)>Cc)throw new Error(t+"contains a string greater than "+Cc+" utf8 bytes "+ri(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(it(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!u0(o)))throw new Error(t+" contains an invalid key ("+o+") "+ri(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);vk(i,o),Dd(t,l,i),xk(i)}),s&&r)throw new Error(t+' contains ".value" child '+ri(i)+" in addition to actual children.")}},d0=function(t,e,n,i){if(!h0(n))throw new Error(ld(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tT=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),d0(t,e,n)},nT=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},iT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!u0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Z1(n))throw new Error(ld(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ad(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!fd(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function f0(t,e,n){Ad(t,n),p0(t,i=>fd(i,e))}function Vt(t,e,n){Ad(t,n),p0(t,i=>kt(i,e)||kt(e,i))}function p0(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(rT(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();lr&&Fe("event: "+n.toString()),Es(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="repo_interrupt",lT=25;class aT{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$l(),this.transactionQueueTree_=new Md,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cT(t,e,n){if(t.stats_=hd(t.repoInfo_),t.forceRestClient_||Vb())t.server_=new Ul(t.repoInfo_,(i,s,r,o)=>{og(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new tn(t.repoInfo_,e,(i,s,r,o)=>{og(t,i,s,r,o)},i=>{lg(t,i)},i=>{hT(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Gb(t.repoInfo_,()=>new Yk(t.stats_,t.server_)),t.infoData_=new Wk,t.infoSyncTree_=new sg({startListening:(i,s,r,o)=>{let l=[];const a=t.infoData_.getNode(i._path);return a.isEmpty()||(l=ao(t.infoSyncTree_,i._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Ld(t,"connected",!1),t.serverSyncTree_=new sg({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(l,a)=>{const c=o(l,a);Vt(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function uT(t){const n=t.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Od(t){return U1({timestamp:uT(t)})}function og(t,e,n,i,s){t.dataUpdateCount++;const r=new X(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const a=Fl(n,c=>Te(c));o=z1(t.serverSyncTree_,r,a,s)}else{const a=Te(n);o=n0(t.serverSyncTree_,r,a,s)}else if(i){const a=Fl(n,c=>Te(c));o=O1(t.serverSyncTree_,r,a)}else{const a=Te(n);o=ao(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=Aa(t,r)),Vt(t.eventQueue_,l,o)}function lg(t,e){Ld(t,"connected",e),e===!1&&pT(t)}function hT(t,e){it(e,(n,i)=>{Ld(t,n,i)})}function Ld(t,e,n){const i=new X("/.info/"+e),s=Te(n);t.infoData_.updateSnapshot(i,s);const r=ao(t.infoSyncTree_,i,s);Vt(t.eventQueue_,i,r)}function g0(t){return t.nextWriteId_++}function dT(t,e,n){const i=j1(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const r=Te(s).withIndex(e._queryParams.getIndex());Yu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ao(t.serverSyncTree_,e._path,r);else{const l=Ur(t.serverSyncTree_,e);o=n0(t.serverSyncTree_,e._path,r,l)}return Vt(t.eventQueue_,e._path,o),Zl(t.serverSyncTree_,e,n,null,!0),r},s=>(Da(t,"get for query "+xe(e)+" failed: "+s),Promise.reject(new Error(s))))}function fT(t,e,n,i,s){Da(t,"set",{path:e.toString(),value:n,priority:i});const r=Od(t),o=Te(n,i),l=Ed(t.serverSyncTree_,e),a=o0(o,l,r),c=g0(t),u=t0(t.serverSyncTree_,e,a,c,!0);Ad(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(d,f)=>{const g=d==="ok";g||nt("set at "+e+" failed: "+d);const _=hi(t.serverSyncTree_,c,!g);Vt(t.eventQueue_,e,_),yT(t,s,d,f)});const h=x0(t,e);Aa(t,h),Vt(t.eventQueue_,h,[])}function pT(t){Da(t,"onDisconnectEvents");const e=Od(t),n=$l();Wu(t.onDisconnect_,U(),(s,r)=>{const o=K1(s,r,t.serverSyncTree_,e);jv(n,s,o)});let i=[];Wu(n,U(),(s,r)=>{i=i.concat(ao(t.serverSyncTree_,s,r));const o=x0(t,s);Aa(t,o)}),t.onDisconnect_=$l(),Vt(t.eventQueue_,U(),i)}function gT(t,e,n){let i;F(e._path)===".info"?i=Yu(t.infoSyncTree_,e,n):i=Yu(t.serverSyncTree_,e,n),f0(t.eventQueue_,e._path,i)}function mT(t,e,n){let i;F(e._path)===".info"?i=Zl(t.infoSyncTree_,e,n):i=Zl(t.serverSyncTree_,e,n),f0(t.eventQueue_,e._path,i)}function _T(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oT)}function Da(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function yT(t,e,n,i){e&&Es(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function m0(t,e,n){return Ed(t.serverSyncTree_,e,n)||D.EMPTY_NODE}function Fd(t,e=t.transactionQueueTree_){if(e||Oa(t,e),bs(e)){const n=y0(t,e);T(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&vT(t,uo(e),n)}else a0(e)&&Ra(e,n=>{Fd(t,n)})}function vT(t,e,n){const i=n.map(c=>c.currentWriteId),s=m0(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];T(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Ue(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,c=>{Da(t,"transaction put response",{path:a.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(hi(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Oa(t,Rd(t.transactionQueueTree_,e)),Fd(t,t.transactionQueueTree_),Vt(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)Es(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{nt("transaction at "+a.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Aa(t,e)}},o)}function Aa(t,e){const n=_0(t,e),i=uo(n),s=y0(t,n);return xT(t,s,i),i}function xT(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],c=Ue(n,a.path);let u=!1,h;if(T(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)u=!0,h=a.abortReason,s=s.concat(hi(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=lT)u=!0,h="maxretry",s=s.concat(hi(t.serverSyncTree_,a.currentWriteId,!0));else{const d=m0(t,a.path,o);a.currentInputSnapshot=d;const f=e[l].update(d.val());if(f!==void 0){Dd("transaction failed: Data returned ",f,a.path);let g=Te(f);typeof f=="object"&&f!=null&&hn(f,".priority")||(g=g.updatePriority(d.getPriority()));const v=a.currentWriteId,p=Od(t),m=o0(g,d,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=m,a.currentWriteId=g0(t),o.splice(o.indexOf(v),1),s=s.concat(t0(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),s=s.concat(hi(t.serverSyncTree_,v,!0))}else u=!0,h="nodata",s=s.concat(hi(t.serverSyncTree_,a.currentWriteId,!0))}Vt(t.eventQueue_,n,s),s=[],u&&(e[l].status=2,function(d){setTimeout(d,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(h),!1,null))))}Oa(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Es(i[l]);Fd(t,t.transactionQueueTree_)}function _0(t,e){let n,i=t.transactionQueueTree_;for(n=F(e);n!==null&&bs(i)===void 0;)i=Rd(i,n),e=Z(e),n=F(e);return i}function y0(t,e){const n=[];return v0(t,e,n),n.sort((i,s)=>i.order-s.order),n}function v0(t,e,n){const i=bs(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Ra(e,s=>{v0(t,s,n)})}function Oa(t,e){const n=bs(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,l0(e,n.length>0?n:void 0)}Ra(e,i=>{Oa(t,i)})}function x0(t,e){const n=uo(_0(t,e)),i=Rd(t.transactionQueueTree_,e);return Q1(i,s=>{Ec(t,s)}),Ec(t,i),c0(i,s=>{Ec(t,s)}),n}function Ec(t,e){const n=bs(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(T(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(T(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(hi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?l0(e,void 0):n.length=r+1,Vt(t.eventQueue_,uo(e),s);for(let o=0;o<i.length;o++)Es(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function ST(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):nt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ag=function(t,e){const n=CT(t),i=n.namespace;n.domain==="firebase.com"&&an(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ab();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xv(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new X(n.pathString)}},CT=function(t){let e="",n="",i="",s="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=wT(t.substring(u,h)));const d=ST(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=i}"ns"in d&&(r=d.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xe(this.snapshot.exportVal())}}class bT{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return j(this._path)?null:Pv(this._path)}get ref(){return new dn(this._repo,this._path)}get _queryIdentifier(){const e=Kp(this._queryParams),n=cd(e);return n==="{}"?"default":n}get _queryObject(){return Kp(this._queryParams)}isEqual(e){if(e=Ss(e),!(e instanceof zd))return!1;const n=this._repo===e._repo,i=fd(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+_k(this._path)}}class dn extends zd{constructor(e,n){super(e,n,new _d,!1)}get parent(){const e=Mv(this._path);return e===null?null:new dn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class $r{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new X(e),i=Qu(this.ref,e);return new $r(this._node.getChild(n),i,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new $r(s,Qu(this.ref,i),de)))}hasChild(e){const n=new X(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Gu(t,e){return t=Ss(t),t._checkNotDeleted("ref"),e!==void 0?Qu(t._root,e):t._root}function Qu(t,e){return t=Ss(t),F(t._path)===null?tT("child","path",e):d0("child","path",e),new dn(t._repo,we(t._path,e))}function Xu(t,e){t=Ss(t),nT("set",t._path),eT("set",e,t._path);const n=new ba;return fT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function S0(t){t=Ss(t);const e=new w0(()=>{}),n=new La(e);return dT(t._repo,t,n).then(i=>new $r(i,new dn(t._repo,t._path),t._queryParams.getIndex()))}class La{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new ET("value",this,new $r(e.snapshotNode,new dn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new bT(this,e,n):null}matches(e){return e instanceof La?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function kT(t,e,n,i,s){const r=new w0(n,void 0),o=new La(r);return gT(t._repo,t,o),()=>mT(t._repo,t,o)}function TT(t,e,n,i){return kT(t,"value",e)}T1(dn);R1(dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="FIREBASE_DATABASE_EMULATOR_HOST",qu={};let PT=!1;function NT(t,e,n,i){t.repoInfo_=new xv(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function MT(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ag(r,s),l=o.repoInfo,a;typeof process<"u"&&Pp&&(a=Pp[IT]),a?(r=`http://${a}?ns=${l.namespace}`,o=ag(r,s),l=o.repoInfo):o.repoInfo.secure;const c=new $b(t.name,t.options,e);iT("Invalid Firebase Database URL",o),j(o.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const u=DT(l,t,c,new Ub(t,n));return new AT(u,t)}function RT(t,e){const n=qu[e];(!n||n[t.key]!==t)&&an(`Database ${e}(${t.repoInfo_}) has already been deleted.`),_T(t),delete n[t.key]}function DT(t,e,n,i){let s=qu[e.name];s||(s={},qu[e.name]=s);let r=s[t.toURLString()];return r&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new aT(t,PT,n,i),s[t.toURLString()]=r,r}class AT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dn(this._repo,U())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&an("Cannot call "+e+" on a deleted database.")}}function OT(t=_b(),e){const n=db(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=tE("database");i&&LT(n,...i)}return n}function LT(t,e,n,i={}){t=Ss(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,r=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&zl(i,r.repoInfo_.emulatorOptions))return;an("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new rl(rl.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:nE(i.mockUserToken,t.app.options.projectId);o=new rl(l)}NT(r,s,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){Ib(mb),Bl(new Lr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return MT(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Ji(Np,Mp,t),Ji(Np,Mp,"esm2017")}function zT(t){return{".sv":{increment:t}}}tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};FT();var jT="firebase",BT="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(jT,BT,"app");const WT={apiKey:"AIzaSyARx1uzGhvCrHNXf5-QvZK8G5RfcThmCrM",authDomain:"resume-database-e065c.firebaseapp.com",databaseURL:"https://resume-database-e065c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"resume-database-e065c",storageBucket:"resume-database-e065c.firebasestorage.app",messagingSenderId:"29019465979",appId:"1:29019465979:web:df30f7fe825c7a3416a85e",measurementId:void 0},HT=nv(WT),Ju=OT(HT),ho=()=>(I.useEffect(()=>{(async()=>{try{const e=new Date().toISOString().split("T")[0];if(!localStorage.getItem(`visited_${e}`)){const i=Gu(Ju,`visits/${e}`),s=Gu(Ju,"totalVisitors"),o=(await S0(i)).val()||0;await Xu(i,o+1),await Xu(s,zT(1)),localStorage.setItem(`visited_${e}`,"true"),console.log("Visit tracked successfully")}}catch(e){console.error("Error tracking visit:",e)}})()},[]),x.jsx("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:x.jsxs("div",{className:"flex flex-col gap-y-3 sm:flex-row sm:items-center sm:justify-between",children:[x.jsx(gi,{to:"/",children:x.jsxs("div",{className:"flex items-center bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-xl font-bold text-transparent",children:[x.jsxs("svg",{className:"mr-1 h-10 w-10 stroke-cyan-600",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M0 0h24v24H0z",stroke:"none"}),x.jsx("rect",{x:"3",y:"12",width:"6",height:"8",rx:"1"}),x.jsx("rect",{x:"9",y:"8",width:"6",height:"12",rx:"1"}),x.jsx("rect",{x:"15",y:"4",width:"6",height:"16",rx:"1"}),x.jsx("path",{d:"M4 20h14"})]}),"Martin's Blog"]})}),x.jsx("nav",{children:x.jsxs("ul",{className:"flex gap-x-3 font-medium text-gray-200",children:[x.jsx("li",{className:"hover:text-white",children:x.jsx(gi,{to:"/info-resume-website/visitors",children:"Stats"})}),x.jsx("li",{className:"hover:text-white",children:x.jsx(gi,{to:"/info-resume-website/posts",children:"Posts"})}),x.jsx("li",{className:"hover:text-white",children:x.jsx("a",{href:"https://github.com/MartinShift?tab=repositories",children:"GitHub"})}),x.jsx("li",{className:"hover:text-white",children:x.jsx("a",{href:"https://www.linkedin.com/in/saprykin-martin-a96496249/",children:"LinkedIn"})})]})})]})})),VT=()=>{var t=[{name:"linkedin",url:"https://www.linkedin.com/in/saprykin-martin-a96496249/"},{name:"github",url:"https://github.com/MartinShift?tab=repositories"},{name:"gmail",url:"https://mail.google.com/mail/u/0/#inbox?compose=GTvVlcSBmlqFlFcxlbCGXsZBqdsPVJzGffCZKwnjzBQBGCXwnDQXKPGzQxZxzddVWLrgHZsgzjTsq"}];return x.jsx("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:x.jsxs("div",{className:"flex flex-col items-center md:flex-row md:justify-between md:gap-x-24",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to my profile"}),x.jsx("p",{className:"mt-6 text-xl leading-9",children:"I'm Martin, an aspiring software developer with a relentless drive for innovation."}),x.jsxs("p",{className:"mt-6 text-xl leading-9",children:["I'm currently ",x.jsx("strong",{className:"text-lime-400",children:"open"})," to any project opportunities."]}),x.jsx("div",{className:"mt-3 flex gap-1",children:t.map(e=>x.jsx("a",{href:e.url,children:x.jsx("img",{className:"h-12 w-12 ml-3 hover:translate-y-1",src:`/info-resume-website/${e.name}.png`,alt:`${e.name} icon`,loading:"lazy"})},e.name))})]}),x.jsx("div",{className:"shrink-0",children:x.jsx("img",{className:"h-70 w-70",src:"/info-resume-website/me.png",alt:"Avatar",loading:"lazy"})})]})})},UT=[{id:1,title:"Started EPAM Project Education Program",date:"Mar 20, 2025",image:"project-education.png",alt:"Started EPAM Project Education Program",description:"A course made by EPAM Systems to get real time project experience and enhance skills in team work",detailed:`This course was made by EPAM Systems to get real time project experience and enhance skills in team work. 

 Responsibilities: Attend all mettings and sprints, pass all tests and practical tasks. 

 I learned in this program: 
> Agile 
> Scrum 
> Waterfall 
> Software Development Life Cycle 
> Engineering Practices 
> Real Project Development Practices 
> AWS 
> Docker 
> EngX 
 Jira/Confluence 
 Kanban`},{id:2,title:"Published a personal blog website",date:"Mar 5, 2025",image:"blog-post.png",alt:"Published blog website",description:"Finally finished making this very website to show my projects, news, status, and overall career progress.",detailed:`This website is created to show my projects, news, status, and overall career progress. 

 I created this website with an idea to show my dedication as a software developer and to prove that I am a better and more hardworking candidate for the job then the rest.
 Technologies used: React, Tailwind CSS`},{id:3,title:"Completed EPAM .NET development program",date:"Dec 1, 2024",image:"epam.png",alt:"Completed EPAM .NET development program",description:"A course from EPAM Systems made to enhance skills in .NET, React, Angular, Azure, AWS, and other usefull skills...",detailed:`This is a self paced training program that was mostly created to enhance your own understanding in software development and prepare for real projects

 This program was organized by EPAM to enhance understanding to .NET, AI assisted engineering, cloud technologies Azure and AWS, containerization technologies such as Docker.
Also courses about engineering practices and real project development practices such as EngX framework (Engineering excelence), Agile, Scrum, Waterfall practices, and software development life cycle.

Responsibilities:
Passing all assignments, and completing the practical task, which was implementing back end for a game store.

New technologies that I learned about in this training program:
> EngX
> Docker
> AWS
> Microservices architecture

Technologies that I enhanced in this program:
> .NET, ASP.NET
> Azure
> SQL Server, SQLite, MongoDb
> Entity Framework
> HTML / CSS
> React, Angular, Vue
> Other technologies such as DevTools, Postman REST API, etc.

Additional info:
Key features that had to be implemented for the game store:
> Admin Panel with Services
> Headers and Unit Testing
> Logging and Swagger
> Enhancements and UI integration
> Payment methods (Visa, Bank, IBox terminal)
> Comments and Moderation
> Filters and Sorting
> Integration with second NoSQL database
> Game Picture
> Handling of big amounts of data
> Notifications (Email, Push, SMS)`},{id:4,title:"Finished IT Step Software Development Academy",date:"Jul 14, 2024",image:"itstep.png",alt:"Finished IT Step Software Development Academy",description:"A course from Online Ukrainian Academy made to build and enhance skills in many aspects of programming.",detailed:`A Course made to train a programmer from zero to a complete junior developer. 
 This program was designed by a great Ukrainian IT Company to prepare students and even people who don't know how to code for real time projects. 
 Responsibilities: pass all grades, complete all course projects, and write a diploma work with all the knowledge that was gained during the course. 

 Technologies that were learned in this program: n> C/C++ 
> C# .NET 
> SQL 
> HTML / CSS 
> JavaScript 
> React, Angular, Vue 
> Node.js 
> Express.js 
> MongoDB 
> Git 
> Github 
> Agile 
> Scrum 
> Waterfall 
> Software Development Life Cycle 
> Engineering Practices 
> Real Project Development Practices.`},{id:5,title:"Started EPAM .NET development program",date:"Feb 20, 2024",image:"epam.png",alt:"Started EPAM .NET development program",description:"I Started a course from EPAM Systems to enhance my skills in .NET primarily, but also in many other technologies and soft skills.",detailed:`This day I Started My training course in EPAM Systems, received my corporate email and started the journey. 

This is a self paced training program that was mostly created to enhance your own understanding in software development and prepare for real projects

 This program was organized by EPAM to enhance understanding to .NET, AI assisted engineering, cloud technologies Azure and AWS, containerization technologies such as Docker.
Also courses about engineering practices and real project development practices such as EngX framework (Engineering excelence), Agile, Scrum, Waterfall practices, and software development life cycle.

`},{id:6,title:"Started working on freelance websites",date:"Jun 6, 2022",image:"freelance.png",alt:"Started Freelancing",description:"I started working on platforms like on freelancer, fiverr, and upwork. making templates, websites and other projects.",detailed:`I started working on many freelance platforms to gain experience and some projects for my portfolio

 These projects were written mostly in techologies such as: 
>C# .NET
>HTML/CSS 
>React.js 
>Vue.js 
>Laravel Framework 
>Spring boot`},{id:7,title:"Started IT Step Software Development Academy",date:"Dec 10, 2021",image:"itstep.png",alt:"Started IT Step Software Development Academy",description:"That day i started a course at IT Step Academy to become a software developer. This course is designed for newbies in programming.",detailed:`This day I Started My training course in EPAM Systems, received my corporate email and started the journey. 

This is a self paced training program that was mostly created to enhance your own understanding in software development and prepare for real projects

 This program was organized by EPAM to enhance understanding to .NET, AI assisted engineering, cloud technologies Azure and AWS, containerization technologies such as Docker.
Also courses about engineering practices and real project development practices such as EngX framework (Engineering excelence), Agile, Scrum, Waterfall practices, and software development life cycle.

`}],jd={posts:UT},$T=()=>{const t=jd.posts.slice(0,3);return x.jsxs("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:[x.jsx("div",{className:"mb-6 text-2xl font-bold",children:x.jsxs("div",{className:"flex items-baseline justify-between",children:[x.jsxs("div",{children:["Recent ",x.jsx("span",{className:"bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-transparent",children:"Posts"})]}),x.jsx("div",{className:"text-sm",children:x.jsx(gi,{to:"/info-resume-website/posts",children:"View all Posts →"})})]})}),x.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:t.map(e=>x.jsx(YT,{post:e},e.id))})]})},YT=({post:t})=>x.jsx(gi,{className:"hover:translate-y-1",to:"/info-resume-website/posts/"+t.id,children:x.jsxs("div",{className:"overflow-hidden rounded-md bg-slate-800",children:[x.jsx("div",{className:"aspect-w-3 aspect-h-2",children:x.jsx("img",{className:"h-full w-full object-cover object-center",src:`/info-resume-website/${t.image}`,alt:t.alt,loading:"lazy"})}),x.jsxs("div",{className:"px-3 pt-4 pb-6 text-center",children:[x.jsx("h3",{className:"text-xl font-semibold",children:t.title}),x.jsx("div",{className:"mt-1 text-xs text-gray-400",children:t.date}),x.jsx("div",{className:"mt-2 text-sm",children:t.description})]})]})}),KT=[{id:1,title:"Media Shop",image:"mediashop-logo.png",alt:"Media Shop",tags:[{name:"React.js",color:"cyan"},{name:"ASP.NET",color:"indigo"},{name:"Bootstrap",color:"purple"},{name:"Azure",color:"blue"},{name:"SQL",color:"emerald"}],description:"A diploma project that is a digital market for photos, videos, and music. Allows users to buy and sell media files. Project consists of 1 api, and 2 react frontend clients and is hosted on azure app service, and azure static web apps respectively.",link:"https://github.com/MartinShift/mediashop-api"},{id:2,title:"Build Mentor",image:"buildmentor-logo.png",alt:"Build Mentor",tags:[{name:"ASP.NET MVC",color:"violet"},{name:"SQLite",color:"emerald"},{name:"Azure",color:"blue"},{name:"Bootstrap",color:"purple"}],description:"A diploma freelance project that is a platform for tool accountability. Allows users to add tools, mark as broken, and request for fix or replacement, allows for admins to account tools and manage users. Project consists of 1 api, and 1 mvc frontend client and is hosted on azure app service.",link:"https://github.com/MartinShift/mediashop-api"},{id:3,title:"Shift Polls",image:"shiftpolls-logo.png",alt:"Shift Polls",tags:[{name:"php",color:"slate"},{name:"Laravel",color:"rose"},{name:"Vue",color:"lime"},{name:"MySql",color:"cyan"},{name:"Tailwind CSS",color:"teal"}],description:"Shift polls is a course project that is a poll system where users can login/register and create polls, vote, see results and percentages.",link:"https://github.com/MartinShift/shift-polls"},{id:4,title:"Fluency",image:"fluency.png",alt:"Shift Polls",tags:[{name:"ASP.NET Core",color:"indigo"},{name:"Azure CosmosDB",color:"rose"},{name:"NoSQL",color:"amber"},{name:"OpenAI API",color:"blue"}],description:"Fluency is a project in EPAM Systems that i am currently working on as a back end developer with a team of 7 people. It is a platform for learning languages with AI assistance. Link is not provided because it is a private company project.",link:""},{id:5,title:"PicturePilot",image:"picturepilot.png",alt:"PicturePilot",tags:[{name:"ASP.NET MVC",color:"violet"},{name:"Computer Vision",color:"yellow"},{name:"Azure CosmosDB",color:"rose"},{name:"Social media",color:"red"}],description:"PicturePilot is a course project for an azure course in IT Step Academy. Written by me and my friend it is a pinterest clone with computer vision for content filtering and sorting.",link:"https://github.com/zxuown/PicturePilot"},{id:5,title:"Shift Tech",image:"shifttech.png",alt:"Shift Tech",tags:[{name:"ASP.NET MVC",color:"violet"},{name:"Bootstrap",color:"purple"},{name:"Tailwind CSS",color:"teal"},{name:"SQLite",color:"yellow"},{name:"Liqpay",color:"green"}],description:"Shift tech is a course project for a web development course in IT Step Academy. It is a platform for selling tech products. It has a cart, a working payment system using one of the most popular Ukrainian services Liqpay, and admin panel.",link:"https://github.com/MartinShift/Shift-Tech"}],C0={projects:KT},GT=()=>{const t=C0.projects.slice(0,3);return x.jsxs("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:[x.jsxs("div",{className:"flex items-baseline justify-between",children:[x.jsxs("div",{className:"mb-6 text-2xl font-bold",children:["Recent ",x.jsx("span",{className:"bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-transparent",children:"Projects"})]}),x.jsx("div",{className:"text-sm",children:x.jsx(gi,{to:"/info-resume-website/projects",children:"View all Projects →"})})]}),x.jsx("div",{className:"flex flex-col gap-6",children:t.map(e=>x.jsx(QT,{project:e},e.id))})]})},QT=({project:t})=>x.jsxs("div",{className:"flex flex-col items-center gap-x-8 rounded-md bg-slate-800 p-3 md:flex-row",children:[x.jsx("div",{className:"shrink-0",children:x.jsx("a",{href:t.link,children:x.jsx("img",{className:"h-36 w-36 object-cover hover:translate-y-1",src:`/info-resume-website/${t.image}`,alt:t.alt,loading:"lazy"})})}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex flex-col items-center gap-y-2 md:flex-row",children:[x.jsx("a",{className:"hover:text-cyan-400",href:t.link,children:x.jsx("div",{className:"text-xl font-semibold",children:t.title})}),x.jsx("div",{className:"ml-3 flex gap-2",children:t.tags.map((e,n)=>x.jsx(XT,{name:e.name,color:e.color},n))})]}),x.jsx("p",{className:"mt-3 text-gray-400",children:t.description})]})]}),XT=({name:t,color:e})=>x.jsx("div",{className:`rounded-md px-2 py-1 text-xs font-semibold bg-${e}-400 text-${e}-900`,children:t}),qT=()=>{const t={date:"March 20, 2025",highlights:[{type:"New",text:"Added a blog post about Project Education"},{type:"New",text:"Added a visitors indicator that uses Firebase"},{type:"Update",text:"Improved website navigation"}]};return x.jsx("div",{className:"bg-transparent",children:x.jsxs("div",{className:"mx-auto max-w-screen-lg px-3 py-3",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"text-sm",children:[x.jsx("span",{className:"text-gray-400",children:"Latest updates"}),x.jsx("span",{className:"text-gray-500 ml-2",children:"—"}),x.jsx("span",{className:"text-gray-400 ml-2",children:t.date})]})}),x.jsx("div",{className:"mt-3 space-y-1",children:t.highlights.map((e,n)=>x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-md ${e.type==="New"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:e.type}),x.jsx("span",{className:" ml-2 text-sm text-gray-300",children:e.text})]},n))})]})})},JT=()=>x.jsxs("div",{className:"App bg-slate-900 text-gray-100",children:[x.jsx(ho,{}),x.jsx(VT,{}),x.jsx(GT,{}),x.jsx($T,{}),x.jsx(qT,{}),x.jsx(io,{})]}),ZT=()=>{const{id:t}=_C(),e=jd.posts.find(i=>i.id===parseInt(t));if(!e)return x.jsx("div",{children:"Post not found"});const n=i=>i.split(`
`).map((s,r)=>s.trim().startsWith(">")?x.jsx("li",{className:"list-none ml-4 text-gray-300",children:s.substring(1).trim()},r):s.trim()?x.jsx("p",{className:"mb-4",children:s},r):x.jsx("br",{},r));return x.jsxs(x.Fragment,{children:[x.jsx(ho,{}),x.jsxs("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:[x.jsx("h1",{className:"text-center text-3xl font-bold",children:e.title}),x.jsxs("div",{className:"mt-2 text-center text-sm text-gray-400",children:["Posted on ",e.date]}),x.jsxs("div",{className:"mx-auto mt-5 max-w-prose",children:[x.jsx("div",{className:"aspect-w-3 aspect-h-2",children:x.jsx("img",{className:"h-full w-full rounded-lg object-cover object-center",src:`/info-resume-website/${e.image}`,alt:e.alt,loading:"lazy"})}),x.jsx("div",{className:"prose prose-invert mt-8 prose-img:rounded-lg",children:x.jsx("div",{className:"text-gray-300",children:e.detailed?n(e.detailed):x.jsx("p",{children:e.description})})})]})]}),x.jsx(io,{})]})},eI=()=>{const t=C0.projects;return x.jsxs("div",{className:"App bg-slate-900 text-gray-100",children:[x.jsx(ho,{}),x.jsxs("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:[x.jsxs("div",{className:"mb-6 text-2xl font-bold",children:["My ",x.jsx("span",{className:"bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-transparent",children:"Projects"})]}),x.jsx("div",{className:"flex flex-col gap-6",children:t.map(e=>x.jsx(tI,{project:e},e.id))})]}),x.jsx(io,{})]})},tI=({project:t})=>x.jsxs("div",{className:"flex flex-col items-center gap-x-8 rounded-md bg-slate-800 p-3 md:flex-row",children:[x.jsx("div",{className:"shrink-0",children:x.jsx("a",{href:t.link,children:x.jsx("img",{className:"h-36 w-36 object-cover hover:translate-y-1",src:`/info-resume-website/${t.image}`,alt:t.alt,loading:"lazy"})})}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex flex-col items-center gap-y-2 md:flex-row",children:[x.jsx("a",{className:"hover:text-cyan-400",href:t.link,children:x.jsx("div",{className:"text-xl font-semibold",children:t.title})}),x.jsx("div",{className:"ml-3 flex gap-2",children:t.tags.map((e,n)=>x.jsx(nI,{name:e.name,color:e.color},n))})]}),x.jsx("p",{className:"mt-3 text-gray-400",children:t.description})]})]}),nI=({name:t,color:e})=>x.jsx("div",{className:`rounded-md px-2 py-1 text-xs font-semibold bg-${e}-400 text-${e}-900`,children:t}),iI=()=>{const t=jd.posts;return x.jsxs("div",{className:"App bg-slate-900 text-gray-100",children:[x.jsx(ho,{}),x.jsx("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:x.jsxs("div",{className:"text-center",children:[x.jsxs("h1",{className:"text-3xl font-bold",children:["My ",x.jsx("span",{className:"bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-transparent",children:"Posts"})]}),x.jsx("div",{className:"mt-3 text-gray-200",children:"Latest news, updates and blog posts about my career journey"})]})}),x.jsx("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:x.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:t.map(e=>x.jsx(sI,{post:e},e.id))})}),x.jsx(io,{})]})},sI=({post:t})=>x.jsx(gi,{className:"hover:translate-y-1",to:"/info-resume-website/posts/"+t.id,children:x.jsxs("div",{className:"overflow-hidden rounded-md bg-slate-800",children:[x.jsx("div",{className:"aspect-w-3 aspect-h-2",children:x.jsx("img",{className:"h-full w-full object-cover object-center",src:`/info-resume-website/${t.image}`,alt:t.alt,loading:"lazy"})}),x.jsxs("div",{className:"px-3 pt-4 pb-6 text-center",children:[x.jsx("h2",{className:"text-xl font-semibold",children:t.title}),x.jsx("div",{className:"mt-1 text-xs text-gray-400",children:t.date}),x.jsx("div",{className:"mt-2 text-sm",children:t.description})]})]})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fo(t){return t+.5|0}const Sn=(t,e,n)=>Math.max(Math.min(t,n),e);function Qs(t){return Sn(fo(t*2.55),0,255)}function Fn(t){return Sn(fo(t*255),0,255)}function Xt(t){return Sn(fo(t/2.55)/100,0,1)}function cg(t){return Sn(fo(t*100),0,100)}const ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zu=[..."0123456789ABCDEF"],rI=t=>Zu[t&15],oI=t=>Zu[(t&240)>>4]+Zu[t&15],Ao=t=>(t&240)>>4===(t&15),lI=t=>Ao(t.r)&&Ao(t.g)&&Ao(t.b)&&Ao(t.a);function aI(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ht[t[1]]*17,g:255&ht[t[2]]*17,b:255&ht[t[3]]*17,a:e===5?ht[t[4]]*17:255}:(e===7||e===9)&&(n={r:ht[t[1]]<<4|ht[t[2]],g:ht[t[3]]<<4|ht[t[4]],b:ht[t[5]]<<4|ht[t[6]],a:e===9?ht[t[7]]<<4|ht[t[8]]:255})),n}const cI=(t,e)=>t<255?e(t):"";function uI(t){var e=lI(t)?rI:oI;return t?"#"+e(t.r)+e(t.g)+e(t.b)+cI(t.a,e):void 0}const hI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function E0(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function dI(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function fI(t,e,n){const i=E0(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function pI(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Bd(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),l=(r+o)/2;let a,c,u;return r!==o&&(u=r-o,c=l>.5?u/(2-r-o):u/(r+o),a=pI(n,i,s,u,r),a=a*60+.5),[a|0,c||0,l]}function Wd(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Fn)}function Hd(t,e,n){return Wd(E0,t,e,n)}function gI(t,e,n){return Wd(fI,t,e,n)}function mI(t,e,n){return Wd(dI,t,e,n)}function b0(t){return(t%360+360)%360}function _I(t){const e=hI.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Qs(+e[5]):Fn(+e[5]));const s=b0(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=gI(s,r,o):e[1]==="hsv"?i=mI(s,r,o):i=Hd(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function yI(t,e){var n=Bd(t);n[0]=b0(n[0]+e),n=Hd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function vI(t){if(!t)return;const e=Bd(t),n=e[0],i=cg(e[1]),s=cg(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Xt(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const ug={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function xI(){const t={},e=Object.keys(hg),n=Object.keys(ug);let i,s,r,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],s=0;s<n.length;s++)r=n[s],l=l.replace(r,ug[r]);r=parseInt(hg[o],16),t[l]=[r>>16&255,r>>8&255,r&255]}return t}let Oo;function wI(t){Oo||(Oo=xI(),Oo.transparent=[0,0,0,0]);const e=Oo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const SI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CI(t){const e=SI.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Qs(o):Sn(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?Qs(i):Sn(i,0,255)),s=255&(e[4]?Qs(s):Sn(s,0,255)),r=255&(e[6]?Qs(r):Sn(r,0,255)),{r:i,g:s,b:r,a:n}}}function EI(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const bc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Mi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function bI(t,e,n){const i=Mi(Xt(t.r)),s=Mi(Xt(t.g)),r=Mi(Xt(t.b));return{r:Fn(bc(i+n*(Mi(Xt(e.r))-i))),g:Fn(bc(s+n*(Mi(Xt(e.g))-s))),b:Fn(bc(r+n*(Mi(Xt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Lo(t,e,n){if(t){let i=Bd(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Hd(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function k0(t,e){return t&&Object.assign(e||{},t)}function dg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Fn(t[3]))):(e=k0(t,{r:0,g:0,b:0,a:1}),e.a=Fn(e.a)),e}function kI(t){return t.charAt(0)==="r"?CI(t):_I(t)}class Yr{constructor(e){if(e instanceof Yr)return e;const n=typeof e;let i;n==="object"?i=dg(e):n==="string"&&(i=aI(e)||wI(e)||kI(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=k0(this._rgb);return e&&(e.a=Xt(e.a)),e}set rgb(e){this._rgb=dg(e)}rgbString(){return this._valid?EI(this._rgb):void 0}hexString(){return this._valid?uI(this._rgb):void 0}hslString(){return this._valid?vI(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,l=2*o-1,a=i.a-s.a,c=((l*a===-1?l:(l+a)/(1+l*a))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=bI(this._rgb,e._rgb,n)),this}clone(){return new Yr(this.rgb)}alpha(e){return this._rgb.a=Fn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=fo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Lo(this._rgb,2,e),this}darken(e){return Lo(this._rgb,2,-e),this}saturate(e){return Lo(this._rgb,1,e),this}desaturate(e){return Lo(this._rgb,1,-e),this}rotate(e){return yI(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $t(){}const TI=(()=>{let t=0;return()=>t++})();function Q(t){return t==null}function Se(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function vt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Lt(t,e){return vt(t)?t:e}function K(t,e){return typeof t>"u"?e:t}const II=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function se(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Y(t,e,n,i){let s,r,o;if(Se(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if($(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function ea(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function ta(t){if(Se(t))return t.map(ta);if($(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=ta(t[n[s]]);return e}return t}function T0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function PI(t,e,n,i){if(!T0(t))return;const s=e[t],r=n[t];$(s)&&$(r)?Kr(s,r,i):e[t]=ta(r)}function Kr(t,e,n){const i=Se(e)?e:[e],s=i.length;if(!$(t))return t;n=n||{};const r=n.merger||PI;let o;for(let l=0;l<s;++l){if(o=i[l],!$(o))continue;const a=Object.keys(o);for(let c=0,u=a.length;c<u;++c)r(a[c],t,o,n)}return t}function dr(t,e){return Kr(t,e,{merger:NI})}function NI(t,e,n){if(!T0(t))return;const i=e[t],s=n[t];$(i)&&$(s)?dr(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ta(s))}const fg={"":t=>t,x:t=>t.x,y:t=>t.y};function MI(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function RI(t){const e=MI(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ps(t,e){return(fg[e]||(fg[e]=RI(e)))(t)}function Vd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gr=t=>typeof t<"u",$n=t=>typeof t=="function",pg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function DI(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const je=Math.PI,zn=2*je,na=Number.POSITIVE_INFINITY,AI=je/180,It=je/2,qn=je/4,gg=je*2/3,I0=Math.log10,jn=Math.sign;function ol(t,e,n){return Math.abs(t-e)<n}function mg(t){const e=Math.round(t);t=ol(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(I0(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function OI(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function LI(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ia(t){return!LI(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function FI(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function zI(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function di(t){return t*(je/180)}function jI(t){return t*(180/je)}function _g(t){if(!vt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function BI(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*je&&(r+=zn),{angle:r,distance:s}}function WI(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Jn(t){return(t%zn+zn)%zn}function HI(t,e,n,i){const s=Jn(t),r=Jn(e),o=Jn(n),l=Jn(r-s),a=Jn(o-s),c=Jn(s-r),u=Jn(s-o);return s===r||s===o||i||l>a&&c<u}function Pt(t,e,n){return Math.max(e,Math.min(n,t))}function VI(t){return Pt(t,-32768,32767)}function $i(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Ud(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const eh=(t,e,n,i)=>Ud(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),UI=(t,e,n)=>Ud(t,n,i=>t[i][e]>=n);function $I(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const P0=["push","pop","shift","splice","unshift"];function YI(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),P0.forEach(n=>{const i="_onData"+Vd(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...r)}),o}})})}function yg(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(P0.forEach(r=>{delete t[r]}),delete t._chartjs)}function N0(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const M0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function R0(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,M0.call(window,()=>{i=!1,t.apply(e,n)}))}}function KI(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const $d=t=>t==="start"?"left":t==="end"?"right":"center",Oe=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,GI=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Fo=t=>t===0||t===1,vg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*zn/n)),xg=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*zn/n)+1,fr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*It)+1,easeOutSine:t=>Math.sin(t*It),easeInOutSine:t=>-.5*(Math.cos(je*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Fo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Fo(t)?t:vg(t,.075,.3),easeOutElastic:t=>Fo(t)?t:xg(t,.075,.3),easeInOutElastic(t){return Fo(t)?t:t<.5?.5*vg(t*2,.1125,.45):.5+.5*xg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-fr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?fr.easeInBounce(t*2)*.5:fr.easeOutBounce(t*2-1)*.5+.5};function D0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wg(t){return D0(t)?t:new Yr(t)}function kc(t){return D0(t)?t:new Yr(t).saturate(.5).darken(.1).hexString()}const QI=["x","y","borderWidth","radius","tension"],XI=["color","borderColor","backgroundColor"];function qI(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:XI},numbers:{type:"number",properties:QI}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function JI(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Sg=new Map;function ZI(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Sg.get(n);return i||(i=new Intl.NumberFormat(t,e),Sg.set(n,i)),i}function A0(t,e,n){return ZI(e,n).format(t)}const eP={values(t){return Se(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=tP(t,n)}const o=I0(Math.abs(r)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),a={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(a,this.options.ticks.format),A0(t,i,a)}};function tP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var O0={formatters:eP};function nP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:O0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bi=Object.create(null),th=Object.create(null);function pr(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Tc(t,e,n){return typeof e=="string"?Kr(pr(t,e),n):Kr(pr(t,""),e)}class iP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>kc(s.backgroundColor),this.hoverBorderColor=(i,s)=>kc(s.borderColor),this.hoverColor=(i,s)=>kc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Tc(this,e,n)}get(e){return pr(this,e)}describe(e,n){return Tc(th,e,n)}override(e,n){return Tc(bi,e,n)}route(e,n,i,s){const r=pr(this,e),o=pr(this,i),l="_"+n;Object.defineProperties(r,{[l]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const a=this[l],c=o[s];return $(a)?Object.assign({},c,a):K(a,c)},set(a){this[l]=a}}})}apply(e){e.forEach(n=>n(this))}}var ge=new iP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qI,JI,nP]);function sP(t){return!t||Q(t.size)||Q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cg(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function Zn(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function Eg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function bg(t,e,n,i){L0(t,e,n,i,null)}function L0(t,e,n,i,s){let r,o,l,a,c,u,h,d;const f=e.pointStyle,g=e.rotation,_=e.radius;let v=(g||0)*AI;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,_,0,0,zn):t.arc(n,i,_,0,zn),t.closePath();break;case"triangle":u=s?s/2:_,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=gg,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),v+=gg,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*_),t.closePath();break;case"rectRounded":c=_*.516,a=_-c,o=Math.cos(v+qn)*a,h=Math.cos(v+qn)*(s?s/2-c:a),l=Math.sin(v+qn)*a,d=Math.sin(v+qn)*(s?s/2-c:a),t.arc(n-h,i-l,c,v-je,v-It),t.arc(n+d,i-o,c,v-It,v),t.arc(n+h,i+l,c,v,v+It),t.arc(n-d,i+o,c,v+It,v+je),t.closePath();break;case"rect":if(!g){a=Math.SQRT1_2*_,u=s?s/2:a,t.rect(n-u,i-a,2*u,2*a);break}v+=qn;case"rectRot":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+d,i-o),t.lineTo(n+h,i+l),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=qn;case"cross":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=qn,h=Math.cos(v)*(s?s/2:_),o=Math.cos(v)*_,l=Math.sin(v)*_,d=Math.sin(v)*(s?s/2:_),t.moveTo(n-h,i-l),t.lineTo(n+h,i+l),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=s?s/2:Math.cos(v)*_,l=Math.sin(v)*_,t.moveTo(n-o,i-l),t.lineTo(n+o,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:_),i+Math.sin(v)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function F0(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Yd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kd(t){t.restore()}function rP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function oP(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,a=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(a+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function lP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Qr(t,e,n,i,s,r={}){const o=Se(e)?e:[e],l=r.strokeWidth>0&&r.strokeColor!=="";let a,c;for(t.save(),t.font=s.string,rP(t,r),a=0;a<o.length;++a)c=o[a],r.backdrop&&lP(t,r.backdrop),l&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Q(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),oP(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function sa(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*je,je,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,je,It,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,It,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-It,!0),t.lineTo(n+o.topLeft,i)}const aP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uP(t,e){const n=(""+t).match(aP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const hP=t=>+t||0;function z0(t,e){const n={},i=$(e),s=i?Object.keys(e):e,r=$(t)?i?o=>K(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=hP(r(o));return n}function j0(t){return z0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ts(t){return z0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xt(t){const e=j0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ze(t,e){t=t||{},e=e||ge.font;let n=K(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=K(t.style,e.style);i&&!(""+i).match(cP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:K(t.family,e.family),lineHeight:uP(K(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:K(t.weight,e.weight),string:""};return s.string=sP(s),s}function zo(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function dP(t,e,n){const{min:i,max:s}=t,r=II(e,(s-i)/2),o=(l,a)=>n&&l===0?0:l+a;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function ks(t,e){return Object.assign(Object.create(t),e)}function Gd(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=V0("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:l=>Gd([l,...t],e,r,i)};return new Proxy(o,{deleteProperty(l,a){return delete l[a],delete l._keys,delete t[0][a],!0},get(l,a){return W0(l,a,()=>xP(a,e,t,l))},getOwnPropertyDescriptor(l,a){return Reflect.getOwnPropertyDescriptor(l._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,a){return Tg(l).includes(a)},ownKeys(l){return Tg(l)},set(l,a,c){const u=l._storage||(l._storage=s());return l[a]=u[a]=c,delete l._keys,!0}})}function gs(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:B0(t,i),setContext:r=>gs(t,r,n,i),override:r=>gs(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,l){return W0(r,o,()=>pP(r,o,l))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,l){return t[o]=l,delete r[o],!0}})}function B0(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:$n(n)?n:()=>n,isIndexable:$n(i)?i:()=>i}}const fP=(t,e)=>t?t+Vd(e):e,Qd=(t,e)=>$(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function W0(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function pP(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let l=i[e];return $n(l)&&o.isScriptable(e)&&(l=gP(e,l,t,n)),Se(l)&&l.length&&(l=mP(e,l,t,o.isIndexable)),Qd(e,l)&&(l=gs(l,s,r&&r[e],o)),l}function gP(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let a=e(r,o||i);return l.delete(t),Qd(t,a)&&(a=Xd(s._scopes,s,t,a)),a}function mP(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:l}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if($(e[0])){const a=e,c=s._scopes.filter(u=>u!==a);e=[];for(const u of a){const h=Xd(c,s,t,u);e.push(gs(h,r,o&&o[t],l))}}return e}function H0(t,e,n){return $n(t)?t(e,n):t}const _P=(t,e)=>t===!0?e:typeof t=="string"?ps(e,t):void 0;function yP(t,e,n,i,s){for(const r of e){const o=_P(n,r);if(o){t.add(o);const l=H0(o._fallback,n,s);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Xd(t,e,n,i){const s=e._rootScopes,r=H0(e._fallback,n,i),o=[...t,...s],l=new Set;l.add(i);let a=kg(l,o,n,r||n,i);return a===null||typeof r<"u"&&r!==n&&(a=kg(l,o,r,a,i),a===null)?!1:Gd(Array.from(l),[""],s,r,()=>vP(e,n,i))}function kg(t,e,n,i,s){for(;n;)n=yP(t,e,n,i,s);return n}function vP(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Se(s)&&$(n)?n:s||{}}function xP(t,e,n,i){let s;for(const r of e)if(s=V0(fP(r,t),n),typeof s<"u")return Qd(t,s)?Xd(n,i,t,s):s}function V0(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Tg(t){let e=t._keys;return e||(e=t._keys=wP(t._scopes)),e}function wP(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function qd(){return typeof window<"u"&&typeof document<"u"}function Jd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ra(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Fa=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function SP(t,e){return Fa(t).getPropertyValue(e)}const CP=["top","right","bottom","left"];function mi(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=CP[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const EP=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function bP(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,l,a;if(EP(s,r,t.target))l=s,a=r;else{const c=e.getBoundingClientRect();l=i.clientX-c.left,a=i.clientY-c.top,o=!0}return{x:l,y:a,box:o}}function oi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Fa(n),r=s.boxSizing==="border-box",o=mi(s,"padding"),l=mi(s,"border","width"),{x:a,y:c,box:u}=bP(t,n),h=o.left+(u&&l.left),d=o.top+(u&&l.top);let{width:f,height:g}=e;return r&&(f-=o.width+l.width,g-=o.height+l.height),{x:Math.round((a-h)/f*n.width/i),y:Math.round((c-d)/g*n.height/i)}}function kP(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&Jd(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),l=Fa(r),a=mi(l,"border","width"),c=mi(l,"padding");e=o.width-c.width-a.width,n=o.height-c.height-a.height,i=ra(l.maxWidth,r,"clientWidth"),s=ra(l.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||na,maxHeight:s||na}}const jo=t=>Math.round(t*10)/10;function TP(t,e,n,i){const s=Fa(t),r=mi(s,"margin"),o=ra(s.maxWidth,t,"clientWidth")||na,l=ra(s.maxHeight,t,"clientHeight")||na,a=kP(t,e,n);let{width:c,height:u}=a;if(s.boxSizing==="content-box"){const d=mi(s,"border","width"),f=mi(s,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=jo(Math.min(c,o,a.maxWidth)),u=jo(Math.min(u,l,a.maxHeight)),c&&!u&&(u=jo(c/2)),(e!==void 0||n!==void 0)&&i&&a.height&&u>a.height&&(u=a.height,c=jo(Math.floor(u*i))),{width:c,height:u}}function Ig(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const IP=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};qd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Pg(t,e){const n=SP(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const PP=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},NP=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ns(t,e,n){return t?PP(e,n):NP()}function U0(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function $0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class MP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=M0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,l=!1,a;for(;o>=0;--o)a=r[o],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),l=!0):(r[o]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Yt=new MP;const Ng="transparent",RP={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=wg(t||Ng),s=i.valid&&wg(e||Ng);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class DP{constructor(e,n,i,s){const r=n[i];s=zo([e.to,s,r,e.from]);const o=zo([e.from,r,s]);this._active=!0,this._fn=e.fn||RP[e.type||typeof o],this._easing=fr[e.easing]||fr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=zo([e.to,n,s,e.from]),this._from=zo([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,l=this._to;let a;if(this._active=r!==l&&(o||n<i),!this._active){this._target[s]=l,this._notify(!0);return}if(n<0){this._target[s]=r;return}a=n/i%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[s]=this._fn(r,l,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class Y0{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$(e))return;const n=Object.keys(ge.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!$(r))return;const o={};for(const l of n)o[l]=r[l];(Se(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,n){const i=n.options,s=OP(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&AP(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let a;for(a=o.length-1;a>=0;--a){const c=o[a];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,l);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new DP(d,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Yt.add(this._chart,i),!0}}function AP(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function OP(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Mg(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function LP(t,e,n){if(n===!1)return!1;const i=Mg(t,n),s=Mg(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function FP(t){let e,n,i,s;return $(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function K0(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Rg(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,l,a,c;if(e===null)return;let u=!1;for(o=0,l=s.length;o<l;++o){if(a=+s[o],a===n){if(u=!0,i.all)continue;break}c=t.values[a],vt(c)&&(r||e===0||jn(e)===jn(c))&&(e+=c)}return!u&&!i.all?0:e}function zP(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let a,c,u;for(a=0,c=o.length;a<c;++a)u=o[a],l[a]={[s]:u,[r]:t[u]};return l}function Ic(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function jP(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function BP(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function WP(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Dg(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function Ag(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:l}=i,a=r.axis,c=o.axis,u=jP(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[a]:_,[c]:v}=g,p=g._stacks||(g._stacks={});d=p[c]=WP(s,u,_),d[l]=v,d._top=Dg(d,o,!0,i.type),d._bottom=Dg(d,o,!1,i.type);const m=d._visualValues||(d._visualValues={});m[l]=v}}function Pc(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function HP(t,e){return ks(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function VP(t,e,n){return ks(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Bs(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Nc=t=>t==="reset"||t==="none",Og=(t,e)=>e?t:Object.assign({},t),UP=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:K0(n,!0),values:null};class gr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ic(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,r=n.xAxisID=K(i.xAxisID,Pc(e,"x")),o=n.yAxisID=K(i.yAxisID,Pc(e,"y")),l=n.rAxisID=K(i.rAxisID,Pc(e,"r")),a=n.indexAxis,c=n.iAxisID=s(a,r,o,l),u=n.vAxisID=s(a,o,r,l);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&yg(this._data,this),e._stacked&&Bs(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if($(n)){const s=this._cachedMeta;this._data=zP(n,s)}else if(i!==n){if(i){yg(i,this);const s=this._cachedMeta;Bs(s),s._parsed=[]}n&&Object.isExtensible(n)&&YI(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Ic(n.vScale,n),n.stack!==i.stack&&(s=!0,Bs(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(Ag(this,n._parsed),n._stacked=Ic(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,l=r.axis;let a=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=s,i._sorted=!0,d=s;else{Se(s[e])?d=this.parseArrayData(i,s,e,n):$(s[e])?d=this.parseObjectData(i,s,e,n):d=this.parsePrimitiveData(i,s,e,n);const f=()=>h[l]===null||c&&h[l]<c[l];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],a&&(f()&&(a=!1),c=h);i._sorted=a}o&&Ag(this,d)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,l=r.axis,a=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let d,f,g;for(d=0,f=s;d<f;++d)g=d+i,h[d]={[l]:u||r.parse(c[g],g),[a]:o.parse(n[g],g)};return h}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,l=new Array(s);let a,c,u,h;for(a=0,c=s;a<c;++a)u=a+i,h=n[u],l[a]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=new Array(s);let u,h,d,f;for(u=0,h=s;u<h;++u)d=u+i,f=n[d],c[u]={x:r.parse(ps(f,l),d),y:o.parse(ps(f,a),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],l={keys:K0(s,!0),values:n._stacks[e.axis]._visualValues};return Rg(l,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const l=s&&i._stacks[n.axis];s&&l&&(s.values=l,o=Rg(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,l=this._getOtherScale(e),a=UP(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=BP(l);let d,f;function g(){f=s[d];const _=f[l.axis];return!vt(f[e.axis])||u>_||h<_}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,a),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,f,a);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],vt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=FP(K(this.options.clip,LP(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],l=this._drawStart||0,a=this._drawCount||s.length-l,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,l,a),u=l;u<l+a;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=VP(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=HP(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,l=r[o],a=this.enableOptionSharing&&Gr(i);if(l)return Og(l,a);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(ge.elements[e]),g=()=>this.getContext(i,s,n),_=c.resolveNamedOptions(d,f,g,h);return _.$shared&&(_.$shared=a,r[o]=Object.freeze(Og(_,a))),_}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,l=r[o];if(l)return l;let a;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);a=u.createResolver(d,this.getContext(e,i,n))}const c=new Y0(s,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Nc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Nc(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Nc(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,a,c]of this._syncList)this[l](a,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let l;const a=c=>{for(c.length+=n,l=c.length-1;l>=o;l--)c[l]=c[l-n]};for(a(r),l=e;l<o;++l)r[l]=new this.dataElementType;this._parsing&&a(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Bs(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}H(gr,"defaults",{}),H(gr,"datasetElementType",null),H(gr,"dataElementType",null);function $P(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=N0(i.sort((s,r)=>s-r))}return t._cache.$bar}function YP(t){const e=t.iScale,n=$P(e,t.type);let i=e._length,s,r,o,l;const a=()=>{o===32767||o===-32768||(Gr(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),a();for(l=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),a();return i}function KP(t,e,n,i){const s=n.barThickness;let r,o;return Q(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function GP(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,l=t<s.length-1?s[t+1]:null;const a=n.categoryPercentage;o===null&&(o=r-(l===null?e.end-e.start:l-r)),l===null&&(l=r+r-o);const c=r-(r-Math.min(o,l))/2*a;return{chunk:Math.abs(l-o)/2*a/i,ratio:n.barPercentage,start:c}}function QP(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),l=Math.max(s,r);let a=o,c=l;Math.abs(o)>Math.abs(l)&&(a=l,c=o),e[n.axis]=c,e._custom={barStart:a,barEnd:c,start:s,end:r,min:o,max:l}}function G0(t,e,n,i){return Se(t)?QP(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Lg(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),l=s===r,a=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[s.axis]=l||s.parse(o[c],c),a.push(G0(d,h,r,c));return a}function Mc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function XP(t,e,n){return t!==0?jn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function qP(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function JP(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:a,top:c,bottom:u}=qP(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[Fg(u,o,l,a)]=!0,s=c)),r[Fg(s,o,l,a)]=!0,t.borderSkipped=r}function Fg(t,e,n,i){return i?(t=ZP(t,e,n),t=zg(t,n,e)):t=zg(t,e,n),t}function ZP(t,e,n){return t===e?n:t===n?e:t}function zg(t,e,n){return t==="start"?e:t==="end"?n:t}function eN(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ll extends gr{parsePrimitiveData(e,n,i,s){return Lg(e,n,i,s)}parseArrayData(e,n,i,s){return Lg(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:l="x",yAxisKey:a="y"}=this._parsing,c=r.axis==="x"?l:a,u=o.axis==="x"?l:a,h=[];let d,f,g,_;for(d=i,f=i+s;d<f;++d)_=n[d],g={},g[r.axis]=r.parse(ps(_,c),d),h.push(G0(ps(_,u),g,o,d));return h}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,l=Mc(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:l}}=this,a=l.getBasePixel(),c=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const g=this.getParsed(f),_=r||Q(g[l.axis])?{base:a,head:a}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),p=(g._stacks||{})[l.axis],m={horizontal:c,base:_.base,enableBorderRadius:!p||Mc(g._custom)||o===p._top||o===p._bottom,x:c?_.head:v.center,y:c?v.center:_.head,height:c?v.size:Math.abs(_.size),width:c?Math.abs(_.size):v.size};d&&(m.options=h||this.resolveDataElementOptions(f,e[f].active?"active":s));const y=m.options||e[f].options;JP(m,y,p,o),eN(m,y,u.ratio),this.updateElement(e[f],f,m,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),a=l&&l[i.axis],c=u=>{const h=u._parsed.find(f=>f[i.axis]===a),d=h&&h[u.vScale.axis];if(Q(d)||isNaN(d))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const l=e.barThickness;return{min:l||YP(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,l=r||0,a=this.getParsed(e),c=a._custom,u=Mc(c);let h=a[n.axis],d=0,f=i?this.applyStack(n,a,i):h,g,_;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&jn(h)!==jn(c.barEnd)&&(d=0),d+=h);const v=!Q(r)&&!u?r:d;let p=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(d+f):g=p,_=g-p,Math.abs(_)<o){_=XP(_,n,l)*o,h===l&&(p-=_/2);const m=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),w=Math.min(m,y),S=Math.max(m,y);p=Math.max(Math.min(p,S),w),g=p+_,i&&!u&&(a._stacks[n.axis]._visualValues[s]=n.getValueForPixel(g)-n.getValueForPixel(p))}if(p===n.getPixelForValue(l)){const m=jn(_)*n.getLineWidthForValue(l)/2;p+=m,_-=m}return{size:_,base:p,head:g,center:g+_/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=K(s.maxBarThickness,1/0);let l,a;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?GP(e,n,s,c):KP(e,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);l=u.start+u.chunk*h+u.chunk/2,a=Math.min(o,u.chunk*u.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),a=Math.min(o,n.min*n.ratio);return{base:l-a/2,head:l+a/2,center:l,size:a}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}H(ll,"id","bar"),H(ll,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),H(ll,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ei(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zd{constructor(e){H(this,"options");this.options=e||{}}static override(e){Object.assign(Zd.prototype,e)}init(){}formats(){return ei()}parse(){return ei()}format(){return ei()}add(){return ei()}diff(){return ei()}startOf(){return ei()}endOf(){return ei()}}var tN={_date:Zd};function nN(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,l=s._cachedMeta.iScale,a=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&r.length){const c=l._reversePixels?UI:eh;if(i){if(s._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(r,e,n-h),f=c(r,e,n+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,e,n);if(a){const{vScale:h}=s._cachedMeta,{_parsed:d}=t,f=d.slice(0,u.lo+1).reverse().findIndex(_=>!Q(_[h.axis]));u.lo-=Math.max(0,f);const g=d.slice(u.hi).findIndex(_=>!Q(_[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function za(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,a=r.length;l<a;++l){const{index:c,data:u}=r[l],{lo:h,hi:d}=nN(r[l],e,o,s);for(let f=h;f<=d;++f){const g=u[f];g.skip||i(g,c,f)}}}function iN(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Rc(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||za(t,n,e,function(l,a,c){!s&&!F0(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&r.push({element:l,datasetIndex:a,index:c})},!0),r}function sN(t,e,n,i){let s=[];function r(o,l,a){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=BI(o,{x:e.x,y:e.y});HI(h,c,u)&&s.push({element:o,datasetIndex:l,index:a})}return za(t,n,e,r),s}function rN(t,e,n,i,s,r){let o=[];const l=iN(n);let a=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const g=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(g))&&!f)return;const v=l(e,g);v<a?(o=[{element:u,datasetIndex:h,index:d}],a=v):v===a&&o.push({element:u,datasetIndex:h,index:d})}return za(t,n,e,c),o}function Dc(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?sN(t,e,n,s):rN(t,e,n,i,s,r)}function jg(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return za(t,n,e,(a,c,u)=>{a[o]&&a[o](e[n],s)&&(r.push({element:a,datasetIndex:c,index:u}),l=l||a.inRange(e.x,e.y,s))}),i&&!l?[]:r}var oN={modes:{index(t,e,n,i){const s=oi(e,t),r=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?Rc(t,s,r,i,o):Dc(t,s,r,!1,i,o),a=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=l[0].index,h=c.data[u];h&&!h.skip&&a.push({element:h,datasetIndex:c.index,index:u})}),a):[]},dataset(t,e,n,i){const s=oi(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?Rc(t,s,r,i,o):Dc(t,s,r,!1,i,o);if(l.length>0){const a=l[0].datasetIndex,c=t.getDatasetMeta(a).data;l=[];for(let u=0;u<c.length;++u)l.push({element:c[u],datasetIndex:a,index:u})}return l},point(t,e,n,i){const s=oi(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Rc(t,s,r,i,o)},nearest(t,e,n,i){const s=oi(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Dc(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=oi(e,t);return jg(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=oi(e,t);return jg(t,s,"y",n.intersect,i)}}};const Q0=["left","top","right","bottom"];function Ws(t,e){return t.filter(n=>n.pos===e)}function Bg(t,e){return t.filter(n=>Q0.indexOf(n.pos)===-1&&n.box.axis===e)}function Hs(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function lN(t){const e=[];let n,i,s,r,o,l;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:l=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:l});return e}function aN(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Q0.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function cN(t,e){const n=aN(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,l;for(r=0,o=t.length;r<o;++r){l=t[r];const{fullSize:a}=l.box,c=n[l.stack],u=c&&l.stackWeight/c.weight;l.horizontal?(l.width=u?u*i:a&&e.availableWidth,l.height=s):(l.width=i,l.height=u?u*s:a&&e.availableHeight)}return n}function uN(t){const e=lN(t),n=Hs(e.filter(c=>c.box.fullSize),!0),i=Hs(Ws(e,"left"),!0),s=Hs(Ws(e,"right")),r=Hs(Ws(e,"top"),!0),o=Hs(Ws(e,"bottom")),l=Bg(e,"x"),a=Bg(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(a).concat(o).concat(l),chartArea:Ws(e,"chartArea"),vertical:i.concat(s).concat(a),horizontal:r.concat(o).concat(l)}}function Wg(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function X0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function hN(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!$(s)){n.size&&(t[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[s]+=n.size}r.getPadding&&X0(o,r.getPadding());const l=Math.max(0,e.outerWidth-Wg(o,t,"left","right")),a=Math.max(0,e.outerHeight-Wg(o,t,"top","bottom")),c=l!==t.w,u=a!==t.h;return t.w=l,t.h=a,n.horizontal?{same:c,other:u}:{same:u,other:c}}function dN(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function fN(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function Xs(t,e,n,i){const s=[];let r,o,l,a,c,u;for(r=0,o=t.length,c=0;r<o;++r){l=t[r],a=l.box,a.update(l.width||e.w,l.height||e.h,fN(l.horizontal,e));const{same:h,other:d}=hN(e,n,l,i);c|=h&&s.length,u=u||d,a.fullSize||s.push(l)}return c&&Xs(s,e,n,i)||u}function Bo(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function Hg(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const l of t){const a=l.box,c=i[l.stack]||{placed:0,weight:1},u=l.stackWeight/c.weight||1;if(l.horizontal){const h=e.w*u,d=c.size||a.height;Gr(c.start)&&(o=c.start),a.fullSize?Bo(a,s.left,o,n.outerWidth-s.right-s.left,d):Bo(a,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=a.bottom}else{const h=e.h*u,d=c.size||a.width;Gr(c.start)&&(r=c.start),a.fullSize?Bo(a,r,s.top,d,n.outerHeight-s.bottom-s.top):Bo(a,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=a.right}}e.x=r,e.y=o}var gt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=xt(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),l=uN(t.boxes),a=l.vertical,c=l.horizontal;Y(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=a.reduce((_,v)=>v.box.options&&v.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},s);X0(d,xt(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:s.left,y:s.top},s),g=cN(a.concat(c),h);Xs(l.fullSize,f,h,g),Xs(a,f,h,g),Xs(c,f,h,g)&&Xs(a,f,h,g),dN(f),Hg(l.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Hg(l.rightAndBottom,f,h,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Y(l.chartArea,_=>{const v=_.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class q0{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class pN extends q0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const al="$chartjs",gN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vg=t=>t===null||t==="";function mN(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[al]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Vg(s)){const r=Pg(t,"width");r!==void 0&&(t.width=r)}if(Vg(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Pg(t,"height");r!==void 0&&(t.height=r)}return t}const J0=IP?{passive:!0}:!1;function _N(t,e,n){t&&t.addEventListener(e,n,J0)}function yN(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,J0)}function vN(t,e){const n=gN[t.type]||t.type,{x:i,y:s}=oi(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function oa(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function xN(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||oa(l.addedNodes,i),o=o&&!oa(l.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function wN(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||oa(l.removedNodes,i),o=o&&!oa(l.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Xr=new Map;let Ug=0;function Z0(){const t=window.devicePixelRatio;t!==Ug&&(Ug=t,Xr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function SN(t,e){Xr.size||window.addEventListener("resize",Z0),Xr.set(t,e)}function CN(t){Xr.delete(t),Xr.size||window.removeEventListener("resize",Z0)}function EN(t,e,n){const i=t.canvas,s=i&&Jd(i);if(!s)return;const r=R0((l,a)=>{const c=s.clientWidth;n(l,a),c<s.clientWidth&&n()},window),o=new ResizeObserver(l=>{const a=l[0],c=a.contentRect.width,u=a.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),SN(t,r),o}function Ac(t,e,n){n&&n.disconnect(),e==="resize"&&CN(t)}function bN(t,e,n){const i=t.canvas,s=R0(r=>{t.ctx!==null&&n(vN(r,t))},t);return _N(i,e,s),s}class kN extends q0{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(mN(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[al])return!1;const i=n[al].initial;["height","width"].forEach(r=>{const o=i[r];Q(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[al],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:xN,detach:wN,resize:EN}[n]||bN;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Ac,detach:Ac,resize:Ac}[n]||yN)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return TP(e,n,i,s)}isAttached(e){const n=e&&Jd(e);return!!(n&&n.isConnected)}}function TN(t){return!qd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?pN:kN}class Yn{constructor(){H(this,"x");H(this,"y");H(this,"active",!1);H(this,"options");H(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ia(this.x)&&ia(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}H(Yn,"defaults",{}),H(Yn,"defaultRoutes");function IN(t,e){const n=t.options.ticks,i=PN(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?MN(e):[],o=r.length,l=r[0],a=r[o-1],c=[];if(o>s)return RN(e,c,r,o/s),c;const u=NN(r,e,s);if(o>0){let h,d;const f=o>1?Math.round((a-l)/(o-1)):null;for(Wo(e,c,u,Q(f)?0:l-f,l),h=0,d=o-1;h<d;h++)Wo(e,c,u,r[h],r[h+1]);return Wo(e,c,u,a,Q(f)?e.length:a+f),c}return Wo(e,c,u),c}function PN(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function NN(t,e,n){const i=DN(t),s=e.length/n;if(!i)return Math.max(s,1);const r=OI(i);for(let o=0,l=r.length-1;o<l;o++){const a=r[o];if(a>s)return a}return Math.max(s,1)}function MN(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function RN(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Wo(t,e,n,i,s){const r=K(i,0),o=Math.min(K(s,t.length),t.length);let l=0,a,c,u;for(n=Math.ceil(n),s&&(a=s-i,n=a/Math.floor(a/n)),u=r;u<0;)l++,u=Math.round(r+l*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),l++,u=Math.round(r+l*n))}function DN(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const AN=t=>t==="left"?"right":t==="right"?"left":t,$g=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Yg=(t,e)=>Math.min(e||t,t);function Kg(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function ON(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,l=1e-6;let a=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(a-r,o-a):e===0?c=(t.getPixelForTick(1)-a)/2:c=(a-t.getPixelForTick(s-1))/2,a+=s<e?c:-c,a<r-l||a>o+l)))return a}function LN(t,e){Y(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Vs(t){return t.drawTicks?t.tickLength:0}function Gg(t,e){if(!t.display)return 0;const n=ze(t.font,e),i=xt(t.padding);return(Se(t.text)?t.text.length:1)*n.lineHeight+i.height}function FN(t,e){return ks(t,{scale:e,type:"scale"})}function zN(t,e,n){return ks(t,{tick:n,index:e,type:"tick"})}function jN(t,e,n){let i=$d(t);return(n&&e!=="right"||!n&&e==="right")&&(i=AN(i)),i}function BN(t,e,n,i){const{top:s,left:r,bottom:o,right:l,chart:a}=t,{chartArea:c,scales:u}=a;let h=0,d,f,g;const _=o-s,v=l-r;if(t.isHorizontal()){if(f=Oe(i,r,l),$(n)){const p=Object.keys(n)[0],m=n[p];g=u[p].getPixelForValue(m)+_-e}else n==="center"?g=(c.bottom+c.top)/2+_-e:g=$g(t,n,e);d=l-r}else{if($(n)){const p=Object.keys(n)[0],m=n[p];f=u[p].getPixelForValue(m)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=$g(t,n,e);g=Oe(i,o,s),h=n==="left"?-It:It}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class Ts extends Yn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Lt(e,Number.POSITIVE_INFINITY),n=Lt(n,Number.NEGATIVE_INFINITY),i=Lt(i,Number.POSITIVE_INFINITY),s=Lt(s,Number.NEGATIVE_INFINITY),{min:Lt(e,i),max:Lt(n,s),minDefined:vt(e),maxDefined:vt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let a=0,c=l.length;a<c;++a)o=l[a].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Lt(n,Lt(i,n)),max:Lt(i,Lt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){se(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dP(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=l<this.ticks.length;this._convertTicksToLabels(a?Kg(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){se(this.options.afterUpdate,[this])}beforeSetDimensions(){se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){se(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),se(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=se(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Yg(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,l,a,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=Pt(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/i:f/(i-1),h+6>l&&(l=f/(i-(e.offset?.5:1)),a=this.maxHeight-Vs(e.grid)-n.padding-Gg(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=jI(Math.min(Math.asin(Pt((u.highest.height+6)/l,-1,1)),Math.asin(Pt(a/c,-1,1))-Math.asin(Pt(d/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){se(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const a=Gg(s,n.options.font);if(l?(e.width=this.maxWidth,e.height=Vs(r)+a):(e.height=this.maxHeight,e.width=Vs(r)+a),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,g=di(this.labelRotation),_=Math.cos(g),v=Math.sin(g);if(l){const p=i.mirror?0:v*h.width+_*d.height;e.height=Math.min(this.maxHeight,e.height+p+f)}else{const p=i.mirror?0:_*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+p+f)}this._calculatePadding(c,u,v,_)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:l}=this.options,a=this.labelRotation!==0,c=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;a?c?(d=s*e.width,f=i*n.height):(d=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){se(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Q(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Kg(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],l=[],a=Math.floor(n/Yg(n,i));let c=0,u=0,h,d,f,g,_,v,p,m,y,w,S;for(h=0;h<n;h+=a){if(g=e[h].label,_=this._resolveTickFontOptions(h),s.font=v=_.string,p=r[v]=r[v]||{data:{},gc:[]},m=_.lineHeight,y=w=0,!Q(g)&&!Se(g))y=Cg(s,p.data,p.gc,y,g),w=m;else if(Se(g))for(d=0,f=g.length;d<f;++d)S=g[d],!Q(S)&&!Se(S)&&(y=Cg(s,p.data,p.gc,y,S),w+=m);o.push(y),l.push(w),c=Math.max(y,c),u=Math.max(w,u)}LN(r,n);const C=o.indexOf(c),E=l.indexOf(u),b=R=>({width:o[R]||0,height:l[R]||0});return{first:b(0),last:b(n-1),widest:b(C),highest:b(E),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return VI(this._alignToPixels?Zn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=zN(this.getContext(),e,i))}return this.$context||(this.$context=FN(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=di(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,l=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*i>l*s?l/i:a/s:a*s<l*i?a/i:l/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:l}=s,a=r.offset,c=this.isHorizontal(),h=this.ticks.length+(a?1:0),d=Vs(r),f=[],g=l.setContext(this.getContext()),_=g.display?g.width:0,v=_/2,p=function(fe){return Zn(i,fe,_)};let m,y,w,S,C,E,b,R,M,A,W,_e;if(o==="top")m=p(this.bottom),E=this.bottom-d,R=m-v,A=p(e.top)+v,_e=e.bottom;else if(o==="bottom")m=p(this.top),A=e.top,_e=p(e.bottom)-v,E=m+v,R=this.top+d;else if(o==="left")m=p(this.right),C=this.right-d,b=m-v,M=p(e.left)+v,W=e.right;else if(o==="right")m=p(this.left),M=e.left,W=p(e.right)-v,C=m+v,b=this.left+d;else if(n==="x"){if(o==="center")m=p((e.top+e.bottom)/2+.5);else if($(o)){const fe=Object.keys(o)[0],Re=o[fe];m=p(this.chart.scales[fe].getPixelForValue(Re))}A=e.top,_e=e.bottom,E=m+v,R=E+d}else if(n==="y"){if(o==="center")m=p((e.left+e.right)/2);else if($(o)){const fe=Object.keys(o)[0],Re=o[fe];m=p(this.chart.scales[fe].getPixelForValue(Re))}C=m-v,b=C-d,M=e.left,W=e.right}const st=K(s.ticks.maxTicksLimit,h),le=Math.max(1,Math.ceil(h/st));for(y=0;y<h;y+=le){const fe=this.getContext(y),Re=r.setContext(fe),P=l.setContext(fe),O=Re.lineWidth,L=Re.color,q=P.dash||[],te=P.dashOffset,At=Re.tickWidth,We=Re.tickColor,Ut=Re.tickBorderDash||[],He=Re.tickBorderDashOffset;w=ON(this,y,a),w!==void 0&&(S=Zn(i,w,O),c?C=b=M=W=S:E=R=A=_e=S,f.push({tx1:C,ty1:E,tx2:b,ty2:R,x1:M,y1:A,x2:W,y2:_e,width:O,color:L,borderDash:q,borderDashOffset:te,tickWidth:At,tickColor:We,tickBorderDash:Ut,tickBorderDashOffset:He}))}return this._ticksLength=h,this._borderValue=m,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),l=this.ticks,{align:a,crossAlign:c,padding:u,mirror:h}=r,d=Vs(i.grid),f=d+u,g=h?-u:f,_=-di(this.labelRotation),v=[];let p,m,y,w,S,C,E,b,R,M,A,W,_e="middle";if(s==="top")C=this.bottom-g,E=this._getXAxisLabelAlignment();else if(s==="bottom")C=this.top+g,E=this._getXAxisLabelAlignment();else if(s==="left"){const le=this._getYAxisLabelAlignment(d);E=le.textAlign,S=le.x}else if(s==="right"){const le=this._getYAxisLabelAlignment(d);E=le.textAlign,S=le.x}else if(n==="x"){if(s==="center")C=(e.top+e.bottom)/2+f;else if($(s)){const le=Object.keys(s)[0],fe=s[le];C=this.chart.scales[le].getPixelForValue(fe)+f}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-f;else if($(s)){const le=Object.keys(s)[0],fe=s[le];S=this.chart.scales[le].getPixelForValue(fe)}E=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(a==="start"?_e="top":a==="end"&&(_e="bottom"));const st=this._getLabelSizes();for(p=0,m=l.length;p<m;++p){y=l[p],w=y.label;const le=r.setContext(this.getContext(p));b=this.getPixelForTick(p)+r.labelOffset,R=this._resolveTickFontOptions(p),M=R.lineHeight,A=Se(w)?w.length:1;const fe=A/2,Re=le.color,P=le.textStrokeColor,O=le.textStrokeWidth;let L=E;o?(S=b,E==="inner"&&(p===m-1?L=this.options.reverse?"left":"right":p===0?L=this.options.reverse?"right":"left":L="center"),s==="top"?c==="near"||_!==0?W=-A*M+M/2:c==="center"?W=-st.highest.height/2-fe*M+M:W=-st.highest.height+M/2:c==="near"||_!==0?W=M/2:c==="center"?W=st.highest.height/2-fe*M:W=st.highest.height-A*M,h&&(W*=-1),_!==0&&!le.showLabelBackdrop&&(S+=M/2*Math.sin(_))):(C=b,W=(1-A)*M/2);let q;if(le.showLabelBackdrop){const te=xt(le.backdropPadding),At=st.heights[p],We=st.widths[p];let Ut=W-te.top,He=0-te.left;switch(_e){case"middle":Ut-=At/2;break;case"bottom":Ut-=At;break}switch(E){case"center":He-=We/2;break;case"right":He-=We;break;case"inner":p===m-1?He-=We:p>0&&(He-=We/2);break}q={left:He,top:Ut,width:We+te.width,height:At+te.height,color:le.backdropColor}}v.push({label:w,font:R,textOffset:W,options:{rotation:_,color:Re,strokeColor:P,strokeWidth:O,textAlign:L,textBaseline:_e,translation:[S,C],backdrop:q}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-di(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),l=e+r,a=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u+=a)):(u=this.right-l,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=a/2):(c="left",u-=a)):(u=this.left+l,i==="near"?c="left":i==="center"?(c="center",u+=a/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const l=(a,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const a=s[r];n.drawOnChartArea&&l({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),n.drawTicks&&l({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const l=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Zn(e,this.left,o)-o/2,u=Zn(e,this.right,l)+l/2,h=d=a):(h=Zn(e,this.top,o)-o/2,d=Zn(e,this.bottom,l)+l/2,c=u=a),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Yd(i,s);const r=this.getLabelItems(e);for(const o of r){const l=o.options,a=o.font,c=o.label,u=o.textOffset;Qr(i,c,0,u,a,l)}s&&Kd(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ze(i.font),o=xt(i.padding),l=i.align;let a=r.lineHeight/2;n==="bottom"||n==="center"||$(n)?(a+=o.bottom,Se(i.text)&&(a+=r.lineHeight*(i.text.length-1))):a+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=BN(this,a,n,l);Qr(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:jN(l,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=K(e.grid&&e.grid.z,-1),s=K(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ts.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const l=n[r];l[i]===this.id&&(!e||l.type===e)&&s.push(l)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ze(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ho{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;VN(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,WN(e,o,i),this.override&&ge.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in ge[s]&&(delete ge[s][i],this.override&&delete bi[i])}}function WN(t,e,n){const i=Kr(Object.create(null),[n?ge.get(n):{},ge.get(e),t.defaults]);ge.set(e,i),t.defaultRoutes&&HN(e,t.defaultRoutes),t.descriptors&&ge.describe(e,t.descriptors)}function HN(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),l=o.pop(),a=o.join(".");ge.route(r,s,a,l)})}function VN(t){return"id"in t&&"defaults"in t}class UN{constructor(){this.controllers=new Ho(gr,"datasets",!0),this.elements=new Ho(Yn,"elements"),this.plugins=new Ho(Object,"plugins"),this.scales=new Ho(Ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Y(s,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,i){const s=Vd(e);se(i["before"+s],[],i),n[e](i),se(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var jt=new UN;class $N{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,l=o[i],a=[n,s,r.options];if(se(l,a,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=K(i.options&&i.options.plugins,{}),r=YN(i);return s===!1&&!n?[]:GN(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(l=>!o.some(a=>l.plugin.id===a.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function YN(t){const e={},n=[],i=Object.keys(jt.plugins.items);for(let r=0;r<i.length;r++)n.push(jt.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function KN(t,e){return!e&&t===!1?null:t===!0?{}:t}function GN(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const l of e){const a=l.id,c=KN(i[a],s);c!==null&&r.push({plugin:l,options:QN(t.config,{plugin:l,local:n[a]},c,o)})}return r}function QN(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nh(t,e){const n=ge.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function XN(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function qN(t,e){return t===e?"_index_":"_value_"}function Qg(t){if(t==="x"||t==="y"||t==="r")return t}function JN(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ih(t,...e){if(Qg(t))return t;for(const n of e){const i=n.axis||JN(n.position)||t.length>1&&Qg(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Xg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function ZN(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Xg(t,"x",n[0])||Xg(t,"y",n[0])}return{}}function eM(t,e){const n=bi[t.type]||{scales:{}},i=e.scales||{},s=nh(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!$(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const a=ih(o,l,ZN(o,t),ge.scales[l.type]),c=qN(a,s),u=n.scales||{};r[o]=dr(Object.create(null),[{axis:a},l,u[a],u[c]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,a=o.indexAxis||nh(l,e),u=(bi[l]||{}).scales||{};Object.keys(u).forEach(h=>{const d=XN(h,a),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),dr(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const l=r[o];dr(l,[ge.scales[l.type],ge.scale])}),r}function ex(t){const e=t.options||(t.options={});e.plugins=K(e.plugins,{}),e.scales=eM(t,e)}function tx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function tM(t){return t=t||{},t.data=tx(t.data),ex(t),t}const qg=new Map,nx=new Set;function Vo(t,e){let n=qg.get(t);return n||(n=e(),qg.set(t,n),nx.add(n)),n}const Us=(t,e,n)=>{const i=ps(e,n);i!==void 0&&t.add(i)};class nM{constructor(e){this._config=tM(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=tx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ex(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vo(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vo(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Vo(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),l=o.get(n);if(l)return l;const a=new Set;n.forEach(u=>{e&&(a.add(e),u.forEach(h=>Us(a,e,h))),u.forEach(h=>Us(a,s,h)),u.forEach(h=>Us(a,bi[r]||{},h)),u.forEach(h=>Us(a,ge,h)),u.forEach(h=>Us(a,th,h))});const c=Array.from(a);return c.length===0&&c.push(Object.create(null)),nx.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,bi[n]||{},ge.datasets[n]||{},{type:n},ge,th]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:l}=Jg(this._resolverCache,e,s);let a=o;if(sM(o,n)){r.$shared=!1,i=$n(i)?i():i;const c=this.createResolver(e,i,l);a=gs(o,i,c)}for(const c of n)r[c]=a[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=Jg(this._resolverCache,e,i);return $(n)?gs(r,n,void 0,s):r}}function Jg(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Gd(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,r)),r}const iM=t=>$(t)&&Object.getOwnPropertyNames(t).some(e=>$n(t[e]));function sM(t,e){const{isScriptable:n,isIndexable:i}=B0(t);for(const s of e){const r=n(s),o=i(s),l=(o||r)&&t[s];if(r&&($n(l)||iM(l))||o&&Se(l))return!0}return!1}var rM="4.4.8";const oM=["top","bottom","left","right","chartArea"];function Zg(t,e){return t==="top"||t==="bottom"||oM.indexOf(t)===-1&&e==="x"}function em(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function tm(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),se(n&&n.onComplete,[t],e)}function lM(t){const e=t.chart,n=e.options.animation;se(n&&n.onProgress,[t],e)}function ix(t){return qd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const cl={},nm=t=>{const e=ix(t);return Object.values(cl).filter(n=>n.canvas===e).pop()};function aM(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function cM(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Uo(t,e,n){return t.options.clip?t[n]:e[n]}function uM(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Uo(n,e,"left"),right:Uo(n,e,"right"),top:Uo(i,e,"top"),bottom:Uo(i,e,"bottom")}:e}var pn;let ja=(pn=class{static register(...e){jt.add(...e),im()}static unregister(...e){jt.remove(...e),im()}constructor(e,n){const i=this.config=new nM(n),s=ix(e),r=nm(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||TN(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,o.aspectRatio),a=l&&l.canvas,c=a&&a.height,u=a&&a.width;if(this.id=TI(),this.ctx=l,this.canvas=a,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $N,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KI(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],cl[this.id]=this,!l||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Yt.listen(this,"complete",tm),Yt.listen(this,"progress",lM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return Q(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return jt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ig(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Eg(this.canvas,this.ctx),this}stop(){return Yt.stop(this),this}resize(e,n){Yt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ig(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),se(i.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Y(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const l=n[o],a=ih(o,l),c=a==="r",u=a==="x";return{options:l,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Y(r,o=>{const l=o.options,a=l.id,c=ih(a,l),u=K(l.type,o.dtype);(l.position===void 0||Zg(l.position,c)!==Zg(o.dposition))&&(l.position=o.dposition),s[a]=!0;let h=null;if(a in i&&i[a].type===u)h=i[a];else{const d=jt.getScale(u);h=new d({id:a,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,e)}),Y(s,(o,l)=>{o||delete i[l]}),Y(i,o=>{gt.configure(this,o,o.options),gt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(em("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=r.indexAxis||nh(l,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const a=jt.getController(l),{datasetElementType:c,dataElementType:u}=ge.datasets[l];Object.assign(a,{dataElementType:jt.getElement(u),datasetElementType:c&&jt.getElement(c)}),o.controller=new a(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Y(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Y(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(em("z","_idx"));const{_active:l,_lastEvent:a}=this;a?this._eventHandler(a,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Y(this.scales,e=>{gt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!pg(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;aM(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!pg(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Y(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,$n(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yt.has(this)?this.attached&&!Yt.running(this)&&Yt.start(this):(this.draw(),tm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=uM(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Yd(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&Kd(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return F0(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=oN.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ks(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);Gr(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(l=>l.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Yt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Eg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete cl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};Y(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(a,c)=>{n.addEventListener(this,a,c),e[a]=c},s=(a,c)=>{e[a]&&(n.removeEventListener(this,a,c),delete e[a])},r=(a,c)=>{this.canvas&&this.resize(a,c)};let o;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Y(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Y(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,l,a;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,a=e.length;l<a;++l){o=e[l];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!ea(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(a,c)=>a.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),l=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,l=this._getActiveElements(e,s,i,o),a=DI(e),c=cM(e,this._lastEvent,i,a);i&&(this._lastEvent=null,se(r.onHover,[e,l,this],this),a&&se(r.onClick,[e,l,this],this));const u=!ea(l,s);return(u||n)&&(this._active=l,this._updateHoverStyles(l,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},H(pn,"defaults",ge),H(pn,"instances",cl),H(pn,"overrides",bi),H(pn,"registry",jt),H(pn,"version",rM),H(pn,"getChart",nm),pn);function im(){return Y(ja.instances,t=>t._plugins.invalidate())}function sx(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let l,a,c,u,h;return t.horizontal?(h=o/2,l=Math.min(n,s),a=Math.max(n,s),c=i-h,u=i+h):(h=r/2,l=n-h,a=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:l,top:c,right:a,bottom:u}}function Cn(t,e,n,i){return t?0:Pt(e,n,i)}function hM(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=j0(i);return{t:Cn(s.top,r.top,0,n),r:Cn(s.right,r.right,0,e),b:Cn(s.bottom,r.bottom,0,n),l:Cn(s.left,r.left,0,e)}}function dM(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=ts(s),o=Math.min(e,n),l=t.borderSkipped,a=i||$(s);return{topLeft:Cn(!a||l.top||l.left,r.topLeft,0,o),topRight:Cn(!a||l.top||l.right,r.topRight,0,o),bottomLeft:Cn(!a||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:Cn(!a||l.bottom||l.right,r.bottomRight,0,o)}}function fM(t){const e=sx(t),n=e.right-e.left,i=e.bottom-e.top,s=hM(t,n/2,i/2),r=dM(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Oc(t,e,n,i){const s=e===null,r=n===null,l=t&&!(s&&r)&&sx(t,i);return l&&(s||$i(e,l.left,l.right))&&(r||$i(n,l.top,l.bottom))}function pM(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function gM(t,e){t.rect(e.x,e.y,e.w,e.h)}function Lc(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class ul extends Yn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=fM(this),l=pM(o.radius)?sa:gM;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),l(e,Lc(o,n,r)),e.clip(),l(e,Lc(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,Lc(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Oc(this,e,n,i)}inXRange(e,n){return Oc(this,e,null,n)}inYRange(e,n){return Oc(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}H(ul,"id","bar"),H(ul,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),H(ul,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const sm=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},mM=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class rm extends Yn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=se(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ze(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:a}=sm(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,l,a)+10):(u=this.maxHeight,c=this._fitCols(o,s,l,a)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+l;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((g,_)=>{const v=i+n/2+r.measureText(g.text).width;(_===0||c[c.length-1]+v+2*l>o)&&(h+=u,c[c.length-(_>0?0:1)]=0,f+=u,d++),a[_]={left:0,top:f,row:d,width:v,height:s},c[c.length-1]+=v+l}),h}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=l,d=0,f=0,g=0,_=0;return this.legendItems.forEach((v,p)=>{const{itemWidth:m,itemHeight:y}=_M(i,n,r,v,s);p>0&&f+y+2*l>u&&(h+=d+l,c.push({width:d,height:f}),g+=d+l,_++,d=f=0),a[p]={left:g,top:f,col:_,width:m,height:y},d=Math.max(d,m),f+=y+l}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=ns(r,this.left,this.width);if(this.isHorizontal()){let l=0,a=Oe(i,this.left+s,this.right-this.lineWidths[l]);for(const c of n)l!==c.row&&(l=c.row,a=Oe(i,this.left+s,this.right-this.lineWidths[l])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(a),c.width),a+=c.width+s}else{let l=0,a=Oe(i,this.top+e+s,this.bottom-this.columnSizes[l].height);for(const c of n)c.col!==l&&(l=c.col,a=Oe(i,this.top+e+s,this.bottom-this.columnSizes[l].height)),c.top=a,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),a+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Yd(e,this),this._draw(),Kd(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,l=ge.color,a=ns(e.rtl,this.left,this.width),c=ze(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),s.textAlign=a.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:g,boxHeight:_,itemHeight:v}=sm(o,h),p=function(C,E,b){if(isNaN(g)||g<=0||isNaN(_)||_<0)return;s.save();const R=K(b.lineWidth,1);if(s.fillStyle=K(b.fillStyle,l),s.lineCap=K(b.lineCap,"butt"),s.lineDashOffset=K(b.lineDashOffset,0),s.lineJoin=K(b.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=K(b.strokeStyle,l),s.setLineDash(K(b.lineDash,[])),o.usePointStyle){const M={radius:_*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:R},A=a.xPlus(C,g/2),W=E+d;L0(s,M,A,W,o.pointStyleWidth&&g)}else{const M=E+Math.max((h-_)/2,0),A=a.leftForLtr(C,g),W=ts(b.borderRadius);s.beginPath(),Object.values(W).some(_e=>_e!==0)?sa(s,{x:A,y:M,w:g,h:_,radius:W}):s.rect(A,M,g,_),s.fill(),R!==0&&s.stroke()}s.restore()},m=function(C,E,b){Qr(s,b.text,C,E+v/2,c,{strikethrough:b.hidden,textAlign:a.textAlign(b.textAlign)})},y=this.isHorizontal(),w=this._computeTitleHeight();y?f={x:Oe(r,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Oe(r,this.top+w+u,this.bottom-n[0].height),line:0},U0(this.ctx,e.textDirection);const S=v+u;this.legendItems.forEach((C,E)=>{s.strokeStyle=C.fontColor,s.fillStyle=C.fontColor;const b=s.measureText(C.text).width,R=a.textAlign(C.textAlign||(C.textAlign=o.textAlign)),M=g+d+b;let A=f.x,W=f.y;a.setWidth(this.width),y?E>0&&A+M+u>this.right&&(W=f.y+=S,f.line++,A=f.x=Oe(r,this.left+u,this.right-i[f.line])):E>0&&W+S>this.bottom&&(A=f.x=A+n[f.line].width+u,f.line++,W=f.y=Oe(r,this.top+w+u,this.bottom-n[f.line].height));const _e=a.x(A);if(p(_e,W,C),A=GI(R,A+g+d,y?A+M:this.right,e.rtl),m(a.x(A),W,C),y)f.x+=M+u;else if(typeof C.text!="string"){const st=c.lineHeight;f.y+=rx(C,st)+u}else f.y+=S}),$0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ze(n.font),s=xt(n.padding);if(!n.display)return;const r=ns(e.rtl,this.left,this.width),o=this.ctx,l=n.position,a=i.size/2,c=s.top+a;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=Oe(e.align,h,this.right-d);else{const g=this.columnSizes.reduce((_,v)=>Math.max(_,v.height),0);u=c+Oe(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Oe(l,h,h+d);o.textAlign=r.textAlign($d(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Qr(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=ze(e.font),i=xt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if($i(e,this.left,this.right)&&$i(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],$i(e,s.left,s.left+s.width)&&$i(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!xM(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=mM(s,i);s&&!r&&se(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&se(n.onHover,[e,i,this],this)}else i&&se(n.onClick,[e,i,this],this)}}function _M(t,e,n,i,s){const r=yM(i,t,e,n),o=vM(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function yM(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function vM(t,e,n){let i=t;return typeof e.text!="string"&&(i=rx(e,n)),i}function rx(t,e){const n=t.text?t.text.length:0;return e*n}function xM(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wM={id:"legend",_element:rm,start(t,e,n){const i=t.legend=new rm({ctx:t.ctx,options:n,chart:t});gt.configure(t,i,n),gt.addBox(t,i)},stop(t){gt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;gt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(n?0:void 0),u=xt(c.borderWidth);return{text:e[a.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(l||c.borderRadius),datasetIndex:a.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ox extends Yn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Se(i.text)?i.text.length:1;this._padding=xt(i.padding);const r=s*ze(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,l=o.align;let a=0,c,u,h;return this.isHorizontal()?(u=Oe(l,i,r),h=n+e,c=r-i):(o.position==="left"?(u=i+e,h=Oe(l,s,n),a=je*-.5):(u=r-e,h=Oe(l,n,s),a=je*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:a}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ze(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:a,rotation:c}=this._drawArgs(r);Qr(e,n.text,0,0,i,{color:n.color,maxWidth:a,rotation:c,textAlign:$d(n.align),textBaseline:"middle",translation:[o,l]})}}function SM(t,e){const n=new ox({ctx:t.ctx,options:e,chart:t});gt.configure(t,n,e),gt.addBox(t,n),t.titleBlock=n}var CM={id:"title",_element:ox,start(t,e,n){SM(t,n)},stop(t){const e=t.titleBlock;gt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;gt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qs={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const a=l.tooltipPosition();i.add(a.x),s+=a.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((l,a)=>l+a)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=t.length;r<o;++r){const a=t[r].element;if(a&&a.hasValue()){const c=a.getCenterPoint(),u=WI(e,c);u<s&&(s=u,l=a)}}if(l){const a=l.tooltipPosition();n=a.x,i=a.y}return{x:n,y:i}}};function Ft(t,e){return e&&(Se(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Kt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function EM(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:l}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function om(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:l}=e,a=ze(e.bodyFont),c=ze(e.titleFont),u=ze(e.footerFont),h=r.length,d=s.length,f=i.length,g=xt(e.padding);let _=g.height,v=0,p=i.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(_+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const w=e.displayColors?Math.max(l,a.lineHeight):a.lineHeight;_+=f*w+(p-f)*a.lineHeight+(p-1)*e.bodySpacing}d&&(_+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let m=0;const y=function(w){v=Math.max(v,n.measureText(w).width+m)};return n.save(),n.font=c.string,Y(t.title,y),n.font=a.string,Y(t.beforeBody.concat(t.afterBody),y),m=e.displayColors?o+2+e.boxPadding:0,Y(i,w=>{Y(w.before,y),Y(w.lines,y),Y(w.after,y)}),m=0,n.font=u.string,Y(t.footer,y),n.restore(),v+=g.width,{width:v,height:_}}function bM(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function kM(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function TM(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:l,right:a}}=t;let c="center";return i==="center"?c=s<=(l+a)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),kM(c,t,e,n)&&(c="center"),c}function lm(t,e,n){const i=n.yAlign||e.yAlign||bM(t,n);return{xAlign:n.xAlign||e.xAlign||TM(t,e,n,i),yAlign:i}}function IM(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function PM(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function am(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:l,yAlign:a}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=ts(o);let g=IM(e,l);const _=PM(e,a,c);return a==="center"?l==="left"?g+=c:l==="right"&&(g-=c):l==="left"?g-=Math.max(u,d)+s:l==="right"&&(g+=Math.max(h,f)+s),{x:Pt(g,0,i.width-e.width),y:Pt(_,0,i.height-e.height)}}function $o(t,e,n){const i=xt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function cm(t){return Ft([],Kt(t))}function NM(t,e,n){return ks(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function um(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const lx={beforeTitle:$t,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:$t,beforeBody:$t,beforeLabel:$t,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Q(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$t,afterBody:$t,beforeFooter:$t,footer:$t,afterFooter:$t};function Ge(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?lx[e].call(n,i):s}class sh extends Yn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new Y0(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=NM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Ge(i,"beforeTitle",this,e),r=Ge(i,"title",this,e),o=Ge(i,"afterTitle",this,e);let l=[];return l=Ft(l,Kt(s)),l=Ft(l,Kt(r)),l=Ft(l,Kt(o)),l}getBeforeBody(e,n){return cm(Ge(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Y(e,r=>{const o={before:[],lines:[],after:[]},l=um(i,r);Ft(o.before,Kt(Ge(l,"beforeLabel",this,r))),Ft(o.lines,Ge(l,"label",this,r)),Ft(o.after,Kt(Ge(l,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return cm(Ge(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Ge(i,"beforeFooter",this,e),r=Ge(i,"footer",this,e),o=Ge(i,"afterFooter",this,e);let l=[];return l=Ft(l,Kt(s)),l=Ft(l,Kt(r)),l=Ft(l,Kt(o)),l}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let l=[],a,c;for(a=0,c=n.length;a<c;++a)l.push(EM(this.chart,n[a]));return e.filter&&(l=l.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,i))),Y(l,u=>{const h=um(e.callbacks,u);s.push(Ge(h,"labelColor",this,u)),r.push(Ge(h,"labelPointStyle",this,u)),o.push(Ge(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const l=qs[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const a=this._size=om(this,i),c=Object.assign({},l,a),u=lm(this.chart,i,c),h=am(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:a.width,height:a.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:a,topRight:c,bottomLeft:u,bottomRight:h}=ts(l),{x:d,y:f}=e,{width:g,height:_}=n;let v,p,m,y,w,S;return r==="center"?(w=f+_/2,s==="left"?(v=d,p=v-o,y=w+o,S=w-o):(v=d+g,p=v+o,y=w-o,S=w+o),m=v):(s==="left"?p=d+Math.max(a,u)+o:s==="right"?p=d+g-Math.max(c,h)-o:p=this.caretX,r==="top"?(y=f,w=y-o,v=p-o,m=p+o):(y=f+_,w=y+o,v=p+o,m=p-o),S=y),{x1:v,x2:p,x3:m,y1:y,y2:w,y3:S}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,l,a;if(r){const c=ns(i.rtl,this.x,this.width);for(e.x=$o(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ze(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,a+1===r&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:a,boxWidth:c}=r,u=ze(r.bodyFont),h=$o(this,"left",r),d=s.x(h),f=a<u.lineHeight?(u.lineHeight-a)/2:0,g=n.y+f;if(r.usePointStyle){const _={radius:Math.min(c,a)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=s.leftForLtr(d,c)+c/2,p=g+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,bg(e,_,v,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,bg(e,_,v,p)}else{e.lineWidth=$(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=s.leftForLtr(d,c),v=s.leftForLtr(s.xPlus(d,1),c-2),p=ts(o.borderRadius);Object.values(p).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,sa(e,{x:_,y:g,w:c,h:a,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),sa(e,{x:v,y:g+1,w:c-2,h:a-2,radius:p}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,g,c,a),e.strokeRect(_,g,c,a),e.fillStyle=o.backgroundColor,e.fillRect(v,g+1,c-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:a,boxWidth:c,boxPadding:u}=i,h=ze(i.bodyFont);let d=h.lineHeight,f=0;const g=ns(i.rtl,this.x,this.width),_=function(b){n.fillText(b,g.x(e.x+f),e.y+d/2),e.y+=d+r},v=g.textAlign(o);let p,m,y,w,S,C,E;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=$o(this,v,i),n.fillStyle=i.bodyColor,Y(this.beforeBody,_),f=l&&v!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,C=s.length;w<C;++w){for(p=s[w],m=this.labelTextColors[w],n.fillStyle=m,Y(p.before,_),y=p.lines,l&&y.length&&(this._drawColorBox(n,e,w,g,i),d=Math.max(h.lineHeight,a)),S=0,E=y.length;S<E;++S)_(y[S]),d=h.lineHeight;Y(p.after,_)}f=0,d=h.lineHeight,Y(this.afterBody,_),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,l;if(r){const a=ns(i.rtl,this.x,this.width);for(e.x=$o(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=a.textAlign(i.footerAlign),n.textBaseline="middle",o=ze(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],a.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:l,y:a}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=ts(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+h,a),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(l+c-d,a),n.quadraticCurveTo(l+c,a,l+c,a+d),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(l+c,a+u-g),n.quadraticCurveTo(l+c,a+u,l+c-g,a+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(l+f,a+u),n.quadraticCurveTo(l,a+u,l,a+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(l,a+h),n.quadraticCurveTo(l,a,l+h,a),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=qs[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=om(this,e),a=Object.assign({},o,this._size),c=lm(n,e,a),u=am(e,a,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xt(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),U0(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),$0(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:l,index:a})=>{const c=this.chart.getDatasetMeta(l);if(!c)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:c.data[a],index:a}}),r=!ea(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),l=this._positionChanged(o,e),a=n||!ea(o,r)||l;return a&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),a}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=qs[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}H(sh,"positioners",qs);var MM={id:"tooltip",_element:sh,positioners:qs,afterInit(t,e,n){n&&(t.tooltip=new sh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const RM=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function DM(t,e,n,i){const s=t.indexOf(e);if(s===-1)return RM(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const AM=(t,e)=>t===null?null:Pt(Math.round(t),0,e);function hm(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class rh extends Ts{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Q(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:DM(i,e,K(n,e),this._addedLabels),AM(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return hm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}H(rh,"id","category"),H(rh,"defaults",{ticks:{callback:hm}});function OM(t,e){const n=[],{bounds:s,step:r,min:o,max:l,precision:a,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,g=u-1,{min:_,max:v}=e,p=!Q(o),m=!Q(l),y=!Q(c),w=(v-_)/(h+1);let S=mg((v-_)/g/f)*f,C,E,b,R;if(S<1e-14&&!p&&!m)return[{value:_},{value:v}];R=Math.ceil(v/S)-Math.floor(_/S),R>g&&(S=mg(R*S/g/f)*f),Q(a)||(C=Math.pow(10,a),S=Math.ceil(S*C)/C),s==="ticks"?(E=Math.floor(_/S)*S,b=Math.ceil(v/S)*S):(E=_,b=v),p&&m&&r&&FI((l-o)/r,S/1e3)?(R=Math.round(Math.min((l-o)/S,u)),S=(l-o)/R,E=o,b=l):y?(E=p?o:E,b=m?l:b,R=c-1,S=(b-E)/R):(R=(b-E)/S,ol(R,Math.round(R),S/1e3)?R=Math.round(R):R=Math.ceil(R));const M=Math.max(_g(S),_g(E));C=Math.pow(10,Q(a)?M:a),E=Math.round(E*C)/C,b=Math.round(b*C)/C;let A=0;for(p&&(d&&E!==o?(n.push({value:o}),E<o&&A++,ol(Math.round((E+A*S)*C)/C,o,dm(o,w,t))&&A++):E<o&&A++);A<R;++A){const W=Math.round((E+A*S)*C)/C;if(m&&W>l)break;n.push({value:W})}return m&&d&&b!==l?n.length&&ol(n[n.length-1].value,l,dm(l,w,t))?n[n.length-1].value=l:n.push({value:l}):(!m||b===l)&&n.push({value:b}),n}function dm(t,e,{horizontal:n,minRotation:i}){const s=di(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class LM extends Ts{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Q(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=a=>s=n?s:a,l=a=>r=i?r:a;if(e){const a=jn(s),c=jn(r);a<0&&c<0?l(0):a>0&&c>0&&o(0)}if(s===r){let a=r===0?1:Math.abs(r*.05);l(r+a),e||o(s-a)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=OM(s,r);return e.bounds==="ticks"&&zI(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return A0(e,this.chart.options.locale,this.options.ticks.format)}}class oh extends LM{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=vt(e)?e:0,this.max=vt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=di(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}H(oh,"id","linear"),H(oh,"defaults",{ticks:{callback:O0.formatters.numeric}});const Ba={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xe=Object.keys(Ba);function fm(t,e){return t-e}function pm(t,e){if(Q(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),vt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ia(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function gm(t,e,n,i){const s=Xe.length;for(let r=Xe.indexOf(t);r<s-1;++r){const o=Ba[Xe[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=i)return Xe[r]}return Xe[s-1]}function FM(t,e,n,i,s){for(let r=Xe.length-1;r>=Xe.indexOf(n);r--){const o=Xe[r];if(Ba[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Xe[n?Xe.indexOf(n):0]}function zM(t){for(let e=Xe.indexOf(t)+1,n=Xe.length;e<n;++e)if(Ba[Xe[e]].common)return Xe[e]}function mm(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Ud(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function jM(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let l,a;for(l=r;l<=o;l=+s.add(l,1,i))a=n[l],a>=0&&(e[a].major=!0);return e}function _m(t,e,n){const i=[],s={},r=e.length;let o,l;for(o=0;o<r;++o)l=e[o],s[l]=o,i.push({value:l,major:!1});return r===0||!n?i:jM(t,i,s,n)}class la extends Ts{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new tN._date(e.adapters.date);s.init(n),dr(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:pm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function a(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!l&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!l)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),s=vt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=vt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,l=$I(s,r,o);return this._unit=n.unit||(i.autoSkip?gm(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):FM(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:zM(this._unit),this.initOffsets(s),e.reverse&&l.reverse(),_m(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Pt(n,0,o),i=Pt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||gm(r.minUnit,n,i,this._getLabelCapacity(n)),l=K(s.ticks.stepSize,1),a=o==="week"?r.isoWeekday:!1,c=ia(a)||a===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,l,o),f++)mm(u,d,g);return(d===i||s.bounds==="ticks"||f===1)&&mm(u,d,g),Object.keys(u).sort(fm).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return se(o,[e,n,i],this);const l=r.time.displayFormats,a=this._unit,c=this._majorUnit,u=a&&l[a],h=c&&l[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,s||(f?h:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=di(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*r+l*o,h:i*o+l*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,_m(this,[e],this._majorUnit),s),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(pm(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return N0(e.sort(fm))}}H(la,"id","time"),H(la,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yo(t,e,n){let i=0,s=t.length-1,r,o,l,a;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=eh(t,"pos",e)),{pos:r,time:l}=t[i],{pos:o,time:a}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=eh(t,"time",e)),{time:r,pos:l}=t[i],{time:o,pos:a}=t[s]);const c=o-r;return c?l+(a-l)*(e-r)/c:l}class ym extends la{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yo(n,this.min),this._tableRange=Yo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,l,a,c,u;for(o=0,l=e.length;o<l;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=s.length;o<l;++o)u=s[o+1],a=s[o-1],c=s[o],Math.round((u+a)/2)!==c&&r.push({time:c,pos:o/(l-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Yo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Yo(this._table,i*this._tableRange+this._minPos,!0)}}H(ym,"id","timeseries"),H(ym,"defaults",la.defaults);const ax="label";function vm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function BM(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function cx(t,e){t.labels=e}function ux(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ax;const i=[];t.datasets=e.map(s=>{const r=t.datasets.find(o=>o[n]===s[n]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function WM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ax;const n={labels:[],datasets:[]};return cx(n,t.labels),ux(n,t.datasets,e),n}function HM(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:o,data:l,options:a,plugins:c=[],fallbackContent:u,updateMode:h,...d}=t,f=I.useRef(null),g=I.useRef(null),_=()=>{f.current&&(g.current=new ja(f.current,{type:o,data:WM(l,r),options:a&&{...a},plugins:c}),vm(e,g.current))},v=()=>{vm(e,null),g.current&&(g.current.destroy(),g.current=null)};return I.useEffect(()=>{!s&&g.current&&a&&BM(g.current,a)},[s,a]),I.useEffect(()=>{!s&&g.current&&cx(g.current.config.data,l.labels)},[s,l.labels]),I.useEffect(()=>{!s&&g.current&&l.datasets&&ux(g.current.config.data,l.datasets,r)},[s,l.datasets]),I.useEffect(()=>{g.current&&(s?(v(),setTimeout(_)):g.current.update(h))},[s,a,l.labels,l.datasets,h]),I.useEffect(()=>{g.current&&(v(),setTimeout(_))},[o]),I.useEffect(()=>(_(),()=>v()),[]),hh.createElement("canvas",{ref:f,role:"img",height:n,width:i,...d},u)}const VM=I.forwardRef(HM);function UM(t,e){return ja.register(e),I.forwardRef((n,i)=>hh.createElement(VM,{...n,ref:i,type:t}))}const $M=UM("bar",ll);ja.register(rh,oh,ul,CM,MM,wM);const YM=()=>{const[t,e]=I.useState({totalVisitors:0,dailyVisits:[]}),[n,i]=I.useState(null);I.useEffect(()=>{(async()=>{try{const l=new Date().toISOString().split("T")[0],a=Gu(Ju,"visits");(await S0(a)).exists()||await Xu(a,{[l]:0});const u=TT(a,async h=>{try{const d=h.val()||{};console.log("Database state:",{visits:d});const f=Object.entries(d).map(([_,v])=>({date:_,visits:v})).sort((_,v)=>new Date(_.date)-new Date(v.date)).slice(-30),g=Object.values(d).reduce((_,v)=>_+v,0);e({totalVisitors:g,dailyVisits:f})}catch(d){console.error("Error fetching data:",d),i(d.message)}});return()=>u()}catch(l){console.error("Database initialization error:",l),i(l.message)}})()},[]);const s={labels:t.dailyVisits.map(o=>new Date(o.date).toLocaleDateString()),datasets:[{data:t.dailyVisits.map(o=>o.visits),backgroundColor:"rgba(56, 189, 248, 0.7)",borderColor:"rgb(56, 189, 248)",borderWidth:1,borderRadius:4,barThickness:32}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgb(51, 65, 85)",titleColor:"rgb(226, 232, 240)",bodyColor:"rgb(226, 232, 240)",borderColor:"rgb(71, 85, 105)",borderWidth:1,padding:10,displayColors:!1,callbacks:{title:o=>"Visitors",label:o=>o.formattedValue}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"rgb(148, 163, 184)",font:{size:12}}},x:{grid:{display:!1},ticks:{color:"rgb(148, 163, 184)",font:{size:12}}}}};return x.jsxs("div",{className:"App bg-slate-900 text-gray-100",children:[x.jsx(ho,{}),x.jsxs("div",{className:"mx-auto max-w-screen-lg px-3 py-6",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsxs("h1",{className:"text-3xl font-bold",children:["Website ",x.jsx("span",{className:"bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-transparent",children:"Statistics"})]}),x.jsx("div",{className:"mt-3 text-gray-200",children:"Track the website's visitor activity and engagement"})]}),x.jsxs("div",{className:"p-16 mb-6 text-center",children:[x.jsx("h2",{className:"text-2xl text-gray-400 mb-6",children:"Total Visitors"}),x.jsx("div",{className:"flex justify-center items-center",children:x.jsx("div",{className:"font-mono text-[88px] font-bold tracking-wider bg-gradient-to-r from-sky-500 to-cyan-400 bg-clip-text text-transparent",children:t.totalVisitors})})]}),x.jsxs("div",{className:"rounded-lg bg-slate-800 p-6",children:[x.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Daily ",x.jsx("span",{className:"bg-gradient-to-br from-sky-500 to-cyan-400 bg-clip-text text-transparent",children:"Visits"})]}),x.jsx("div",{className:"h-[300px]",children:x.jsx($M,{data:s,options:r})})]}),x.jsx("div",{className:"mt-6 text-sm text-gray-400 text-center",children:"This website uses Firebase Analytics to track visits. Duplicate visits from the same user are filtered to ensure data accuracy."})]}),x.jsx(io,{})]})};function KM(){return x.jsx(WC,{children:x.jsx("div",{className:"App bg-slate-900 text-gray-100",children:x.jsxs(AC,{children:[x.jsx(ii,{path:"/info-resume-website",element:x.jsx(JT,{})}),x.jsx(ii,{path:"/info-resume-website/posts/:id",element:x.jsx(ZT,{})}),x.jsx(ii,{path:"/info-resume-website/projects",element:x.jsx(eI,{})}),x.jsx(ii,{path:"/info-resume-website/posts",element:x.jsx(iI,{})}),x.jsx(ii,{path:"/info-resume-website/visitors",element:x.jsx(YM,{})}),x.jsx(ii,{path:"*",element:x.jsx(RC,{to:"/info-resume-website"})})]})})})}Ry(document.getElementById("root")).render(x.jsx(I.StrictMode,{children:x.jsx(KM,{})}));
